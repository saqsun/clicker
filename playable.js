!function(){"use strict";var e,t={6139:function(e){e.exports=[]},4263:function(e,t,n){n.r(t),n.d(t,{ParticleEffectDisplayObject:function(){return p}});n(489),n(2419),n(4819),n(5003);var r=n(6783),o=n(6448),i=n(7274),a=n(4175);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(p,e);var t,n,r,f=l(p);function p(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);var n=e.data,r=e.x,a=void 0===r?0:r,u=e.y,c=void 0===u?0:u,s=e.scale,l=void 0===s?new i.E9(1,1):s;return(t=f.call(this,n,o.xE.from)).position.set(a,c),t.scale.copyFrom(l),t}return t=p,(n=[{key:"start",value:function(){c(d(p.prototype),"start",this).call(this),a.vB.shared.add(this.update,this)}},{key:"update",value:function(){c(d(p.prototype),"update",this).call(this,a.vB.shared.deltaMS)}},{key:"destroy",value:function(){a.vB.shared.remove(this.update,this),c(d(p.prototype),"destroy",this).call(this)}}])&&u(t.prototype,n),r&&u(t,r),p}(r.B)},3430:function(e,t,n){n.r(t),n.d(t,{SpineDisplayObject:function(){return p}});n(489),n(2419),n(4819),n(5003),n(3593);var r=n(4175);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n,r){return(i="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,n,r){var o,i=c(e,t);if(i){if((o=Object.getOwnPropertyDescriptor(i,t)).set)return o.set.call(r,n),!0;if(!o.writable)return!1}if(o=Object.getOwnPropertyDescriptor(r,t)){if(!o.writable)return!1;o.value=n,Object.defineProperty(r,t,o)}else!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(r,t,n);return!0})(e,t,n,r)}function a(e,t,n,r,o){if(!i(e,t,n,r||e)&&o)throw new Error("failed to set property");return n}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(f,e);var t,n,i,c=l(f);function f(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),c.call(this,e)}return t=f,(n=[{key:"update",value:function(){u(d(f.prototype),"update",this).call(this,r.vB.shared.deltaMS/1e3)}},{key:"destroy",value:function(){r.vB.shared.remove(this.update,this),u(d(f.prototype),"destroy",this).call(this)}},{key:"state",get:function(){return u(d(f.prototype),"state",this)},set:function(e){a(d(f.prototype),"state",e,this,!0)}}])&&o(t.prototype,n),i&&o(t,i),f}(n(1987).Spine)},7326:function(e,t,n){var r,o=n(6016),i=n(3379),a=n.n(i),u=n(5970),c={insert:"head",singleton:!1};a()(u.Z,c),u.Z.locals;!function(e){e.init="GameEventInit",e.preload="GameEventPreload",e.start="GameEventStart",e.loadProgress="GameEventLoadProgress",e.load="GameEventLoad",e.resize="GameEventResize",e.firstInteraction="GameEventFirstInteraction",e.resume="GameEventResume",e.pause="GameEventPause",e.configsUpdate="GameEventConfigsUpdate"}(r||(r={}));n(489),n(2419);var s=n(8714),l=(n(2222),n(2526),n(1817),n(1539),n(6992),n(3948),n(1038),n(7042),n(6448)),f=n(7274),d=(n(3187),n(5009),n(5166),n(1538)),p=n(4175);var h=function(e,t){return window.matchMedia("(orientation: portrait)").matches?t:window.matchMedia("(orientation: landscape)").matches?e:void 0},y=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=1e3*e,u=function e(){(a-=p.vB.shared.deltaMS)<=0&&(t.call.apply(t,[n].concat(o)),p.vB.shared.remove(e))};return p.vB.shared.add(u),u},v=function(e){p.vB.shared.remove(e)},m=function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];var a=1e3*e,u=function(){(a-=p.vB.shared.deltaMS)<=0&&(t.call.apply(t,[n].concat(o)),a=1e3*e)};return p.vB.shared.add(u),u},b=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];y.apply(void 0,[p.vB.shared.deltaMS/1e3,e,t].concat(r))};function g(e){var t=e.text,n=e.style,r=e.x,o=void 0===r?0:r,i=e.y,a=void 0===i?0:i,u=e.anchor,c=void 0===u?new f.E9(.5,.5):u,s=new d.xv(t,n);return s.anchor.copyFrom(c),s.position.set(o,a),s}var _=function e(t,n,r){var o=game,i=(r||o.stage).children;if(!i||0===i.length)return null;for(var a=0;a<i.length;a+=1){var u=i[a];if(u[t]===n)return u;if(Object.prototype.hasOwnProperty.call(u,"children")){var c=e(t,n,u);if(c)return c}}return null},w=(n(3290),function(){return{name:"background",cells:[{name:"bg",bounds:{x:0,y:0,width:1,height:1},scale:s.P1.fill}]}}),O=function(){return{name:"background",cells:[{name:"bg",bounds:{x:0,y:0,width:1,height:1},scale:s.P1.fill}]}},P=function(){return{name:"foreground",cells:[{name:"logo",bounds:{x:0,height:.2},offset:{x:40},align:s.Oo.leftCenter},{name:"sound",bounds:{x:0,height:.1},offset:{x:40},align:s.Oo.leftCenter},{name:"tutorial",bounds:{x:0,y:.7}},{name:"cta_logo",bounds:{x:0,y:0,width:1,height:1}}]}},k=function(){return{name:"foreground",cells:[{name:"logo",bounds:{x:0,height:.14}},{name:"sound",bounds:{x:0,height:.06}},{name:"tutorial",bounds:{x:0,y:.5}},{name:"cta_logo",bounds:{x:0,y:0,width:1,height:1}}]}},j=function(){return{name:"game",cells:[{name:"level",bounds:{x:.2,y:.16,width:.6,height:.5}},{name:"friends",bounds:{x:.2,width:.6,height:.2}}]}},U=function(){return{name:"game",cells:[{name:"level",bounds:{x:0,y:.105,width:1,height:.35},padding:{y:.05,height:.9}},{name:"friends",bounds:{x:0,width:1,height:.08}}]}},x=function(){return{debug:{color:9999508},name:"level",cells:[{name:"actor",bounds:{x:0,y:0,width:1,height:1}}]}},C=function(){return{debug:{color:9999508},name:"level",cells:[{name:"actor",bounds:{x:0,y:0,width:1,height:1}}]}},R=function(){return{name:"main",bounds:game.viewBounds,padding:{y:.05}}},B=function(){return{name:"main",bounds:game.viewBounds,padding:{y:.05}}},H=function(){return{debug:{color:13097184},name:"ui",cells:[{name:"level",bounds:{x:0,width:.5,y:0,height:.08}},{name:"wave",bounds:{x:.5,width:.5,y:0,height:.08}},{name:"hp",bounds:{x:0,y:.08,height:.08}},{name:"damage",bounds:{x:0,y:.86,height:.07}},{name:"money",bounds:{x:0,y:.93,height:.07}},{name:"menu",bounds:{x:0,y:.705,height:1-.705}}]}},S=function(){return{debug:{color:13097184},name:"ui",cells:[{name:"level",bounds:{x:0,width:.5,y:0,height:.035}},{name:"level",bounds:{x:0,width:.5,y:0,height:.035}},{name:"wave",bounds:{x:0,width:.5,y:.035,height:.035}},{name:"damage",bounds:{x:.5,width:.5,y:0,height:.035}},{name:"money",bounds:{x:.5,width:.5,y:.035,height:.035}},{name:"hp",bounds:{x:0,y:.07,height:.035}},{name:"menu",bounds:{x:0,y:.6}}]}},E=n(8215);function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(i,e);var t,n,r,o=I(i);function i(){var e,t,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e=o.call(this),t=L(e),r=void 0,(n="_bg")in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,e.name="BackgroundView",e._createBg(),e}return t=i,(n=[{key:"getGridConfig",value:function(){return h(w,O).call(null)}},{key:"_createBg",value:function(){var e=new E.TC;e.beginFill(14737632),e.drawRect(0,0,1,1),e.endFill(),this.setChild("bg",e)}}])&&F(t.prototype,n),r&&F(t,r),i}(s.D3);function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N,Z,J,W,K,Q,X,Y,ee,te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(i,e);var t,n,r,o=q(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(e=o.call(this)).name="ForegroundView",e}return t=i,(n=[{key:"getGridConfig",value:function(){return h(P,k).call(null)}},{key:"_build",value:function(){}}])&&z(t.prototype,n),r&&z(t,r),i}(s.D3);!function(e){e.hpUpdate="BossModelHpUpdate",e.defeatUpdate="BossModelDefeatUpdate",e.reviveTimerCompleteUpdate="BossModelReviveTimerCompleteUpdate",e.timeUpdate="BossModelTimeUpdate"}(N||(N={})),function(e){e.hpUpdate="BotModelHpUpdate",e.moneyUpdate="BotModelMoneyUpdate",e.defeatUpdate="BotModelDefeatUpdate"}(Z||(Z={})),function(e){e.indexUpdate="FriendModelIndexUpdate",e.iconColorUpdate="FriendModelIconColorUpdate",e.isActiveUpdate="FriendModelIsActiveUpdate",e.costUpdate="FriendModelCostUpdate",e.dmgPlusUpdate="FriendModelDmgPlusUpdate",e.damageUpdate="FriendModelDamageUpdate",e.nameUpdate="FriendModelNameUpdate",e.activationLevelUpdate="FriendModelActivationLevelUpdate",e.stateUpdate="FriendModelStateUpdate"}(J||(J={})),function(e){e.friendsUpdate="FriendsModelFriendsUpdate",e.upgradeableFriendsUpdate="FriendsModelUpgradeableFriendsUpdate",e.activatableFriendsUpdate="FriendsModelActivatableFriendsUpdate",e.passiveFriendsUpdate="FriendsModelPassiveFriendsUpdate"}(W||(W={})),function(e){e.levelUpdate="GameModelLevelUpdate",e.friendsUpdate="GameModelFriendsUpdate",e.levelIndexUpdate="GameModelLevelIndexUpdate"}(K||(K={})),function(e){e.bossUpdate="LevelModelBossUpdate",e.botUpdate="LevelModelBotUpdate",e.botIndexUpdate="LevelModelBotIndexUpdate"}(Q||(Q={})),function(e){e.uuidUpdate="ObservableModelUuidUpdate"}(X||(X={})),function(e){e.dmgPlusUpdate="PlayerModelDmgPlusUpdate",e.isUpgradeableUpdate="PlayerModelIsUpgradeableUpdate",e.damageUpdate="PlayerModelDamageUpdate",e.updateCostUpdate="PlayerModelUpdateCostUpdate",e.moneyUpdate="PlayerModelMoneyUpdate"}(Y||(Y={})),function(e){e.playerUpdate="StorePlayerUpdate",e.gameUpdate="StoreGameUpdate"}(ee||(ee={}));n(9826),n(4747);var ne=n(7187),re=n.n(ne);n(9714);function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae,ue,ce=(ae=0,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(ae+=1)<10?`0${ae}`:ae;return`${e}${t.toString()}`}),se=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ie(this,"__name__",void 0),ie(this,"_uuid",void 0),this.__name__=t,this._uuid=ce(this.__name__)}var t,n,r;return t=e,(n=[{key:"uuid",get:function(){return this._uuid}},{key:"makeObservable",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=o.q.observe).makeObservable.apply(e,[this].concat(n))}},{key:"createObservable",value:function(e,t){o.q.observe.createObservable(this,e,t)}},{key:"removeObservable",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=o.q.observe).removeObservable.apply(e,[this].concat(n))}},{key:"initialize",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}},{key:"destroy",value:function(){}}])&&oe(t.prototype,n),r&&oe(t,r),e}();function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?he(e):t}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.unknown=0]="unknown",e[e.idle=1]="idle",e[e.action=2]="action"}(ue||(ue={}));var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(i,e);var t,n,r,o=de(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,"FriendModel"))._config=e,n._index=t,ve(he(n),"_cost",void 0),ve(he(n),"_damage",void 0),ve(he(n),"_dmgPlus",void 0),ve(he(n),"_activationLevel",void 0),ve(he(n),"_actionTime",void 0),ve(he(n),"_name",void 0),ve(he(n),"_isActive",void 0),ve(he(n),"_iconColor",Math.floor(16777215*Math.random())),ve(he(n),"_state",ue.unknown),ve(he(n),"_actionRunnable",void 0),n._cost=e.cost,n._damage=e.damage,n._dmgPlus=e.dmgPlus,n._activationLevel=e.activationLevel,n._actionTime=e.actionTime,n._name=e.name,n.makeObservable("_state","_isActive","_cost","_damage","_dmgPlus"),n}return t=i,(n=[{key:"index",get:function(){return this._index}},{key:"iconColor",get:function(){return this._iconColor}},{key:"isActive",get:function(){return this._isActive},set:function(e){this._isActive=e}},{key:"cost",get:function(){return this._cost},set:function(e){this._config.cost=this._cost=e}},{key:"dmgPlus",get:function(){return this._dmgPlus},set:function(e){this._config.dmgPlus=this._dmgPlus=e}},{key:"damage",get:function(){return this._damage},set:function(e){this._config.damage=this._damage=e}},{key:"name",get:function(){return this._name},set:function(e){this._config.name=this._name=e}},{key:"activationLevel",get:function(){return this._activationLevel},set:function(e){this._config.activationLevel=this._activationLevel=e}},{key:"state",get:function(){return this._state},set:function(e){this._state=e}},{key:"setState",value:function(e){this.state=e}},{key:"updateConfig",value:function(){this._cost=this._config.cost,this._damage=this._config.damage,this._dmgPlus=this._config.dmgPlus,this._activationLevel=this._config.activationLevel,this._actionRunnable&&this._actionTime!=this._config.actionTime&&(this._actionTime=this._config.actionTime,this.stopAction(),this.startAction())}},{key:"startAction",value:function(){var e=this;this._actionRunnable=m(this._actionTime,(function(){e.setState(ue.idle),e.setState(ue.action)}))}},{key:"stopAction",value:function(){v(this._actionRunnable),this.setState(ue.idle)}}])&&le(t.prototype,n),r&&le(t,r),i}(se);n(4819),n(5003);function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t,n){return(_e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ke(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function we(e,t){return(we=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var o=ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&we(e,t)}(a,e);var t,n,r,i=Oe(a);function a(){return be(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"destroy",value:function(e){o.q.event.removeListenersOf(this),_e(ke(a.prototype),"destroy",this).call(this,e)}}])&&ge(t.prototype,n),r&&ge(t,r),a}(n(6993).W2);s.D3.prototype.destroy=je.prototype.destroy;var Ue=n(7442);function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?He(e):t}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(i,e);var t,n,r,o=Re(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this),n=He(t),a=void 0,(r="_uuid")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.name="FriendView",t.visible=e.isActive,t._uuid=e.uuid,t.beginFill(e.iconColor,1),t.drawCircle(0,0,50),t.endFill(),t}return t=i,(n=[{key:"uuid",get:function(){return this._uuid}},{key:"setIsActiveUpdate",value:function(e){this.visible=e}},{key:"action",value:function(){Ue.p8.to(this.scale,{duration:.1,x:1.2,y:1.2,yoyo:!0,repeat:1,ease:"bounce.out"})}}])&&xe(t.prototype,n),r&&xe(t,r),i}(E.TC);function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Me(e);if(t){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Le(e):t}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ze,Ve,qe,$e,Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(a,e);var t,n,r,i=Ie(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),De(Le(e=i.call(this)),"onSizeUpdate",new(re())),De(Le(e),"_friends",[]),e.name="FriendsView",o.q.event.on(W.friendsUpdate,e._onFriendsUpdate,Le(e)),o.q.event.on(J.isActiveUpdate,e._onIsActiveUpdate,Le(e)),o.q.event.on(J.stateUpdate,e._onFriendStateUpdate,Le(e)),e}return t=a,(n=[{key:"getFriendByUuid",value:function(e){return this._friends.find((function(t){return t.uuid===e}))}},{key:"_onFriendsUpdate",value:function(e){var t=this;e.forEach((function(e){var n=new Ee(e);n.x+=80*e.index,t.addChild(n),t._friends.push(n)}))}},{key:"_onIsActiveUpdate",value:function(e,t,n){this.getFriendByUuid(n).visible=e,this.onSizeUpdate.emit("sizeUpdate")}},{key:"_onFriendStateUpdate",value:function(e,t,n){var r=this.getFriendByUuid(n);switch(e){case ue.action:r.action()}}}])&&Fe(t.prototype,n),r&&Fe(t,r),a}(je);function Ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qe(e);if(t){var o=Qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return We(this,n)}}function We(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Ke(e):t}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return(Qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e.click="MainViewClick"}(ze||(ze={})),function(e){e.click="BotViewEventClick"}(Ve||(Ve={})),function(e){e.click="BossViewEventClick"}(qe||(qe={})),function(e){e.activeButtonClick="MenuItemViewEventActiveButtonClick",e.upgradeButtonClick="MenuItemViewEventUpgradeButtonClick"}($e||($e={}));var Xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(a,e);var t,n,r,i=Je(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this)).name=e,n.$build(),n.$makeInteractive(t),o.q.event.on(Z.hpUpdate,n.$onHpUpdate,Ke(n)),n}return t=a,(n=[{key:"updateHitArea",value:function(e){this.hitArea=new f.Ae(-e.width/2,-e.height/2,e.width,e.height)}},{key:"$onHpUpdate",value:function(e,t){Ue.ZP.killTweensOf(this.scale),this.scale.set(1),t>e&&Ue.ZP.to(this.scale,{duration:.1,x:.93,y:.93,yoyo:!0,repeat:1,ease:"bounce.out"})}},{key:"$build",value:function(){var e=new E.TC;e.beginFill(Math.floor(16777215*Math.random())),e.drawRect(-200,-200,400,400),e.endFill(),this.addChild(e)}},{key:"$makeInteractive",value:function(e){this.interactive=!0,this.updateHitArea(e),this.on("pointerdown",this.$onPointerDown,this)}},{key:"$onPointerDown",value:function(e){e.data.isPrimary&&o.q.event.emit(Ve.click)}}])&&Ne(t.prototype,n),r&&Ne(t,r),a}(je);function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ot(e);if(t){var o=ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nt(this,n)}}function nt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?rt(e):t}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(a,e);var t,n,r,i=tt(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),n=i.call(this,e,t),o.q.event.on(N.hpUpdate,n.$onHpUpdate,rt(n)),n}return t=a,(n=[{key:"$build",value:function(){var e=new E.TC;e.beginFill(Math.floor(16777215*Math.random())),e.drawCircle(0,0,200),e.endFill(),this.addChild(e)}},{key:"$onPointerDown",value:function(e){e.data.isPrimary&&o.q.event.emit(qe.click)}}])&&Ye(t.prototype,n),r&&Ye(t,r),a}(Xe);function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t){return(ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ft(e);if(t){var o=ft(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return st(this,n)}}function st(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?lt(e):t}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(u,e);var t,n,i,a=ct(u);function u(){var e,t,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),e=a.call(this),t=lt(e),i=void 0,(n="_botView")in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,e.name="LevelView",o.q.event.on(r.resize,e._onResize,lt(e)).on(Q.botUpdate,e._onBotUpdate,lt(e)).on(Q.bossUpdate,e._onBossUpdate,lt(e)),e}return t=u,(n=[{key:"getGridConfig",value:function(){return h(x,C).call(null)}},{key:"_onResize",value:function(){var e=this;b((function(){var t=e.getCellByName("actor").area;e._botView&&e._botView.updateHitArea(new f.Ae(0,0,t.width,t.height))}))}},{key:"_onBotUpdate",value:function(e){e?this._createBotView(e):this._destroyBotView()}},{key:"_createBotView",value:function(e){var t=this.getCellByName("actor").area;this._botView=new Xe(e.uuid,new f.Ae(0,0,t.width,t.height)),this.setChild("actor",this._botView)}},{key:"_destroyBotView",value:function(){this.removeContent(this._botView),this._botView.destroy()}},{key:"_onBossUpdate",value:function(e){e?this._createBossView(e):this._destroyBossView()}},{key:"_createBossView",value:function(e){var t=this.getCellByName("actor").area;this._botView=new it(e.uuid,new f.Ae(0,0,t.width,t.height)),this.setChild("actor",this._botView)}},{key:"_destroyBossView",value:function(){this._botView.destroy()}}])&&at(t.prototype,n),i&&at(t,i),u}(s.D3);function pt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ht(e,t){return(ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=bt(e);if(t){var o=bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?mt(e):t}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ht(e,t)}(a,e);var t,n,r,i=yt(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),gt(mt(e=i.call(this)),"_levelView",void 0),gt(mt(e),"_friendsView",void 0),e.name="GameView",o.q.event.on(K.levelUpdate,e._onLevelUpdate,mt(e)).on(K.friendsUpdate,e._onFriendsUpdate,mt(e)).on(Q.botUpdate,e._onBotUpdate,mt(e)).on(Q.bossUpdate,e._onBossUpdate,mt(e)),e}return t=a,(n=[{key:"getGridConfig",value:function(){return h(j,U).call(null)}},{key:"_onLevelUpdate",value:function(e){e?this._createLevelView():this._destroyLevelView()}},{key:"_createLevelView",value:function(){this._levelView=new dt,this.setChild("level",this._levelView)}},{key:"_destroyLevelView",value:function(){this._levelView.destroy()}},{key:"_onFriendsUpdate",value:function(e){e?this._createFriendsView():this._destroyFriendsView()}},{key:"_createFriendsView",value:function(){var e=this;this._friendsView=new Ge,this._friendsView.onSizeUpdate.on("sizeUpdate",(function(){e.setChild("friends",e._friendsView)})),this.setChild("friends",this._friendsView)}},{key:"_destroyFriendsView",value:function(){this._friendsView.destroy(),this._friendsView=null}},{key:"_onBotUpdate",value:function(){var e=this;b((function(){return e.rebuild()}))}},{key:"_onBossUpdate",value:function(){var e=this;b((function(){return e.rebuild()}))}}])&&pt(t.prototype,n),r&&pt(t,r),a}(s.D3),wt=(n(4723),n(5827),n(5306),n(4078)),Ot=n.n(wt),Pt=JSON.parse('{"HP":{"en":"%{hp}HP"},"level":{"en":"Level %{level}"},"bot":{"en":"Bot %{bot}"},"boss":{"en":"Boss %{time}"},"damage":{"en":"Damage %{damage}"},"money":{"en":"Money %{money}"},"decrement_hp":{"en":"-%{hp}"},"increment_money":{"en":"+%{money}"}}');function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut=function(){var e;if(navigator){if(navigator.userAgent&&(e=navigator.userAgent.match(/android.*\W(\w\w)-(\w\w)\W/i)))return e[1];if(navigator.languages)return navigator.languages[0];if(navigator.language)return navigator.language;if(navigator.browserLanguage)return navigator.browserLanguage;if(navigator.systemLanguage)return navigator.systemLanguage;if(navigator.userLanguage)return navigator.userLanguage}return"en"},xt=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),jt(this,"_polyglot",void 0),jt(this,"_language",void 0),jt(this,"_iso6391Language",void 0),this._polyglot=new(Ot())({locale:Ut()}),this._language=this._polyglot.locale(),this._iso6391Language=this._getISO6391Language(),this._setPhrases()}var t,n,r;return t=e,(n=[{key:"t",value:function(e,t){return this._polyglot.t(e,t)}},{key:"has",value:function(e){return this._polyglot.has(e)}},{key:"locale",value:function(e){this._language=this._polyglot.locale(e);var t=this._getISO6391Language();return t!==this._iso6391Language&&(this._iso6391Language=t,this._setPhrases()),this._language}},{key:"_setPhrases",value:function(){var e=this,t={};t=Object.keys(Pt).reduce((function(n,r){var o=Pt[r];return n[r]=Object.prototype.hasOwnProperty.call(o,e._iso6391Language)?o[e._iso6391Language]:o.en,t}),t),this._polyglot.replace(t)}},{key:"_getISO6391Language",value:function(){return this._language.substr(0,2)}}])&&kt(t.prototype,n),r&&kt(t,r),e}()),Ct="HP",Rt="level",Bt="bot",Ht="boss",St="damage",Et="money",Ft="decrement_hp",Tt="increment_money",It=[{cost:16,damage:5,activationLevel:2,actionTime:3,name:"friend 1",dmgPlus:1},{cost:15,damage:10,activationLevel:5,actionTime:3,name:"friend 2",dmgPlus:1},{cost:60,damage:15,activationLevel:10,actionTime:3,name:"friend 3",dmgPlus:1},{cost:80,damage:20,activationLevel:15,actionTime:3,name:"friend 4",dmgPlus:1},{cost:150,damage:25,activationLevel:20,actionTime:3,name:"friend 5",dmgPlus:1},{cost:200,damage:30,activationLevel:25,actionTime:3,name:"friend 6",dmgPlus:1},{cost:300,damage:35,activationLevel:30,actionTime:3,name:"friend 7",dmgPlus:1},{cost:400,damage:40,activationLevel:35,actionTime:3,name:"friend 8",dmgPlus:1},{cost:600,damage:45,activationLevel:40,actionTime:3,name:"friend 9",dmgPlus:1},{cost:800,damage:50,activationLevel:45,actionTime:3,name:"friend 10",dmgPlus:1}],At=[{bots:{count:8,startHp:80,incrementHp:5,money:1},boss:{incrementHp:100,money:5}},{bots:{count:8,startHp:108,incrementHp:5,money:2},boss:{incrementHp:100,money:5}},{bots:{count:8,startHp:146,incrementHp:5,money:3},boss:{incrementHp:100,money:5}},{bots:{count:8,startHp:198,incrementHp:5,money:4},boss:{incrementHp:100,money:5}},{bots:{count:8,startHp:268,incrementHp:5,money:5},boss:{incrementHp:100,money:10}},{bots:{count:8,startHp:362,incrementHp:5,money:6},boss:{incrementHp:100,money:10}},{bots:{count:8,startHp:413,incrementHp:2,money:7},boss:{incrementHp:100,money:10}},{bots:{count:8,startHp:471,incrementHp:2,money:8},boss:{incrementHp:100,money:10}},{bots:{count:8,startHp:537,incrementHp:2,money:9},boss:{incrementHp:100,money:10}},{bots:{count:8,startHp:613,incrementHp:2,money:10},boss:{incrementHp:100,money:15}},{bots:{count:8,startHp:699,incrementHp:2,money:11},boss:{incrementHp:100,money:15}},{bots:{count:8,startHp:797,incrementHp:2,money:12},boss:{incrementHp:100,money:15}},{bots:{count:8,startHp:909,incrementHp:2,money:13},boss:{incrementHp:100,money:15}},{bots:{count:8,startHp:1037,incrementHp:2,money:14},boss:{incrementHp:100,money:15}},{bots:{count:8,startHp:1183,incrementHp:2,money:15},boss:{incrementHp:100,money:20}},{bots:{count:8,startHp:1349,incrementHp:2,money:16},boss:{incrementHp:100,money:20}},{bots:{count:8,startHp:1538,incrementHp:2,money:17},boss:{incrementHp:100,money:20}},{bots:{count:8,startHp:1754,incrementHp:2,money:18},boss:{incrementHp:100,money:20}},{bots:{count:8,startHp:2e3,incrementHp:2,money:19},boss:{incrementHp:100,money:20}},{bots:{count:8,startHp:2280,incrementHp:2,money:20},boss:{incrementHp:100,money:25}},{bots:{count:8,startHp:2600,incrementHp:2,money:21},boss:{incrementHp:100,money:25}},{bots:{count:8,startHp:2964,incrementHp:2,money:22},boss:{incrementHp:100,money:25}},{bots:{count:8,startHp:3379,incrementHp:2,money:23},boss:{incrementHp:100,money:25}},{bots:{count:8,startHp:3853,incrementHp:2,money:24},boss:{incrementHp:100,money:25}},{bots:{count:8,startHp:4393,incrementHp:2,money:25},boss:{incrementHp:100,money:30}},{bots:{count:8,startHp:5009,incrementHp:2,money:26},boss:{incrementHp:100,money:30}},{bots:{count:8,startHp:5711,incrementHp:2,money:27},boss:{incrementHp:100,money:30}},{bots:{count:8,startHp:6511,incrementHp:2,money:28},boss:{incrementHp:100,money:30}},{bots:{count:8,startHp:7423,incrementHp:2,money:29},boss:{incrementHp:100,money:30}},{bots:{count:8,startHp:8463,incrementHp:2,money:30},boss:{incrementHp:100,money:35}},{bots:{count:8,startHp:9648,incrementHp:2,money:31},boss:{incrementHp:100,money:35}},{bots:{count:8,startHp:10999,incrementHp:2,money:32},boss:{incrementHp:100,money:35}},{bots:{count:8,startHp:12539,incrementHp:2,money:33},boss:{incrementHp:100,money:35}},{bots:{count:8,startHp:14295,incrementHp:2,money:34},boss:{incrementHp:100,money:35}},{bots:{count:8,startHp:16297,incrementHp:2,money:35},boss:{incrementHp:100,money:40}},{bots:{count:8,startHp:18579,incrementHp:2,money:36},boss:{incrementHp:100,money:40}},{bots:{count:8,startHp:21181,incrementHp:2,money:37},boss:{incrementHp:100,money:40}},{bots:{count:8,startHp:24147,incrementHp:2,money:38},boss:{incrementHp:100,money:40}},{bots:{count:8,startHp:27528,incrementHp:2,money:39},boss:{incrementHp:100,money:40}},{bots:{count:8,startHp:31382,incrementHp:2,money:40},boss:{incrementHp:100,money:45}},{bots:{count:8,startHp:35776,incrementHp:2,money:41},boss:{incrementHp:100,money:45}},{bots:{count:8,startHp:40785,incrementHp:2,money:42},boss:{incrementHp:100,money:45}},{bots:{count:8,startHp:46495,incrementHp:2,money:43},boss:{incrementHp:100,money:45}},{bots:{count:8,startHp:53005,incrementHp:2,money:44},boss:{incrementHp:100,money:45}},{bots:{count:8,startHp:60426,incrementHp:2,money:45},boss:{incrementHp:100,money:50}},{bots:{count:8,startHp:68886,incrementHp:2,money:46},boss:{incrementHp:100,money:50}},{bots:{count:8,startHp:78531,incrementHp:2,money:47},boss:{incrementHp:100,money:50}},{bots:{count:8,startHp:89536,incrementHp:2,money:48},boss:{incrementHp:100,money:50}},{bots:{count:8,startHp:102060,incrementHp:2,money:49},boss:{incrementHp:100,money:50}},{bots:{count:8,startHp:116349,incrementHp:5,money:50},boss:{incrementHp:100,money:50}}];n(7327),n(9337);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zt={damage:1,money:0,updateCost:13,dmgPlus:1};function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Zt(e);if(t){var o=Zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Nt(e):t}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(i,e);var t,n,r,o=$t(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,"FriendsModel"))._config=e,Jt(Nt(t),"_friends",void 0),Jt(Nt(t),"_upgradeableFriends",void 0),Jt(Nt(t),"_activatableFriends",void 0),Jt(Nt(t),"_passiveFriends",void 0),t.makeObservable("_friends","_upgradeableFriends","_activatableFriends","_passiveFriends"),t}return t=i,(n=[{key:"friends",get:function(){return this._friends}},{key:"upgradeableFriends",get:function(){return this._upgradeableFriends}},{key:"activatableFriends",get:function(){return this._activatableFriends}},{key:"passiveFriends",get:function(){return this._passiveFriends}},{key:"initialize",value:function(){var e=[];this._config.forEach((function(t,n){var r=new me(t,n);e.push(r)})),this._friends=e}},{key:"updateUpgradeableFriends",value:function(e){this._upgradeableFriends=this._friends.filter((function(t){return t.isActive&&t.cost<=e}))}},{key:"updateConfig",value:function(){this.friends.forEach((function(e){e.updateConfig()}))}},{key:"updateActivatableFriends",value:function(e,t){this._activatableFriends=this._friends.filter((function(n){return!n.isActive&&n.cost<=t&&n.activationLevel<=e+1}))}},{key:"updatePassiveFriendsFriends",value:function(e,t){this._passiveFriends=this._friends.filter((function(n){return!n.isActive&&n.activationLevel>e+1||n.cost>t}))}},{key:"getFriendByUuid",value:function(e){return this._friends.find((function(t){return t.uuid===e}))}},{key:"getFriendByIndex",value:function(e){return this._friends.find((function(t){return t.index===e}))}},{key:"getActiveFriends",value:function(){return this._friends.filter((function(e){return e.isActive}))}},{key:"getPassiveFriends",value:function(){return this._friends.filter((function(e){return!e.isActive}))}}])&&Vt(t.prototype,n),r&&Vt(t,r),i}(se);function Kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xt(e,t){return(Xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nn(e);if(t){var o=nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return en(this,n)}}function en(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?tn(e):t}function tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var on=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xt(e,t)}(i,e);var t,n,r,o=Yt(i);function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BotModel";return Kt(this,i),rn(tn(e=o.call(this,t)),"$hp",void 0),rn(tn(e),"$money",void 0),rn(tn(e),"$defeat",!1),e.makeObservable("$hp","$defeat"),e}return t=i,(n=[{key:"hp",get:function(){return this.$hp}},{key:"money",get:function(){return this.$money}},{key:"defeat",get:function(){return this.$defeat}},{key:"initialize",value:function(e,t){this.$hp=e,this.$money=t,this.$defeat=this.$hp<=0}},{key:"hit",value:function(e){this.$hp=Math.max(0,this.$hp-e),this.$defeat=this.$hp<=0}}])&&Qt(t.prototype,n),r&&Qt(t,r),i}(se);function an(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t,n){return(un="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dn(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dn(e);if(t){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ln(this,n)}}function ln(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?fn(e):t}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(i,e);var t,n,r,o=sn(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),pn(fn(e=o.call(this,"BossModel")),"_reviveDelayRunnable",void 0),pn(fn(e),"_reviveTimerComplete",!1),pn(fn(e),"_baseHp",void 0),pn(fn(e),"_time",void 0),e.makeObservable("_reviveTimerComplete","_time"),e}return t=i,(n=[{key:"hp",get:function(){return this.$hp}},{key:"defeat",get:function(){return this.$defeat}},{key:"reviveTimerComplete",get:function(){return this._reviveTimerComplete}},{key:"time",get:function(){return this._time}},{key:"initialize",value:function(e,t){un(dn(i.prototype),"initialize",this).call(this,e,t),this._baseHp=e,this._startReviveTimer()}},{key:"destroy",value:function(){this._stopReviveTimer()}},{key:"revive",value:function(){this._stopReviveTimer(),this._reviveTimerComplete=!1,this.initialize(this._baseHp,this.$money)}},{key:"hit",value:function(e){un(dn(i.prototype),"hit",this).call(this,e),this.$defeat&&this._stopReviveTimer()}},{key:"_startReviveTimer",value:function(){var e=this;this._time=i._reviveTimer,this._reviveDelayRunnable=m(1,(function(){e._time-=1,0===e._time&&(e._reviveTimerComplete=!0)}))}},{key:"_stopReviveTimer",value:function(){v(this._reviveDelayRunnable)}}])&&an(t.prototype,n),r&&an(t,r),i}(on);function yn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_n(e);if(t){var o=_n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bn(this,n)}}function bn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?gn(e):t}function gn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _n(e){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}pn(hn,"_reviveTimer",30);var On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(i,e);var t,n,r,o=mn(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,"LevelModel"))._levelConfig=e,wn(gn(t),"_boss",null),wn(gn(t),"_bot",null),wn(gn(t),"_botIndex",-1),wn(gn(t),"_botConfigs",void 0),wn(gn(t),"_bossConfig",void 0),t._botConfigs=t._levelConfig.bots,t._bossConfig=t._levelConfig.boss,t.makeObservable("_bot","_boss"),t}return t=i,(n=[{key:"boss",get:function(){return this._boss}},{key:"bot",get:function(){return this._bot}},{key:"botIndex",get:function(){return this._botIndex}},{key:"initialize",value:function(){this.nextBot()}},{key:"revive",value:function(){this.destroy(),this._botIndex=-1,this.nextBot()}},{key:"destroy",value:function(){this.destroyBot(),this.destroyBoss()}},{key:"hasNextBot",value:function(){return this._botIndex<this._botConfigs.count-1}},{key:"nextBot",value:function(){this.destroyBot(),this._botIndex+=1,this._bot=new on,this._bot.initialize(Math.ceil(this._calculateBotHp()),this._botConfigs.money)}},{key:"setBoss",value:function(){this.destroyBot(),this._boss=new hn,this._boss.initialize(Math.ceil(this._calculateBossHp()),this._bossConfig.money)}},{key:"reviveBoss",value:function(){this._boss.revive()}},{key:"destroyBot",value:function(){this._bot&&this._bot.destroy(),this._bot=null}},{key:"destroyBoss",value:function(){this._boss&&this._boss.destroy(),this._boss=null}},{key:"_calculateBotHp",value:function(){var e=this._botConfigs,t=e.incrementHp,n=e.startHp,r=t;return n+n*this._botIndex*r/100}},{key:"_calculateBossHp",value:function(){var e=this._calculateBotHp();return e+e*this._bossConfig.incrementHp/100}}])&&yn(t.prototype,n),r&&yn(t,r),i}(se);function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Cn(e);if(t){var o=Cn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Un(this,n)}}function Un(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?xn(e):t}function xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(i,e);var t,n,r,o=jn(i);function i(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,"GameModel"))._levelConfigs=e,n._friendsConfigs=t,Rn(xn(n),"_level",null),Rn(xn(n),"_friends",null),Rn(xn(n),"_levelIndex",-1),n.makeObservable("_level","_friends"),n}return t=i,(n=[{key:"level",get:function(){return this._level}},{key:"friends",get:function(){return this._friends}},{key:"levelIndex",get:function(){return this._levelIndex}},{key:"initialize",value:function(){this.initializeFriends(),this.nextLevel()}},{key:"reviveLevel",value:function(){this._level&&this._level.destroy(),this._level=null;var e=this._levelConfigs[this._levelIndex];this._level=new On(e),this._level.initialize()}},{key:"initializeFriends",value:function(){this._friends=new Wt(this._friendsConfigs),this._friends.initialize()}},{key:"hasNextLevel",value:function(){return this._levelIndex<this._levelConfigs.length-1}},{key:"nextLevel",value:function(){this._level&&this._level.destroy(),this._level=null,this._levelIndex+=1;var e=this._levelConfigs[this._levelIndex];this._level=new On(e),this._level.initialize()}}])&&Pn(t.prototype,n),r&&Pn(t,r),i}(se);function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function En(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=In(e);if(t){var o=In(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Fn(this,n)}}function Fn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Tn(e):t}function Tn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function An(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ln=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(i,e);var t,n,r,o=En(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,"PlayerModel"))._playerConfig=e,An(Tn(t),"_damage",void 0),An(Tn(t),"_money",void 0),An(Tn(t),"_updateCost",void 0),An(Tn(t),"_dmgPlus",void 0),An(Tn(t),"_isUpgradeable",void 0),t.makeObservable("_damage","_money","_updateCost","_isUpgradeable","_dmgPlus"),t}return t=i,(n=[{key:"dmgPlus",get:function(){return this._dmgPlus},set:function(e){this._dmgPlus=e}},{key:"isUpgradeable",get:function(){return this._isUpgradeable},set:function(e){this._isUpgradeable=e}},{key:"damage",get:function(){return this._damage},set:function(e){this._damage=e}},{key:"updateCost",get:function(){return this._updateCost},set:function(e){this._updateCost=e}},{key:"money",get:function(){return this._money},set:function(e){this._money=e}},{key:"updateIsUpgradeable",value:function(){this._isUpgradeable=this._money>=this._updateCost}},{key:"updateDmg",value:function(){this.damage+=this._dmgPlus}},{key:"initialize",value:function(){this._damage=this._playerConfig.damage,this._isUpgradeable=!1,this._updateCost=this._playerConfig.updateCost,this._money=this._playerConfig.money,this._dmgPlus=this._playerConfig.dmgPlus}},{key:"credit",value:function(e){this._money+=e}}])&&Hn(t.prototype,n),r&&Hn(t,r),i}(se);function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dn(e,t){return(Dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$n(e);if(t){var o=$n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vn(this,n)}}function Vn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?qn(e):t}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $n(e){return($n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nn=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dn(e,t)}(i,e);var t,n,r,o=zn(i);function i(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Gn(qn(e=o.call(this,"Store")),"_player",null),Gn(qn(e),"_game",null),e.makeObservable(),e}return t=i,(n=[{key:"player",get:function(){return this._player},set:function(e){this._player=e}},{key:"game",get:function(){return this._game},set:function(e){this._game=e}},{key:"initializePlayerModel",value:function(){this._player=new Ln(zt),this._player.initialize()}},{key:"destroyPlayerModel",value:function(){this._player.destroy(),this._player=null}},{key:"initializeGameModel",value:function(){var e=this;this._game=new Bn(At,It),b((function(){e._game.initialize()}))}},{key:"destroyPlayModel",value:function(){this._game.destroy(),this._game=null}}])&&Mn(t.prototype,n),r&&Mn(t,r),i}(se)),Zn=function(e,t){var n=Math.ceil(e),r=Math.floor(t);return Math.floor(Math.random()*(r-n+1))+n},Jn=n(8590),Wn=n(4877);function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qn(e,t){return(Qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=tr(e);if(t){var o=tr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yn(this,n)}}function Yn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?er(e):t}function er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qn(e,t)}(a,e);var t,n,r,i=Xn(a);function a(e,t,n,r,o,u,c,s){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(l=i.call(this))._dmgPlus=o,l._name=u,l._friendUuid=c,l._iconColor=s,nr(er(l),"_w",void 0),nr(er(l),"_h",void 0),nr(er(l),"_bg",void 0),nr(er(l),"_dmg",void 0),nr(er(l),"_cost",void 0),nr(er(l),"_button",void 0),l.name="MenuView",l._w=e,l._h=t,l._build(n,r),l}return t=a,(n=[{key:"friendUuid",get:function(){return this._friendUuid}},{key:"dmgPlus",set:function(e){this._dmgPlus=e}},{key:"activatedActivateButton",value:function(){var e=this;this._button.destroy(),this._button=null,this._buildButton(15638064),this._button.interactive=!0,this._button.on("pointerup",(function(){o.q.event.emit($e.activeButtonClick,e._friendUuid)})),this.sortChildren()}},{key:"activatedUpgradeButton",value:function(){var e=this;this._button.destroy(),this._button=null,this._buildButton(65280),this._button.interactive=!0,this._button.on("pointerup",(function(){o.q.event.emit($e.upgradeButtonClick,e._friendUuid)})),this.sortChildren()}},{key:"activatedPassiveButton",value:function(){this._button.destroy(),this._button=null,this._buildButton(6248007),this.sortChildren()}},{key:"updateDmg",value:function(e){this._dmg.text=`DMG ${e}/${e+this._dmgPlus}`}},{key:"updateCost",value:function(e){this._cost.text=`${e}`}},{key:"_build",value:function(e,t){this._buildBg(),this._buildButton(6248007),this._buildIcon(),this._buildName(),this._buildDmg(e),this._buildCost(t),this.sortChildren()}},{key:"_buildBg",value:function(){var e=new E.TC;e.beginFill(4538161),e.drawRoundedRect(0,0,this._w,this._h,30),e.endFill(),this.addChild(this._bg=e)}},{key:"_buildButton",value:function(e){var t=new E.TC;t.beginFill(e),t.drawRoundedRect(this._bg.width-140,10,130,this._h-20,30),t.endFill(),t.zIndex=1,this.addChild(this._button=t)}},{key:"_buildIcon",value:function(){var e=new E.TC;e.beginFill(this._iconColor),e.drawRoundedRect(10,10,this._h-20,this._h-20,30),e.endFill(),this.addChild(e)}},{key:"_buildName",value:function(){var e=g({text:this._name,x:100,y:50,anchor:new f.E9(0,.5),style:new Wn.TextStyle({fontSize:32,fill:"#ffffff",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})});this.addChild(e)}},{key:"_buildDmg",value:function(e){var t=g({text:`DMG ${e}/${e+this._dmgPlus}`,x:300,y:50,anchor:new f.E9(0,.5),style:new Wn.TextStyle({fontSize:32,fill:"#ffffff",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})});this.addChild(this._dmg=t)}},{key:"_buildCost",value:function(e){var t=g({text:`${e}`,x:this._bg.width-80,y:50,anchor:new f.E9(0,.5),style:new Wn.TextStyle({fontSize:32,fill:"#ffffff",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})});t.zIndex=3,this.addChild(this._cost=t)}}])&&Kn(t.prototype,n),r&&Kn(t,r),a}(je);function or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t){return(ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sr(e);if(t){var o=sr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ur(this,n)}}function ur(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?cr(e):t}function cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ir(e,t)}(a,e);var t,n,r,i=ar(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),lr(cr(n=i.call(this)),"_w",void 0),lr(cr(n),"_h",void 0),lr(cr(n),"_bg",void 0),lr(cr(n),"_menuItems",[]),lr(cr(n),"_playerItem",void 0),n.name="MenuView",n._w=Math.max(200,Math.min(900,e)),n._h=t,n._build(),o.q.event.on(W.friendsUpdate,n._onFriendsUpdate,cr(n)),o.q.event.on(W.activatableFriendsUpdate,n._onActivatableFriendsUpdate,cr(n)),o.q.event.on(W.upgradeableFriendsUpdate,n._onUpgradeableFriendsUpdate,cr(n)),o.q.event.on(W.passiveFriendsUpdate,n._onPassiveFriendsUpdate,cr(n)),o.q.event.on(J.damageUpdate,n._onFriendDamageUpdateUpdate,cr(n)),o.q.event.on(J.dmgPlusUpdate,n._onFriendDmgPlusUpdateUpdate,cr(n)),o.q.event.on(J.costUpdate,n._onFriendCostUpdateUpdate,cr(n)),o.q.event.on(Y.updateCostUpdate,n._onPlayerUpdateCostUpdate,cr(n)),o.q.event.on(Y.damageUpdate,n._onPlayerDamageUpdate,cr(n)),o.q.event.on(Y.isUpgradeableUpdate,n._onPlayerIsUpgradeableUpdate,cr(n)),o.q.event.on(Y.dmgPlusUpdate,n._onPlayerDmgPlusUpdateUpdate,cr(n)),n}return t=a,(n=[{key:"getItemByIndex",value:function(e){return this._menuItems[e]}},{key:"_build",value:function(){this._buildBg(),this._buildPlayerItem()}},{key:"_buildBg",value:function(){var e=new E.TC;e.beginFill(6709071),e.drawRoundedRect(0,0,this._w,this._h,30),e.endFill(),this.addChild(this._bg=e)}},{key:"_buildPlayerItem",value:function(){var e=Nn.player,t=new rr(this._w-30,100,e.damage,0,e.dmgPlus,"player",e.uuid,0);t.x=15,t.y=15,this.addChild(this._playerItem=t)}},{key:"_onFriendsUpdate",value:function(e){var t=this,n=new Jn.y({boxWidth:this._w-30,boxHeight:this._h-145,scrollbarSize:0});e.forEach((function(e,r){var o=n.content.addChild(new rr(t._w-30,100,e.damage,e.cost,e.dmgPlus,e.name,e.uuid,e.iconColor));o.y=(o.height+5)*r,t._menuItems.push(o),t.addChild(n)})),n.x=this._bg.x+15,n.y=this._bg.y+130,n.update()}},{key:"_onActivatableFriendsUpdate",value:function(e){var t=this;e.forEach((function(e){t._menuItems.find((function(t){return t.friendUuid===e.uuid})).activatedActivateButton()}))}},{key:"_onUpgradeableFriendsUpdate",value:function(e){var t=this;e.forEach((function(e){t._menuItems.find((function(t){return t.friendUuid===e.uuid})).activatedUpgradeButton()}))}},{key:"_onPassiveFriendsUpdate",value:function(e){var t=this;e.forEach((function(e){t._menuItems.find((function(t){return t.friendUuid===e.uuid})).activatedPassiveButton()}))}},{key:"_onFriendDamageUpdateUpdate",value:function(e,t,n){var r=Nn.game.friends.getFriendByUuid(n);this.getItemByIndex(r.index).updateDmg(e)}},{key:"_onFriendDmgPlusUpdateUpdate",value:function(e,t,n){var r=Nn.game.friends.getFriendByUuid(n),o=this.getItemByIndex(r.index);o.dmgPlus=e,o.updateDmg(r.damage)}},{key:"_onFriendCostUpdateUpdate",value:function(e,t,n){var r=Nn.game.friends.getFriendByUuid(n);this.getItemByIndex(r.index).updateCost(e)}},{key:"_onPlayerUpdateCostUpdate",value:function(e){this._playerItem.updateCost(e)}},{key:"_onPlayerDamageUpdate",value:function(e){this._playerItem.updateDmg(e)}},{key:"_onPlayerDmgPlusUpdateUpdate",value:function(e){var t=this._playerItem,n=Nn.player;t.dmgPlus=e,t.updateDmg(n.damage)}},{key:"_onPlayerIsUpgradeableUpdate",value:function(e){var t=this._playerItem;e?t.activatedUpgradeButton():t.activatedPassiveButton()}}])&&or(t.prototype,n),r&&or(t,r),a}(je);function dr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mr(e);if(t){var o=mr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yr(this,n)}}function yr(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?vr(e):t}function vr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(e){return(mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function br(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(a,e);var t,n,r,i=hr(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),br(vr(e=i.call(this)),"_hp",void 0),br(vr(e),"_level",void 0),br(vr(e),"_wave",void 0),br(vr(e),"_damage",void 0),br(vr(e),"_money",void 0),br(vr(e),"_menu",void 0),e.name="UIView",o.q.event.on(ee.gameUpdate,e._onGameUpdate,vr(e)).on(ee.playerUpdate,e._onPlayerUpdate,vr(e)).on(K.levelUpdate,e._onLevelUpdate,vr(e)).on(Y.damageUpdate,e._onDamageUpdate,vr(e)).on(Y.moneyUpdate,e._onMoneyUpdate,vr(e)).on(Q.botUpdate,e._onBotUpdate,vr(e)).on(Q.bossUpdate,e._onBossUpdate,vr(e)).on(Z.hpUpdate,e._onHpUpdate,vr(e)).on(N.timeUpdate,e._onTimeUpdate,vr(e)).on(N.hpUpdate,e._onHpUpdate,vr(e)),e}return t=a,(n=[{key:"getGridConfig",value:function(){return h(H,S).call(null)}},{key:"_onGameUpdate",value:function(){this._level=g({text:xt.t(Rt,{level:0}),style:new d.pn({fontSize:32,fill:"#000000",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})}),this.setChild("level",this._level),this._wave=g({text:xt.t(Rt,{level:0}),style:new d.pn({fontSize:32,fill:"#000000",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})}),this.setChild("wave",this._wave),this._hp=g({text:xt.t(Ct,{hp:0}),style:new d.pn({fontSize:32,fill:"#d68800",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})}),this.setChild("hp",this._hp)}},{key:"_onPlayerUpdate",value:function(){this._damage=g({text:xt.t(Rt,{level:0}),style:new d.pn({fontSize:32,fill:"#000000",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})}),this.setChild("damage",this._damage),this._money=g({text:xt.t(Rt,{level:0}),style:new d.pn({fontSize:32,fill:"#000000",dropShadow:!0,dropShadowAngle:90,dropShadowDistance:2,dropShadowBlur:5,dropShadowColor:"#ffffff"})}),this.setChild("money",this._money);var e=this.getCellByName("menu").area;this._menu=new fr(e.width,e.height),this.setChild("menu",this._menu)}},{key:"_onLevelUpdate",value:function(){this._level.text=xt.t(Rt,{level:Nn.game.levelIndex+1})}},{key:"_onBotUpdate",value:function(e){e&&(this._wave.text=xt.t(Bt,{bot:Nn.game.level.botIndex+1}))}},{key:"_onBossUpdate",value:function(e){e&&(this._wave.text=xt.t(Ht))}},{key:"_onHpUpdate",value:function(e,t,n){if(this._hp.text=xt.t(Ct,{hp:e}),t>e){var r=_("name",n),o=g(function(e){return{text:xt.t(Ft,{hp:e}),style:new d.pn({fontSize:32,fill:"#ff0000",stroke:"#000000",strokeThickness:2})}}(t-e)),i=o.toLocal(new f.E9(0,0),r);o.position.copyFrom(i),window.game.stage.addChild(o),Ue.ZP.to(o,{duration:1,y:`-=${Zn(190,210)}`,x:`+=${Zn(-20,20)}`,alpha:0,onComplete:function(){Ue.ZP.killTweensOf(o),o.destroy()}})}}},{key:"_onTimeUpdate",value:function(e){this._wave.text=xt.t(Ht,{time:e})}},{key:"_onDamageUpdate",value:function(e){this._damage.text=xt.t(St,{damage:e})}},{key:"_onMoneyUpdate",value:function(e,t){if(this._money.text=xt.t(Et,{money:e}),t<e){var n=g(function(e){return{text:xt.t(Tt,{money:e}),style:new d.pn({fontSize:32,fill:"#00ff00",stroke:"#000000",strokeThickness:2})}}(e-t)),r=n.toLocal(new f.E9(0,0),this._money);n.position.copyFrom(r),window.game.stage.addChild(n),Ue.ZP.to(n,{duration:1,y:`-=${Zn(20,30)}`,x:`+=${Zn(-20,20)}`,alpha:0,onComplete:function(){Ue.ZP.killTweensOf(n),n.destroy()}})}}}])&&dr(t.prototype,n),r&&dr(t,r),a}(s.D3);function _r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wr(e,t){return(wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jr(e);if(t){var o=jr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pr(this,n)}}function Pr(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?kr(e):t}function kr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jr(e){return(jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wr(e,t)}(u,e);var t,n,i,a=Or(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this))._build(),e.name="MainView",o.q.event.on(r.resize,e.onResize,kr(e)),e}return t=u,(n=[{key:"onResize",value:function(){this.rebuild(this.getGridConfig()),this._updateScale()}},{key:"getGridConfig",value:function(){return h(R,B).call(null)}},{key:"_build",value:function(){this._updateScale(),this.setChild("main",new D),this.setChild("main",new _t),this.setChild("main",new gr),this.setChild("main",new te)}},{key:"_updateScale",value:function(){this.scale.set(game.viewScale)}}])&&_r(t.prototype,n),i&&_r(t,i),u}(s.D3),xr=function(){game.stage.addChild(new Ur)},Cr=(n(8674),n(5666),n(285),n(4765),n(3162)),Rr=n(5733),Br=n.n(Rr),Hr=n(6498);function Sr(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ar=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ir(this,"_pane",void 0),Ir(this,"_levelsPane",void 0),Ir(this,"_friendsPane",void 0),Ir(this,"_playerPane",void 0),e._setStyle(),this._pane=new Hr.Pane({title:"Configs",expanded:!1});var n=Er(this._pane.addTab({pages:[{title:"Levels"},{title:"Player"},{title:"Friends"}]}).pages,3);this._levelsPane=n[0],this._playerPane=n[1],this._friendsPane=n[2],this._addPlayerBindings(),this._addLevelsBindings(),this._addFriendsBindings(),this._addActionBindings(),this._pane.on("change",(function(){game.updateConfigs()})),document.addEventListener("keydown",(function(e){"c"===e.key&&t._togglePane()})),"true"===sessionStorage.__tweakpane_hidden__&&this._togglePane(),o.q.event.on(Y.moneyUpdate,this._onPlayerMoneyUpdate,this),o.q.event.on(J.costUpdate,this._onFriendCostUpdate,this),o.q.event.on(J.damageUpdate,this._onFriendDamageUpdate,this),o.q.event.on(Y.damageUpdate,this._onPlayerDamageUpdate,this),o.q.event.on(Y.updateCostUpdate,this._onPlayerUpdateCostUpdate,this),o.q.event.on(Y.dmgPlusUpdate,this._onPlayerDmgPlusUpdate,this)}var t,n,r,i,a;return t=e,n=[{key:"_addPlayerBindings",value:function(){this._playerPane.addInput(zt,"damage",{step:1}),this._playerPane.addInput(zt,"money",{step:1}),this._playerPane.addInput(zt,"updateCost",{step:1}),this._playerPane.addInput(zt,"dmgPlus",{step:1})}},{key:"_addFriendsBindings",value:function(){var e=this;It.forEach((function(t,n){var r=e._friendsPane.addFolder({title:`${t.name}`,expanded:0===n});r.addInput(t,"damage",{step:1}),r.addInput(t,"cost",{step:1}),r.addInput(t,"activationLevel",{step:1}),r.addInput(t,"actionTime",{step:1}),r.addInput(t,"dmgPlus",{step:1}),e._friendsPane.addSeparator()}))}},{key:"_addLevelsBindings",value:function(){var e=this;At.forEach((function(t,n){var r=Er(e._levelsPane.addFolder({title:`${n+1}`,expanded:0===n}).addTab({pages:[{title:"Bots"},{title:"Boss"}]}).pages,2),o=r[0],i=r[1],a=t.bots,u=t.boss;o.addInput(a,"count",{disabled:!0,step:1}),o.addInput(a,"startHp",{label:"start hp",step:1}),o.addInput(a,"incrementHp",{label:"incrementHp",step:1}),o.addInput(a,"money",{label:"money",step:1}),i.addInput(u,"incrementHp",{label:"incrementHp",step:1}),i.addInput(u,"money",{label:"money",step:1}),e._levelsPane.addSeparator()})),document.getElementsByClassName("tp-brkv tp-v-fst tp-v-vfst tp-v-lst")[0].classList.add("levels")}},{key:"_addActionBindings",value:function(){var e=this;this._pane.addButton({title:"Apply"}).on("click",(function(){return e._apply()})),this._pane.addSeparator(),this._pane.addButton({title:"Export"}).on("click",(function(){return e._export()})),this._pane.addSeparator(),this._pane.addButton({title:"Reset"}).on("click",(function(){return e._reset()}))}},{key:"_apply",value:function(){game.saveConfigs()}},{key:"_reset",value:function(){game.resetConfigs();var e=(new URLSearchParams).toString();window.location.search=e}},{key:"_export",value:(i=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new(Br())).file("level-configs.json",JSON.stringify(At)),t.file("player-configs.json",JSON.stringify(zt)),t.file("friends-configs.json",JSON.stringify(It)),e.next=6,t.generateAsync({type:"blob"});case 6:n=e.sent,(0,Cr.saveAs)(n,"game-configs.zip");case 8:case"end":return e.stop()}}),e)})),a=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){Sr(o,n,r,a,u,"next",e)}function u(e){Sr(o,n,r,a,u,"throw",e)}a(void 0)}))},function(){return a.apply(this,arguments)})},{key:"_togglePane",value:function(){this._pane.hidden=!this._pane.hidden,sessionStorage.__tweakpane_hidden__=this._pane.hidden}},{key:"_onPlayerMoneyUpdate",value:function(e){zt.money=e,this._pane.refresh()}},{key:"_onPlayerDamageUpdate",value:function(e){zt.damage=e,this._pane.refresh()}},{key:"_onPlayerDmgPlusUpdate",value:function(e){zt.dmgPlus=e,this._pane.refresh()}},{key:"_onPlayerUpdateCostUpdate",value:function(e){zt.updateCost=e,this._pane.refresh()}},{key:"_onFriendCostUpdate",value:function(){this._pane.refresh()}},{key:"_onFriendDamageUpdate",value:function(){this._pane.refresh()}}],r=[{key:"_setStyle",value:function(){var e=document.createElement("style");e.innerHTML="\n            .tp-dfwv {\n                min-width: 360px;\n            }",document.getElementsByTagName("head")[0].appendChild(e)}}],n&&Tr(t.prototype,n),r&&Tr(t,r),e}();function Lr(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}var Mr=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:new Ar;case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Lr(i,r,o,a,u,"next",e)}function u(e){Lr(i,r,o,a,u,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),Dr=function(){Nn.initializeGameModel()},zr=function(){Nn.initializePlayerModel()},Vr=function(){o.q.command.execute(Dr).execute(zr)},qr=function(e,t){e.hit(t)},$r=function(){var e=Nn.player.damage,t=Nn.game.level.boss;o.q.command.payload(t,e).execute(qr)},Gr=function(e){return e.defeat},Nr=function(){return!Nn.game.hasNextLevel()},Zr=function(){Nn.game.nextLevel()},Jr=function(e){var t=Nn.player,n=e.money;t.credit(n)},Wr=function(){var e=Nn.game.level.boss;o.q.command.payload(e).execute(Jr).payload(e).guard(o.q.not(Nr)).execute(Zr)},Kr=function(){var e=Nn.game.level.boss;o.q.command.payload(e).guard(Gr).execute(Wr)},Qr=function(e){return e.reviveTimerComplete},Xr=function(){Nn.game.level.revive()},Yr=function(){var e=Nn.game.level.boss;o.q.command.payload(e).guard(Qr).execute(Xr)},eo=function(){var e=Nn.player.damage,t=Nn.game.level.bot;o.q.command.payload(t,e).execute(qr)},to=function(e){return e.defeat},no=function(){return!Nn.game.level.hasNextBot()},ro=function(){Nn.game.level.setBoss()},oo=function(){Nn.game.level.nextBot()},io=function(){var e=Nn.game.level.bot;o.q.command.payload(e).execute(Jr).payload(e).guard(no).execute(ro).payload(e).guard(o.q.not(no)).execute(oo)},ao=function(){var e=Nn.game.level.bot;o.q.command.payload(e).guard(to).execute(io)},uo=function(){var e=Nn.player,t=Nn.game,n=t.friends,r=t.levelIndex;e.damage=zt.damage,e.money=zt.money,e.updateCost=zt.updateCost,e.dmgPlus=zt.dmgPlus,n.updateConfig(),Nn.player.updateIsUpgradeable(),Nn.game.friends.updateActivatableFriends(r,zt.money),Nn.game.friends.updateUpgradeableFriends(zt.money),Nn.game.friends.updatePassiveFriendsFriends(r,zt.money)},co=function(e,t,n){switch(e){case ue.action:var r=Nn.game.friends.getFriendByUuid(n).damage,i=Nn.game.level,a=i.bot,u=i.boss;a&&o.q.command.payload(a,r).execute(qr),u&&o.q.command.payload(u,r).execute(qr)}},so=function(){var e=Nn.game.levelIndex,t=Nn.player.money;Nn.game.friends&&(Nn.game.friends.updateActivatableFriends(e,t),Nn.game.friends.updateUpgradeableFriends(t),Nn.game.friends.updatePassiveFriendsFriends(e,t))},lo=function(e){var t=Nn.player,n=Nn.game;if(e!==t.uuid){var r=n.friends.getFriendByUuid(e),o=r.cost;r.isActive=!0,r.cost+=Math.ceil(20*o/100),r.startAction(),t.credit(-o)}},fo=function(e){var t=Nn.player,n=Nn.game;if(e===t.uuid)t.updateDmg(),t.credit(-t.updateCost),t.updateCost+=Math.ceil(20*t.updateCost/100);else{var r=n.friends.getFriendByUuid(e),o=r.cost,i=r.dmgPlus;r.damage+=i,r.cost+=Math.ceil(20*o/100),t.credit(-o)}},po=function(e){var t=Nn.game.levelIndex;Nn.player.updateIsUpgradeable(),Nn.game.friends&&(Nn.game.friends.updateActivatableFriends(t,e),Nn.game.friends.updateUpgradeableFriends(e),Nn.game.friends.updatePassiveFriendsFriends(t,e))},ho=function(){o.q.command.on(r.configsUpdate,uo).on(K.levelUpdate,so).on(Y.moneyUpdate,po).on($e.activeButtonClick,lo).on($e.upgradeButtonClick,fo).on(Ve.click,eo).on(qe.click,$r).on(Z.defeatUpdate,ao).on(N.reviveTimerCompleteUpdate,Yr).on(N.defeatUpdate,Kr).on(J.stateUpdate,co)},yo=function(){o.q.command.execute(Mr).execute(ho).execute(xr).execute(Vr)},vo=function(){o.q.command.on(r.start,yo)},mo=n(4535),bo=n(2398),go=JSON.parse('{"spine":true,"legologger":false,"variation":{"image":{"bg/play/bg.jpg":{"description":"Game Background","options":["bg/play/bg_alt.jpg"],"active":-1},"bg/cta/bg.jpg":{"description":"CTA Background","options":["bg/cta/bg_alt.jpg"],"active":0},"main/ui/cta_icon.png":{"description":"CTA icon","options":["main/ui/cta_icon_alt1.png","main/ui/cta_icon_alt2.png"],"active":0}},"module":{"cta":{"description":"CTA style","options":{"traditional":{"path":"src/views/cta-traditional","description":"Traditional CTA","assets":[]},"starRating":{"path":"src/views/cta-star-rating","description":"Star Rating CTA","assets":["ui/star_full.png","ui/star_half.png","ui/cta_icon.png"]}},"active":"traditional"}}},"size":{"landscape":{"width":1390,"height":640},"portrait":{"width":640,"height":1390}},"compression":{"default":{"assets/atlases/**/*.jpg":80,"assets/atlases/**/*.png":80}}}'),_o=(n(6699),n(9720),n(1516)),wo=n(3151),Oo=n(6603),Po=n(5933),ko=n.n(Po);n(1249);function jo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(n),!0).forEach((function(t){xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Co=Uo(Uo({atlases:{},particles:{},spines:{}},function(){var e=n(8299).Z,t=n(6139),r=2===e.families.length?[]:new Function("return ["+e.families+"]")(),o={};if(r.length>0&&(o.custom={families:r}),t.length>0){var i=t.map((function(e){return`${e.family}:${e.variants&&e.variants.length>0?e.variants.join(","):"400"}:${e.subsets&&e.subsets.length>0?e.subsets.join(","):"latin-ext"}`}));o.google={families:i}}return{fonts:{config:Uo({},o)}}}()),{sound:{}}),Ro={},Bo={};function Ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(n),!0).forEach((function(t){zo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eo(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Fo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Eo(i,r,o,a,u,"next",e)}function u(e){Eo(i,r,o,a,u,"throw",e)}a(void 0)}))}}function To(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Io(e,t){return(Io=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ao(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Do(e);if(t){var o=Do(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lo(this,n)}}function Lo(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Mo(e):t}function Mo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Do(e){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vo,qo=["png","jpg","jpeg"];function $o(e,t){if(qo.includes(e.extension)){var n=Co.atlases,r=e.url,o=Object.keys(n).find((function(e){return n[e].image===r}));if(o){var i=n[o],a=i.json,u=i.image;new wo.c(l.VL.from(u),a).parse((function(){return t()}))}else t()}else t()}!function(e){e.region="region",e.mesh="mesh"}(Vo||(Vo={}));var Go=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Io(e,t)}(c,e);var t,r,o,i,a,u=Ao(c);function c(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),zo(Mo(e=u.call(this)),"_loader",void 0),zo(Mo(e),"_loading",!1),e._loader=_o.aN.shared,e._loader.use($o),e}return t=c,(r=[{key:"loading",get:function(){return this._loading}},{key:"load",value:(a=Fo(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Fo(regeneratorRuntime.mark((function e(r,o){var i,a,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n._loading=!0,e.t0=regeneratorRuntime.keys(Co);case 2:if((e.t1=e.t0()).done){e.next=21;break}i=e.t1.value,e.t2=i,e.next="fonts"===e.t2?7:"sound"===e.t2?10:"spines"===e.t2?13:"atlases"===e.t2?14:"particles"===e.t2?17:18;break;case 7:return e.next=9,n._loadFonts(Co[i]);case 9:return e.abrupt("break",19);case 10:return e.next=12,n._loadSounds(Co[i]);case 12:case 13:return e.abrupt("break",19);case 14:return e.next=16,n._loadAtlases(Co[i]);case 16:case 17:return e.abrupt("break",19);case 18:o(`Unknown asset type "${i}"`);case 19:e.next=2;break;case 21:a=n._loader.onProgress.add((function(e){return t(e.progress)})),u=n._loader.onComplete.add(function(){var e=Fo(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n._loader.onProgress.detach(a),n._loader.onProgress.detach(u),n._loader.onProgress.detach(c),n._createSpines(Co.spines),n._loading=!1,r(t.resources);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c=n._loader.onError.add((function(){n._loader.onProgress.detach(a),n._loader.onProgress.detach(u),n._loader.onProgress.detach(c),o("Can't load the asset.")})),n._loader.load();case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})},{key:"_loadFonts",value:function(e){return 0===Object.entries(e.config).length?Promise.resolve():new Promise((function(t,n){ko().load(So(So({},e.config),{},{active:function(){t()},inactive:function(){n("None of the fonts could be loaded.")}}))}))}},{key:"_loadSounds",value:(i=Fo(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.entries(t).length){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return e.abrupt("return",new Promise((function(e){n(9734).sound.add("spritemap",{url:t.url,sprites:t.spritemap,preload:!0,loaded:e})})));case 3:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})},{key:"_createSpines",value:function(e){var t=function(t){var r=e[t],o=r.animations,i=r.slots,a=r.skins,u=[];Object.keys(o).forEach((function(e){var t=o[e].slots,n=void 0===t?{}:t;Object.keys(n).forEach((function(e){var t=n[e].attachment;(void 0===t?[]:t).forEach((function(e){var t=e.name;u.includes(t)||u.push(t)}))}))})),i.forEach((function(e){var t=e.attachment;u.includes(t)||u.push(t)})),a.forEach((function(e){var t=e.attachments;Object.keys(t).forEach((function(e){var n=t[e];Object.keys(n).forEach((function(e){var t=n[e].type;if(!t||t===Vo.region||t===Vo.mesh){var r=e,o=n[e];Object.prototype.hasOwnProperty.call(o,"path")&&(r=o.path),u.includes(r)||u.push(r)}}))}))}));var c=n(1987),s=c.TextureAtlas,f=c.AtlasAttachmentLoader,d=c.SkeletonJson,p=new s,h={};u.forEach((function(e){Object.prototype.hasOwnProperty.call(Bo,e)&&(h[e]=l.xE.from(Bo[e]))})),p.addTextureHash(h,!0);var y=new d(new f(p));Ro[t].skeleton=y.readSkeletonData(r)};for(var r in e)t(r)}},{key:"_loadAtlases",value:function(e){var t=this;return 0===Object.entries(e).length||Object.keys(e).forEach((function(n){t._loader.add(e[n].image)})),Promise.resolve()}}])&&To(t.prototype,r),o&&To(t,o),c}(Oo.EventEmitter),No=n(9483),Zo=n.n(No);function Jo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ko(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Qo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ko(i,r,o,a,u,"next",e)}function u(e){Ko(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Xo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ei=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yo(this,"_loading",void 0),Zo().config({name:"clicker",version:e._version,storeName:"game"})}var t,n,r,o,i,a;return t=e,(n=[{key:"loading",get:function(){return this._loading}},{key:"load",value:(a=Qo(regeneratorRuntime.mark((function t(){var n,r,o,i,a,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._loading=!0,t.next=3,Promise.all([Zo().getItem("version"),Zo().getItem("playerConfig"),Zo().getItem("levelConfigs"),Zo().getItem("friendsConfig")]);case 3:n=t.sent,r=Jo(n,4),o=r[0],i=r[1],a=r[2],u=r[3],o&&o===e._version&&(i&&(c=i,zt=Mt(Mt({},zt),c)),a&&(At=a),u&&(It=u)),this._loading=!1;case 11:case"end":return t.stop()}var c}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"save",value:(i=Qo(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([Zo().setItem("version",e._version),Zo().setItem("playerConfig",zt),Zo().setItem("levelConfigs",At),Zo().setItem("friendsConfig",It)]);case 2:case"end":return t.stop()}}),t)}))),function(){return i.apply(this,arguments)})},{key:"reset",value:(o=Qo(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Zo().setItem("playerConfig",null),Zo().setItem("levelConfigs",null),Zo().setItem("friendsConfig",null)]);case 2:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)})}])&&Xo(t.prototype,n),r&&Xo(t,r),e}();function ti(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ni(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ri(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function oi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t){return(ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ai(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=si(e);if(t){var o=si(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ui(this,n)}}function ui(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?ci(e):t}function ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function li(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Yo(ei,"_version",2);var fi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ii(e,t)}(s,e);var t,n,i,a,u,c=ai(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),li(ci(e=c.call(this,{resolution:window.devicePixelRatio||1,sharedTicker:!0})),"_assetsLoader",void 0),li(ci(e),"_localForage",void 0),li(ci(e),"_baseBounds",void 0),li(ci(e),"_viewBounds",void 0),li(ci(e),"_viewScale",void 0),li(ci(e),"_revealed",!1),li(ci(e),"_interaction",!1),li(ci(e),"_manifest",go),p.vB.shared.maxFPS=60,e._addErrorEventCallback(),e._addReadyEventCallback(),e}return t=s,(n=[{key:"baseBounds",get:function(){return this._baseBounds}},{key:"viewBounds",get:function(){return this._viewBounds}},{key:"viewScale",get:function(){return this._viewScale}},{key:"interaction",get:function(){return this._interaction}},{key:"size",get:function(){return this._manifest.size}},{key:"screenSize",get:function(){return{height:document.body.clientHeight,width:document.body.clientWidth}}},{key:"saveConfigs",value:function(){this._localForage.save()}},{key:"resetConfigs",value:function(){this._localForage.reset()}},{key:"updateConfigs",value:function(){o.q.event.emit(r.configsUpdate)}},{key:"_onResize",value:function(){this._resizeCanvas(),this._resizeRenderer(),this._calculateTransform(),o.q.event.emit(r.resize,this.screenSize)}},{key:"_onFirstInteraction",value:function(){this._interaction=!0,o.q.event.emit(r.firstInteraction)}},{key:"_resume",value:function(){var e=p.vB.shared;!e.started&&e.start(),bo.p8.ticker.wake(),o.q.event.emit(r.resume)}},{key:"_pause",value:function(){var e=p.vB.shared;e.started&&e.stop(),bo.p8.ticker.sleep(),o.q.event.emit(r.pause)}},{key:"_addErrorEventCallback",value:function(){var e=this;window.addEventListener("error",(function(t){var n=t.message+", url="+t.target+", line="+t.lineno;t.colno&&(n+=", column="+t.colno),t.error&&(n+=", error="+JSON.stringify(t.error)),e._onError(n)}))}},{key:"_onError",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n]}},{key:"_addReadyEventCallback",value:function(){var e=this;window.addEventListener("DOMContentLoaded",(function(){return e._onDOMContentLoaded()}))}},{key:"_onDOMContentLoaded",value:function(){this._init(),this._addVisibleChangeCallback(),this._addResizeCallback(),this._addFirstInteractionCallback()}},{key:"_addVisibleChangeCallback",value:function(){var e,t,n=this;void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");var r=function(){return!document[e]};document.addEventListener(t,(function(){return n._onVisibilityChange(r())}),!1),this._onVisibilityChange(r())}},{key:"_onVisibilityChange",value:function(e){this._revealed?e?this._resume():this._pause():this._reveal(e)}},{key:"_addResizeCallback",value:function(){var e=this;window.addEventListener("resize",(function(){return e._onResize()}))}},{key:"_addFirstInteractionCallback",value:function(){var e=this,t=function t(){window.removeEventListener("touchstart",t),window.removeEventListener("mousedown",t),e._interaction=!0,b((function(){return e._onFirstInteraction()}))};window.addEventListener("touchstart",t),window.addEventListener("mousedown",t)}},{key:"_reveal",value:function(e){e&&(this._revealed=!0,this._onResize(),this._assetsLoader&&!this._assetsLoader.loading&&this._localForage&&!this._localForage.loading&&this._start())}},{key:"_init",value:function(){var e=document.getElementById("canvas"),t=this.view;t.classList.add("game"),e.appendChild(t),o.q.event.emit(r.init),this._preload()}},{key:"_preload",value:(a=regeneratorRuntime.mark((function e(){var t,n,i,a,u,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.q.event.emit(r.preload),e.prev=1,this._assetsLoader=new Go,this._localForage=new ei,t=this._assetsLoader.load((function(e){return c._onAssetsLoadProgress(e)})),n=this._localForage.load(),e.next=8,Promise.all([t,n]);case 8:i=e.sent,a=ti(i,1),u=a[0],this._onAssetsLoaded(u),e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(1),e.t0;case 17:case"end":return e.stop()}}),e,this,[[1,14]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=a.apply(e,t);function i(e){ri(o,n,r,i,u,"next",e)}function u(e){ri(o,n,r,i,u,"throw",e)}i(void 0)}))},function(){return u.apply(this,arguments)})},{key:"_start",value:function(){o.q.event.emit(r.start),this.view.classList.add("fadeIn")}},{key:"_onAssetsLoadProgress",value:function(e){o.q.event.emit(r.loadProgress,e)}},{key:"_onAssetsLoaded",value:function(e){o.q.event.emit(r.load,e),this._revealed&&this._start()}},{key:"_resizeCanvas",value:function(){var e=this.renderer.view.style,t=this.screenSize,n=t.width,r=t.height;e.width=`${n}px`,e.height=`${r}px`}},{key:"_resizeRenderer",value:function(){var e=this.screenSize,t=e.width,n=e.height;this.renderer.resize(t,n)}},{key:"_calculateTransform",value:function(){this._baseBounds=this._getBaseBounds(),this._viewScale=this._getViewScale(),this._viewBounds=this._getViewBounds()}},{key:"_getBaseBounds",value:function(){var e=this._manifest.size,t=h(e.landscape,e.portrait),n=t.width,r=t.height;return new f.Ae(0,0,n,r)}},{key:"_getViewScale",value:function(){var e=this.baseBounds,t=e.width,n=e.height,r=this.renderer.screen,o=r.width,i=r.height;return Math.min(o/t,i/n)}},{key:"_getViewBounds",value:function(){var e=this.viewScale,t=this.renderer.screen,n=t.x,r=t.y,o=t.width,i=t.height;return new f.Ae(n,r,o/e,i/e)}}])&&oi(t.prototype,n),i&&oi(t,i),s}(mo.M);window.Game=fi,o.q.command.on(r.init,vo)},7509:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"",""]),o.locals={families:'""'},t.Z=o},5970:function(e,t,n){var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,"body,canvas,html{user-select:none}*{padding:0;margin:0}body,html{width:100%;height:100%;overflow:hidden;background:#945d5d}.game{position:absolute;left:0;top:0;cursor:default !important}.fadeIn{opacity:1;transition:opacity .5s}.fadeOut{opacity:0;transition:opacity .5s}.levels{height:400px;overflow:scroll}",""]),o.locals={},t.Z=o},8299:function(e,t,n){var r=n(3379),o=n.n(r),i=n(7509),a={insert:"head",singleton:!1};o()(i.Z,a);t.Z=i.Z.locals||{}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=t,e=[],r.O=function(t,n,o,i){if(!n){var a=1/0;for(s=0;s<e.length;s++){n=e[s][0],o=e[s][1],i=e[s][2];for(var u=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(u=!1,i<a&&(a=i));u&&(e.splice(s--,1),t=o())}return t}i=i||0;for(var s=e.length;s>0&&e[s-1][2]>i;s--)e[s]=e[s-1];e[s]=[n,o,i]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={917:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,i,a=n[0],u=n[1],c=n[2],s=0;for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(c)var l=c(r);for(t&&t(n);s<a.length;s++)i=a[s],r.o(e,i)&&e[i]&&e[i][0](),e[a[s]]=0;return r.O(l)},n=self.webpackChunkclicker=self.webpackChunkclicker||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=r.O(void 0,[29],(function(){return r(7326)}));o=r.O(o)}();