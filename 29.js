(self.webpackChunkclicker=self.webpackChunkclicker||[]).push([[29],{6016:function(t,e,n){"use strict";n.d(e,{q:function(){return y}});n(9826),n(2222),n(6992),n(1532),n(1539),n(72),n(9137),n(1957),n(6306),n(103),n(4592),n(8276),n(5082),n(2813),n(8222),n(8563),n(336),n(7512),n(3948),n(1038),n(561),n(5306),n(7042),n(489),n(2419),n(2526),n(1817);function i(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function r(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=d(t);if(e){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function f(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var v=function(t){l(n,t);var e=c(n);function n(t){var i;return p(this,n),(i=e.call(this))._guards=[],i._payloads=[],i._lego=t,i}return u(n,[{key:"on",value:function(t,e){return this._lego.event.on(t,this._getEventCallback(e)),this}},{key:"once",value:function(t,e){return this._lego.event.once(t,this._getEventCallback(e)),this}},{key:"off",value:function(t,e){var n=this._lego.event.getListeners(t).find((function(t){return t.callback.__command===e}));return n?(this._lego.event.off(t,n.callback),this):this}},{key:"execute",value:function(){var t=this._guards,e=this._payloads,n=!t.length||!t.find((function(t){return!t.call.apply(t,[void 0].concat(r(e)))}));if(n){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];for(var s=0,u=a;s<u.length;s++){var l=u[s];this._execute.apply(this,[l].concat(r(e)))}}else this._resetGuardsAndPayloads();return this}},{key:"payload",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._payloads=e,this}},{key:"guard",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._guards=e,this}},{key:"_execute",value:function(t){this._resetGuardsAndPayloads();for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.call.apply(t,[void 0].concat(n))}},{key:"_resetGuardsAndPayloads",value:function(){this.guard().payload()}},{key:"_getEventCallback",value:function(t){return Object.defineProperties(this._execute.bind(this,t),{__command:{value:t}})}}]),n}((function t(){p(this,t)})),_=function(t){l(n,t);var e=c(n);function n(){var t;return p(this,n),(t=e.apply(this,arguments))._events=new Map,t}return u(n,[{key:"getListeners",value:function(t){return this._events.get(t)||[]}},{key:"on",value:function(t,e,n){return this._addListener(t,e,n,!1),this}},{key:"once",value:function(t,e,n){return this._addListener(t,e,n,!0),this}},{key:"off",value:function(t,e,n){return this._removeListener(t,e,n),this}},{key:"emit",value:function(t){var e=this.getListeners(t);if(e.length){for(var n=r(e),a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];var u,l=i(n);try{for(l.s();!(u=l.n()).done;){var h=u.value,c=h.callback,f=h.context,d=h.once;d&&this._removeListener(t,c,f),c.apply(f,o)}}catch(t){l.e(t)}finally{l.f()}}}},{key:"removeListenersOf",value:function(t){for(var e=Array.from(this._events.keys()),n=e.length-1;n>=0;n-=1)for(var i=e[n],r=this.getListeners(i),a=r.length-1;a>=0;a-=1){var o=r[a];o.context===t&&this._removeListener(i,o.callback,t)}}},{key:"_addListener",value:function(t,e,n,i){var r=this.getListeners(t),a={callback:e,context:n,once:i};r.length?r.push(a):this._events.set(t,[a])}},{key:"_removeListener",value:function(t,e,n){var i=this.getListeners(t);if(i.length){for(var r=i.length-1;r>=0;r-=1){var a=i[r],o=a.callback,s=a.context;if(o===e&&s===n){i.splice(r,1);break}}i.length||this._events.delete(t)}}}]),n}((function t(){p(this,t)}));var m=function(t){l(n,t);var e=c(n);function n(t){var i;return p(this,n),(i=e.call(this))._lego=t,i}return u(n,[{key:"makeObservable",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.length||(n=Object.keys(t));var a,o=i(n);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=t[s];delete t[s]&&this.createObservable(t,s,u)}}catch(t){o.e(t)}finally{o.f()}}},{key:"removeObservable",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];n.length||(n=Object.keys(t));var a,o=i(n);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=t[s];delete t[s]&&Object.defineProperty(t,s,{configurable:!0,enumerable:!0,writable:!0,value:u})}}catch(t){o.e(t)}finally{o.f()}}},{key:"createObservable",value:function(t,e,n){var i,r,a=this,o=`${t.__name__}${i=e,r=i.replace(/[^0-9a-z-A-Z]/g,"").replace(/ +/," "),`${r.charAt(0).toUpperCase()}${r.slice(1)}`}Update`,s=n,u=s;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return u},set:function(e){e!==u&&(s=u,u=e,a._lego.event.emit(o,u,s,t.uuid))}})}}]),n}((function t(){p(this,t)})),y=new(function(){function t(){p(this,t),this._observe=new m(this),this._event=new _,this._command=new v(this)}return u(t,[{key:"not",value:function(t){return function(){return!t.apply(void 0,arguments)}}},{key:"observe",get:function(){return this._observe}},{key:"event",get:function(){return this._event}},{key:"command",get:function(){return this._command}}]),t}())},8714:function(t,e,n){"use strict";n.d(e,{Oo:function(){return r},P1:function(){return i},D3:function(){return T}});n(3290),n(4747),n(9826),n(6699),n(2023),n(9601),n(2222),n(1249),n(561),n(2772),n(2526),n(1817),n(1539),n(6992),n(3948),n(1038),n(7042),n(489),n(2419);var i,r,a=n(4877);function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||d(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){if(t){if("string"==typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}!function(t){t[t.none=1]="none",t[t.fit=2]="fit",t[t.fill=3]="fill",t[t.showAll=4]="showAll",t[t.envelop=5]="envelop",t[t.custom=6]="custom"}(i||(i={})),function(t){t[t.none=1]="none",t[t.center=2]="center",t[t.centerTop=3]="centerTop",t[t.centerBottom=4]="centerBottom",t[t.leftCenter=5]="leftCenter",t[t.leftTop=6]="leftTop",t[t.leftBottom=7]="leftBottom",t[t.rightCenter=8]="rightCenter",t[t.rightTop=9]="rightTop",t[t.rightBottom=10]="rightBottom"}(r||(r={}));var y=function(){function t(e,n){v(this,t),this.x=e,this.y=n}return m(t,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}}]),t}(),g=function(){function t(e,n,i,r){v(this,t),this.x=e,this.y=n,this.width=i,this.height=r}return m(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}]),t}();function b(t){return parseInt(t,10)}function x(t,e,n){switch(n){case i.fit:return function(t,e){var n=t.width,i=t.height,r=e.width,a=e.height,o=Math.min(r/n,a/i);return o<1?new y(o,o):new y(1,1)}(t,e);case i.fill:return function(t,e){var n=t.width,i=t.height,r=e.width,a=e.height;return new y(r/n,a/i)}(t,e);case i.showAll:return function(t,e){var n=t.width,i=t.height,r=e.width,a=e.height,o=Math.min(r/n,a/i);return new y(o,o)}(t,e);case i.envelop:return function(t,e){var n=t.width,i=t.height,r=e.width,a=e.height,o=Math.max(r/n,a/i);return new y(o,o)}(t,e);case i.none:return new y(1,1);default:throw new Error(`Unknown scale type: ${n}`)}}function w(t,e,n){var i=t.width,a=t.height,o=e.x,s=e.y,u=e.width,l=e.height,h=new y(o,s);switch(n){case r.center:return h.set(o+(u-i)/2,s+(l-a)/2);case r.centerTop:return h.set(o+(u-i)/2,s);case r.centerBottom:return h.set(o+(u-i)/2,s+(l-a));case r.leftCenter:return h.set(o,s+(l-a)/2);case r.leftTop:return h;case r.leftBottom:return h.set(o,s+(l-a));case r.rightCenter:return h.set(o+(u-i),s+(l-a)/2);case r.rightTop:return h.set(o+(u-i),s);case r.rightBottom:return h.set(o+(u-i),s+(l-a));case r.none:return h;default:throw new Error(`Unknown align: ${w}`)}}var E=function(){function t(e){v(this,t);var n=e.name,i=e.bounds,r=e.cells,a=e.scale,o=e.align,s=e.padding,u=e.offset;this._config=e,this._name=this._getName(n),this._scale=this._getScale(a),this._align=this._getAlign(o),this._offset=this._getOffset(u),this._contents=this._getContents(),this._bounds=this._getBounds(i),this._padding=this._buildPadding(this._getPadding(s)),this._cells=this._buildCells(this._getCells(r))}return m(t,[{key:"config",get:function(){return this._config}},{key:"name",get:function(){return this._name}},{key:"cells",get:function(){return this._cells}},{key:"bounds",get:function(){return this._bounds}},{key:"padding",get:function(){return this._padding}},{key:"scale",get:function(){return this._scale}},{key:"align",get:function(){return this._align}},{key:"contents",get:function(){return this._contents}},{key:"area",get:function(){return this._padding}},{key:"offset",get:function(){return this._offset}},{key:"getCells",value:function(){var t=[];return t.push(this),this._cells.forEach((function(e){return t.push.apply(t,f(e.getCells()))})),t}},{key:"getCellByName",value:function(t){return this.getCells().find((function(e){return e._name===t}))}},{key:"getCellByContent",value:function(t){return this.getCells().find((function(e){return e.contents.includes(t)}))}},{key:"_getName",value:function(t){return t}},{key:"_getScale",value:function(t){return t||i.fit}},{key:"_getAlign",value:function(t){return t||r.center}},{key:"_getOffset",value:function(t){return t?new y(t.x||0,t.y||0):new y(0,0)}},{key:"_getContents",value:function(){return new Array(0)}},{key:"_getCells",value:function(t){return t||new Array(0)}},{key:"_getBounds",value:function(e){var n,i,r,a,o,s,u,l,h,c=e?(i=(n=e).x,r=void 0===i?0:i,a=n.y,o=void 0===a?0:a,s=n.width,u=void 0===s?0:s,l=n.height,h=void 0===l?0:l,new g("string"==typeof r?b(r):r,"string"==typeof o?b(o):o,"string"==typeof u?b(u):u,"string"==typeof h?b(h):h)):new g(0,0,t.minSize,t.minSize),f=this.offset;return new g(c.x+f.x,c.y+f.y,c.width,c.height)}},{key:"_getPadding",value:function(t){return t?"number"==typeof t?new g(l=t,l,1-2*l,1-2*l):(n=(e=t).x,i=void 0===n?0:n,r=e.y,a=void 0===r?0:r,o=e.width,s=void 0===o?1-(i||0):o,u=e.height,new g(i,a,s,void 0===u?1-(a||0):u)):new g(0,0,1,1);var e,n,i,r,a,o,s,u,l}},{key:"_buildPadding",value:function(t){var e=t.x,n=t.y,i=t.width,r=t.height,a=this._bounds,o=a.x,s=a.y,u=a.width,l=a.height;return new g(o+e*u,s+n*l,u*i,l*r)}},{key:"_buildCells",value:function(e){var n,i=[],r=this.area,a=r.width,o=r.height,s=r.left,u=r.right,l=r.top,h=r.bottom,c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=d(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(e);try{for(c.s();!(n=c.n()).done;){var p=n.value,v=p.bounds,_=void 0===v?new g(0,0,0,0):v,m=Object.assign({},_);_.x=void 0!==_.x?"string"==typeof _.x?s+b(_.x):s+_.x*a:Math.max.apply(Math,[s].concat(f(i.map((function(t){return t._bounds.right}))))),_.y=void 0!==_.y?"string"==typeof _.y?l+b(_.y):l+_.y*o:Math.max.apply(Math,[l].concat(f(i.map((function(t){return t._bounds.bottom}))))),_.width=void 0!==_.width?"string"==typeof _.width?b(_.width):_.width*a:u-_.x,_.height=void 0!==_.height?"string"==typeof _.height?b(_.height):_.height*o:h-_.y;var y=new t(p);y.config.bounds=m,i.push(y)}}catch(t){c.e(t)}finally{c.f()}return i}}]),t}();E.minSize=1/Number.MAX_SAFE_INTEGER;var S=function(){function t(e){v(this,t),this._parent=e}return m(t,[{key:"bringToTop",value:function(){this._debugger}},{key:"draw",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,i=arguments.length>2?arguments[2]:void 0,r=t.bounds,a=r.x,o=r.y,s=r.width,u=r.height,l=t.area,h=l.x,c=l.y,f=l.width,d=l.height,p=t.config.debug,v=void 0===p?i:p;if(v){void 0===this._debugger&&(this._debugger=new k,this._parent.addChild(this._debugger));var _=v.color,m=v.fill;m?this._debugger.fillRect(h,c,f,d,.8*n,_):this._debugger.strokeRect(h,c,f,d,.8*n,_),this._debugger.strokeRect(a,o,s,u,n,_)}t.cells.forEach((function(t){return e.draw(t,.7*n,v)}))}},{key:"clear",value:function(){this._debugger&&this._debugger.clear()}},{key:"strokeRect",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:k.defaultColor;this._debugger&&this._debugger.fillRect(t,e,n,i,r,a)}},{key:"fillRect",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:k.defaultColor;this._debugger&&this._debugger.strokeRect(t,e,n,i,r,a)}}]),t}(),k=function(t){o(n,t);var e=u(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"strokeRect",value:function(t,e,i,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n.defaultColor;this.lineStyle(a,o,1),this.drawRect(t,e,i,r)}},{key:"fillRect",value:function(t,e,i,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:n.defaultColor;this.lineStyle(a,o,1),this.beginFill(o,.4),this.drawRect(t,e,i,r),this.endFill()}}]),n}(a.Graphics);k.defaultColor=16777215;var T=function(t){o(n,t);var e=u(n);function n(){var t;return v(this,n),(t=e.call(this))._debug=new S(h(t)),t._internalBuild(t.getGridConfig()),t}return m(n,[{key:"rebuild",value:function(t){var e=this,n=this.grid.getCells();this._internalBuild(t||this.grid.config),n.forEach((function(t){return t.contents.forEach((function(n){return e._rebuildContent(t.name,n)}))}))}},{key:"getCellByName",value:function(t){return this.grid.getCellByName(t)}},{key:"getCellByContent",value:function(t){return this.grid.getCellByContent(t)}},{key:"setChild",value:function(t,e){return this.addChild(e),this._patchChildDestroy(e),this._rebuildContent(t,e),void 0!==e.postBuild&&e.postBuild(),this}},{key:"rebuildChild",value:function(t,e){var n=this.getCellByContent(t);if(void 0===n)throw new Error(`No cell found with ${t}`);return void 0===e&&(e=n.name),this.removeContent(t),this._rebuildContent(e,t),this}},{key:"addContent",value:function(t,e){e.contents.push(t)}},{key:"removeContent",value:function(t){var e=this.getCellByContent(t);void 0!==e&&e.contents.splice(e.contents.indexOf(t),1)}},{key:"_patchChildDestroy",value:function(t){var e=this,n=t.destroy;t.destroy=function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];n.call.apply(n,[t].concat(r)),e.removeContent(t)}}},{key:"_internalBuild",value:function(t){this.grid=new E(t),this._debug.clear(),this._debug.draw(this.grid)}},{key:"_rebuildContent",value:function(t,e){var n=this.grid.getCellByName(t);if(void 0===n)throw new Error(`No cell found with name ${t}`);this.removeContent(e),this.addContent(e,n),this._resetContent(e,n),this._adjustContent(e,n)}},{key:"_adjustContent",value:function(t,e){t instanceof n?this._adjustGridChild(t,e):this._adjustChild(t,e)}},{key:"_adjustGridChild",value:function(t,e){var n=t.getGridConfig();n.bounds=e.area,t.rebuild(n)}},{key:"_adjustChild",value:function(t,e){var n=t.getBounds();this._scaleContent(t,e,n),this._positionContent(t,e,n)}},{key:"_scaleContent",value:function(t,e,n){switch(e.scale){case i.none:break;case i.custom:if(!t.resize)throw new Error("resize() function does not implemented");t.resize(e.area.width,e.area.height);break;default:var r=t.worldTransform.a/t.localTransform.a,a=t.worldTransform.d/t.localTransform.d,o=x({width:n.width/r,height:n.height/a},e.area,e.scale);t.scale.set(o.x,o.y)}}},{key:"_positionContent",value:function(t,e,n){var i=t.worldTransform.a/t.localTransform.a,r=t.worldTransform.d/t.localTransform.d,a=w({width:n.width/i*t.scale.x,height:n.height/r*t.scale.y},e.area,e.align);t.position.set(a.x,a.y),t.x-=n.x/i*t.scale.x,t.y-=n.y/r*t.scale.y}},{key:"_resetContent",value:function(t,e){t.position.set(0,0),e.scale!==i.none&&t.scale.set(1,1),t.updateTransform()}}]),n}(a.Container)},6783:function(t,e,n){"use strict";n.d(e,{B:function(){return C}});n(1249),n(4747),n(9826),n(489),n(2419),n(4819),n(5003),n(2526),n(1817),n(1539),n(6992),n(3948),n(1038),n(7042);var i,r,a,o=n(4877);function s(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=p(t);if(e){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}!function(t){t[t.both=0]="both",t[t.top=1]="top",t[t.bottom=2]="bottom"}(i||(i={})),function(t){t[t.point=0]="point",t[t.line=1]="line",t[t.square=2]="square",t[t.ellipse=3]="ellipse"}(r||(r={})),function(t){t[t.single=0]="single",t[t.random=1]="random",t[t.animated=2]="animated"}(a||(a={}));var y=function(){function t(e,n){v(this,t),this.rotation=0,this.position=new o.Point(0,0),this.positionOffset=new o.Point(0,0),this.scale=new o.Point(0,0),this._sprite=new o.Sprite(n),this._sprite.anchor.set(.5),this._sprite.blendMode=e?o.BLEND_MODES.ADD:o.BLEND_MODES.NORMAL}return m(t,[{key:"sprite",get:function(){return this._sprite}},{key:"reset",value:function(){this.position.set(0,0),this.scale.set(1,1),this.texture=null}},{key:"update",value:function(){var t;this._sprite.texture=this.texture,this._sprite.tint=(255*(t=this.color)[0]<<16)+(255*t[1]<<8)+(255*t[2]|0),this._sprite.alpha=this.color[3],this.scale.copyTo(this._sprite.scale),this._sprite.position.x=this.position.x+this.positionOffset.x,this._sprite.position.y=this.position.y+this.positionOffset.y,this._sprite.angle=this.rotation}}]),t}(),g=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},b=function(t){return t[g(0,t.length-1)]},x=function(){function t(){v(this,t)}return m(t,[{key:"init",value:function(t){this.alwaysActive?this.active=!0:this.active=t.active}}]),t}(),w=function(t){h(n,t);var e=f(n);function n(){var t;return v(this,n),(t=e.call(this)).colors=[1,1,1],t.timeline=[0],t.alwaysActive=!0,t}return m(n,[{key:"getColor",value:function(t){for(var e=0,i=-1,r=this.timeline,a=r.length,o=1;o<a;o++){if(r[o]>t){i=o;break}e=o}var s=r[e];e*=3;var u=this.colors[e],l=this.colors[e+1],h=this.colors[e+2];if(-1==i)return n._temp[0]=u,n._temp[1]=l,n._temp[2]=h,n._temp;var c=(t-s)/(r[i]-s);return i*=3,n._temp[0]=u+(this.colors[i]-u)*c,n._temp[1]=l+(this.colors[i+1]-l)*c,n._temp[2]=h+(this.colors[i+2]-h)*c,n._temp}},{key:"init",value:function(t){if(l(p(n.prototype),"init",this).call(this,t),this.active){for(var e=t.colorsCount,i=0;i<e;i++)this.colors[i]=t["colors"+i];for(var r=t.timelineCount,a=0;a<r;a++)this.timeline[a]=t["timeline"+a]}}}]),n}(x);w._temp=[0,0,0,0];var E,S=function(t){return null==t},k=function(t){h(n,t);var e=f(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"newLowValue",get:function(){return this.lowMin+(this.lowMax-this.lowMin)*Math.random()}},{key:"setLow",value:function(t,e){this.lowMin=t,this.lowMax=S(e)?t:e}},{key:"scale",value:function(t){this.lowMin*=t,this.lowMax*=t}},{key:"init",value:function(t){l(p(n.prototype),"init",this).call(this,t),this.lowMin=t.lowMin,this.lowMax=t.lowMax}}]),n}(x),T=function(t){h(n,t);var e=f(n);function n(){var t;return v(this,n),(t=e.apply(this,arguments)).scaling=[1],t.timeline=[0],t}return m(n,[{key:"newHighValue",get:function(){return this.highMin+(this.highMax-this.highMin)*Math.random()}},{key:"setHigh",value:function(t,e){this.highMin=t,this.highMax=S(e)?t:e}},{key:"scale",value:function(t){l(p(n.prototype),"scale",this).call(this,t),this.highMin*=t,this.highMax*=t}},{key:"getScaling",value:function(){return this.scaling}},{key:"getScale",value:function(t){for(var e=-1,n=this.timeline,i=n.length,r=1;r<i;r++){if(n[r]>t){e=r;break}}if(-1==e)return this.scaling[i-1];var a=this.scaling,o=e-1,s=a[o],u=n[o];return s+(a[e]-s)*((t-u)/(n[e]-u))}},{key:"init",value:function(t){if(l(p(n.prototype),"init",this).call(this,t),this.active){this.highMin=t.highMin,this.highMax=t.highMax,this.relative=t.relative;var e=t.scalingCount;this.scaling=[];for(var i=0;i<e;i++)this.scaling.push(t["scaling"+i]);var r=t.timelineCount;this.timeline=[];for(var a=0;a<r;a++)this.timeline.push(t["timeline"+a])}}}]),n}(k),A=function(t){h(n,t);var e=f(n);function n(){return v(this,n),e.apply(this,arguments)}return m(n,[{key:"init",value:function(t){l(p(n.prototype),"init",this).call(this,t),this.independent=t.independent}}]),n}(T),R=function(t){h(n,t);var e=f(n);function n(){var t;return v(this,n),(t=e.apply(this,arguments)).shape=r.point,t.side=i.both,t}return m(n,[{key:"init",value:function(t){l(p(n.prototype),"init",this).call(this,t),this.active&&(this.shape=t.shape,this.shape===r.ellipse&&(this.edges=t.edges,this.side=t.side))}}]),n}(x);!function(t){t[t.scale=1]="scale",t[t.angle=2]="angle",t[t.rotation=4]="rotation",t[t.velocity=8]="velocity",t[t.wind=16]="wind",t[t.gravity=32]="gravity",t[t.tint=64]="tint",t[t.sprite=128]="sprite"}(E||(E={}));var I=function(){function t(e,n,i,r){v(this,t),this.duration=1,this.durationTimer=0,this.continuous=!1,this._delayValue=new k,this._lifeOffsetValue=new A,this._durationValue=new k,this._lifeValue=new A,this._emissionValue=new T,this._xScaleValue=new T,this._yScaleValue=new T,this._rotationValue=new T,this._velocityValue=new T,this._angleValue=new T,this._windValue=new T,this._gravityValue=new T,this._transparencyValue=new T,this._tintValue=new w,this._xOffsetValue=new T,this._yOffsetValue=new T,this._spawnWidthValue=new T,this._spawnHeightValue=new T,this._spawnShapeValue=new R,this._accumulator=0,this._spriteMode=a.single,this._minParticleCount=0,this._maxParticleCount=4,this._x=0,this._y=0,this._activeCount=0,this._firstUpdate=!1,this._flipX=!1,this._flipY=!1,this._updateFlags=0,this._allowCompletion=!1,this._emission=0,this._emissionDiff=0,this._emissionDelta=0,this._lifeOffset=0,this._lifeOffsetDiff=0,this._life=0,this._lifeDiff=0,this._spawnWidth=0,this._spawnWidthDiff=0,this._spawnHeight=0,this._spawnHeightDiff=0,this._delay=0,this._delayTimer=0,this._attached=!1,this._aligned=!1,this._additive=!0,this._initialize(),this._container=e,this.name=n;var o=i.options;this._attached=o.attached,this.continuous=o.continuous,this._aligned=o.aligned,this._additive=o.additive,this._spriteMode=o.spriteMode,this._delayValue.init(i.delay),this._durationValue.init(i.duration);var s=i.count;this._setMaxParticleCount(s.max),this._setMinParticleCount(s.min),this._emissionValue.init(i.emission),this._lifeValue.init(i.life),this._lifeOffsetValue.init(i.life.offset),this._xOffsetValue.init(i.offset.x),this._yOffsetValue.init(i.offset.y),this._spawnShapeValue.init(i.spawn),this._spawnWidthValue.init(i.spawn.width),this._spawnHeightValue.init(i.spawn.height),this._xScaleValue.init(i.scale.x),this._yScaleValue.init(i.scale.y),this._velocityValue.init(i.velocity),this._angleValue.init(i.angle),this._rotationValue.init(i.rotation),this._windValue.init(i.wind),this._gravityValue.init(i.gravity),this._tintValue.init(i.tint),this._transparencyValue.init(i.transparency);var u=i.textures;this.setTextures(u.map((function(t){return r(t)})))}return m(t,[{key:"update",value:function(t){if(this._accumulator+=t,!(this._accumulator<1)){var e=this._accumulator;if(this._accumulator-=e,this._delayTimer<this._delay)this._delayTimer+=e;else{var n=!1;if(this._firstUpdate&&(this._firstUpdate=!1,this._addParticle()),this.durationTimer<this.duration?this.durationTimer+=e:!this.continuous||this._allowCompletion?n=!0:this._restart(),!n){this._emissionDelta+=e;var i=this._emission+this._emissionDiff*this._emissionValue.getScale(this.durationTimer/this.duration);if(i>0&&(i=1e3/i,this._emissionDelta>=i)){var r=this._emissionDelta/i;r=~~Math.min(r,this._maxParticleCount-this._activeCount),this._emissionDelta-=r*i,this._emissionDelta%=i,this._addParticles(r)}this._activeCount<this._minParticleCount&&this._addParticles(this._minParticleCount-this._activeCount)}}for(var a=this._active,o=this._activeCount,s=this._particles,u=0,l=a.length;u<l;u++)a[u]&&!this._updateParticle(s[u],t,e)&&(a[u]=!1,this._deactivateParticle(s[u]),o--);this._activeCount=o}}},{key:"setTextures",value:function(t){var e=this;this.sprites=t,0!==t.length&&this._particles.forEach((function(n){if(null!==n){var i=null;switch(e._spriteMode){case a.single:i=t[0];break;case a.random:i=b(t);break;case a.animated:var r=1-n.currentLife/n.life;n.frame=Math.min(r*t.length,t.length-1),i=t[n.frame]}n.texture=i}}))}},{key:"setSpriteMode",value:function(t){this._spriteMode=t}},{key:"preAllocateParticles",value:function(){var t=this;if(0===this.sprites.length)throw new Error("ParticleEmitter.setSprites() must have been called before preAllocateParticles()");this._particles.forEach((function(e,n){null===e&&(t._particles[n]=e=t._newParticle(t.sprites[0]),e.flip.x=t._flipX,e.flip.y=t._flipY)}))}},{key:"allowCompletion",value:function(){this._allowCompletion=!0,this.durationTimer=this.duration}},{key:"start",value:function(){this._firstUpdate=!0,this._allowCompletion=!1,this._restart()}},{key:"reset",value:function(){this._emissionDelta=0,this.durationTimer=this.duration;for(var t=this._active,e=0,n=t.length;e<n;e++)t[e]=!1;this._activeCount=0,this.start()}},{key:"isComplete",value:function(){return!(this.continuous&&!this._allowCompletion)&&(!(this._delayTimer<this._delay)&&(this.durationTimer>=this.duration&&0==this._activeCount))}},{key:"getPercentComplete",value:function(){return this._delayTimer<this._delay?0:Math.min(1,this.durationTimer/this.duration)}},{key:"_newParticle",value:function(t){return new y(this._additive,t)}},{key:"_setMaxParticleCount",value:function(t){var e=this;this._maxParticleCount=t,this._active=Array.apply(void 0,s(Array(t))).map((function(){return!1})),this._activeCount=0,this._particles=Array.apply(void 0,s(Array(t))).map((function(){return new y(e._additive)}))}},{key:"_setMinParticleCount",value:function(t){this._minParticleCount=t}},{key:"_addParticle",value:function(){var t=this._activeCount;if(t!==this._maxParticleCount)for(var e=this._active,n=0,i=e.length;n<i;n++)if(!e[n]){this._activateParticle(n),e[n]=!0,this._activeCount=t+1;break}}},{key:"_addParticles",value:function(t){if(0!=(t=Math.min(t,this._maxParticleCount-this._activeCount))){var e=this._active,n=0,i=e.length;t:for(var r=0;r<t;r++){for(;n<i;n++)if(!e[n]){this._activateParticle(n),e[n++]=!0;continue t}break}this._activeCount+=t}}},{key:"_restart",value:function(){this._delay=this._delayValue.active?this._delayValue.newLowValue:0,this._delayTimer=0,this.durationTimer-=this.duration,this.duration=this._durationValue.newLowValue,this._emission=this._emissionValue.newLowValue,this._emissionDiff=this._emissionValue.newHighValue,this._emissionValue.relative||(this._emissionDiff-=this._emission),this._lifeValue.independent||this._generateLifeValues(),this._lifeOffsetValue.independent||this._generateLifeOffsetValues(),this._spawnWidth=this._spawnWidthValue.newLowValue,this._spawnWidthDiff=this._spawnWidthValue.newHighValue,this._spawnWidthValue.relative||(this._spawnWidthDiff-=this._spawnWidth),this._spawnHeight=this._spawnHeightValue.newLowValue,this._spawnHeightDiff=this._spawnHeightValue.newHighValue,this._spawnHeightValue.relative||(this._spawnHeightDiff-=this._spawnHeight),this._updateFlags=0,this._angleValue.active&&this._angleValue.timeline.length>1&&(this._updateFlags|=E.angle),this._velocityValue.active&&(this._updateFlags|=E.velocity),this._xScaleValue.timeline.length>1&&(this._updateFlags|=E.scale),this._yScaleValue.active&&this._yScaleValue.timeline.length>1&&(this._updateFlags|=E.scale),this._rotationValue.active&&this._rotationValue.timeline.length>1&&(this._updateFlags|=E.rotation),this._windValue.active&&(this._updateFlags|=E.wind),this._gravityValue.active&&(this._updateFlags|=E.gravity),this._tintValue.timeline.length>1&&(this._updateFlags|=E.tint),this._spriteMode==a.animated&&(this._updateFlags|=E.sprite)}},{key:"_initialize",value:function(){this.sprites=[],this._durationValue.alwaysActive=!0,this._emissionValue.alwaysActive=!0,this._lifeValue.alwaysActive=!0,this._xScaleValue.alwaysActive=!0,this._transparencyValue.alwaysActive=!0,this._spawnShapeValue.alwaysActive=!0,this._spawnWidthValue.alwaysActive=!0,this._spawnHeightValue.alwaysActive=!0}},{key:"_activateParticle",value:function(t){var e=null;switch(this._spriteMode){case a.single:case a.animated:e=this.sprites[0];break;case a.random:e=b(this.sprites)}var n=this._particles[t];null===n?(this._particles[t]=n=this._newParticle(e),n.flip.x=this._flipX,n.flip.y=this._flipY):(n.reset(),n.texture=e);var s=this.durationTimer/this.duration,u=this._updateFlags;this._lifeValue.independent&&this._generateLifeValues(),this._lifeOffsetValue.independent&&this._generateLifeOffsetValues(),n.currentLife=n.life=this._life+this._lifeDiff*this._lifeValue.getScale(s),this._velocityValue.active&&(n.velocity=this._velocityValue.newLowValue,n.velocityDiff=this._velocityValue.newHighValue,this._velocityValue.relative||(n.velocityDiff-=n.velocity)),n.angle=this._angleValue.newLowValue,n.angleDiff=this._angleValue.newHighValue,this._angleValue.relative||(n.angleDiff-=n.angle);var l=0;0==(u&E.angle)&&(l=n.angle+n.angleDiff*this._angleValue.getScale(0),n.angle=l,n.angleCos=Math.cos(o.DEG_TO_RAD*l),n.angleSin=Math.sin(o.DEG_TO_RAD*l));var h=e.width,c=e.height;if(n.xScale=this._xScaleValue.newLowValue/h,n.xScaleDiff=this._xScaleValue.newHighValue/h,this._xScaleValue.relative||(n.xScaleDiff-=n.xScale),this._yScaleValue.active?(n.yScale=this._yScaleValue.newLowValue/c,n.yScaleDiff=this._yScaleValue.newHighValue/c,this._yScaleValue.relative||(n.yScaleDiff-=n.yScale),n.scale.set(n.xScale+n.xScaleDiff*this._xScaleValue.getScale(0),n.yScale+n.yScaleDiff*this._yScaleValue.getScale(0))):n.scale.set(n.xScale+n.xScaleDiff*this._xScaleValue.getScale(0)),this._rotationValue.active){n.rotation=this._rotationValue.newLowValue,n.rotationDiff=this._rotationValue.newHighValue,this._rotationValue.relative||(n.rotationDiff-=n.rotation);var f=n.rotation+n.rotationDiff*this._rotationValue.getScale(0);this._aligned&&(f+=l),n.rotation=f}this._windValue.active&&(n.wind=this._windValue.newLowValue,n.windDiff=this._windValue.newHighValue,this._windValue.relative||(n.windDiff-=n.wind)),this._gravityValue.active&&(n.gravity=this._gravityValue.newLowValue,n.gravityDiff=this._gravityValue.newHighValue,this._gravityValue.relative||(n.gravityDiff-=n.gravity));var d=n.tint;null==d&&(n.tint=d=[0,0,0]);var p=this._tintValue.getColor(0);d[0]=p[0],d[1]=p[1],d[2]=p[2],n.transparency=this._transparencyValue.newLowValue,n.transparencyDiff=this._transparencyValue.newHighValue-n.transparency;var v=this._x;this._xOffsetValue.active&&(v+=this._xOffsetValue.newLowValue);var _=this._y;switch(this._yOffsetValue.active&&(_+=this._yOffsetValue.newLowValue),this._spawnShapeValue.shape){case r.square:var m=this._spawnWidth+this._spawnWidthDiff*this._spawnWidthValue.getScale(s),y=this._spawnHeight+this._spawnHeightDiff*this._spawnHeightValue.getScale(s);v+=g(0,m)-m/2,_+=g(0,y)-y/2;break;case r.ellipse:var x=this._spawnWidth+this._spawnWidthDiff*this._spawnWidthValue.getScale(s),w=x/2,S=(this._spawnHeight+this._spawnHeightDiff*this._spawnHeightValue.getScale(s))/2;if(0===w||0===S)break;var k=w/S;if(this._spawnShapeValue.edges){var T;switch(this._spawnShapeValue.side){case i.top:case i.bottom:T=g(0,179);break;default:T=g(0,360)}var A=Math.cos(o.DEG_TO_RAD*l),R=Math.sin(o.DEG_TO_RAD*l);v+=A*w,_+=R*w/k,0==(u&E.angle)&&(n.angle=T,n.angleCos=A,n.angleSin=R)}else for(var I=w*w;;){var C=g(0,x)-w,P=g(0,x)-w;if(C*C+P*P<=I){v+=C,_+=P/k;break}}break;case r.line:var M=this._spawnWidth+this._spawnWidthDiff*this._spawnWidthValue.getScale(s),O=this._spawnHeight+this._spawnHeightDiff*this._spawnHeightValue.getScale(s);if(0!=M){var D=M*Math.random();v+=D,_+=D*(O/M)}else _+=O*Math.random()}n.positionOffset.set(v,_);var N=this._lifeOffset+this._lifeOffsetDiff*this._lifeOffsetValue.getScale(s);N>0&&(N>=n.currentLife&&(N=n.currentLife-1),this._updateParticle(n,N,N)),this._container.addChild(n.sprite)}},{key:"_deactivateParticle",value:function(t){this._container.removeChild(t.sprite)}},{key:"_updateParticle",value:function(t,e,n){var i=t.currentLife-n;if(i<=0)return!1;t.currentLife=i;var r,a=1-t.currentLife/t.life,s=this._updateFlags;if(0!=(s&E.scale)&&(this._yScaleValue.active?t.scale.set(t.xScale+t.xScaleDiff*this._xScaleValue.getScale(a),t.yScale+t.yScaleDiff*this._yScaleValue.getScale(a)):t.scale.set(t.xScale+t.xScaleDiff*this._xScaleValue.getScale(a))),0!=(s&E.velocity)){var u=(t.velocity+t.velocityDiff*this._velocityValue.getScale(a))*e,l=0,h=0;if(0!=(s&E.angle)){var c=t.angle+t.angleDiff*this._angleValue.getScale(a);if(l=u*Math.cos(o.DEG_TO_RAD*c),h=u*Math.sin(o.DEG_TO_RAD*c),0!=(s&E.rotation)){var f=t.rotationDiff*this._rotationValue.getScale(a);this._aligned&&(f-=c),t.rotation=f}}else if(l=u*t.angleCos,h=u*t.angleSin,this._aligned||0!=(s&E.rotation)){var d=t.rotationDiff*this._rotationValue.getScale(a);this._aligned&&(d-=t.angle),t.rotation=d}0!=(s&E.wind)&&(l+=(t.wind+t.windDiff*this._windValue.getScale(a))*e),0!=(s&E.gravity)&&(h+=(t.gravity+t.gravityDiff*this._gravityValue.getScale(a))*e),t.position.x+=l,t.position.y-=h}else 0!=(s&E.rotation)&&(t.rotation=t.rotationDiff*this._rotationValue.getScale(a));if(r=0!=(s&E.tint)?this._tintValue.getColor(a):t.tint,t.color=[r[0],r[1],r[2],t.transparency+t.transparencyDiff*this._transparencyValue.getScale(a)],0!=(s&E.sprite)){var p=Math.min(a*this.sprites.length,this.sprites.length-1);if(t.frame!==p){var v=this.sprites[p];t.texture=v}}return t.update(),!0}},{key:"_generateLifeValues",value:function(){this._life=this._lifeValue.newLowValue,this._lifeDiff=this._lifeValue.newHighValue,this._lifeValue.relative||(this._lifeDiff-=this._life)}},{key:"_generateLifeOffsetValues",value:function(){this._lifeOffset=this._lifeOffsetValue.active?this._lifeOffsetValue.newLowValue:0,this._lifeOffsetDiff=this._lifeOffsetValue.newHighValue,this._lifeOffsetValue.relative||(this._lifeOffsetDiff-=this._lifeOffset)}}]),t}(),C=function(t){h(n,t);var e=f(n);function n(t,i){var r;return v(this,n),(r=e.call(this))._emitters=[],Object.keys(t).forEach((function(e){var n=r.newEmitter(e,t[e],i);r._emitters.push(n)})),r}return m(n,[{key:"start",value:function(){this._emitters.forEach((function(t){return t.start()}))}},{key:"reset",value:function(){this._emitters.forEach((function(t){return t.reset()}))}},{key:"update",value:function(t){this._emitters.forEach((function(e){return e.update(t)}))}},{key:"allowCompletion",value:function(){this._emitters.forEach((function(t){return t.allowCompletion()}))}},{key:"isComplete",value:function(){return!this._emitters.find((function(t){return!t.isComplete()}))}},{key:"setDuration",value:function(t){this._emitters.forEach((function(e){e.continuous=!1,e.duration=t,e.durationTimer=0}))}},{key:"getEmitters",value:function(){return this._emitters}},{key:"findEmitter",value:function(t){return this._emitters.find((function(e){return e.name===t}))}},{key:"preAllocateParticles",value:function(){this._emitters.forEach((function(t){return t.preAllocateParticles()}))}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{children:!0};l(p(n.prototype),"destroy",this).call(this,t)}},{key:"newEmitter",value:function(t,e,n){return new I(this,t,e,n)}}]),n}(o.Container)},4535:function(t,e,n){"use strict";n.d(e,{M:function(){return a}});n(9601),n(4747),n(7042),n(5069);var i=n(6993),r=n(6448),a=function(){function t(e){var n=this;this.stage=new i.W2,e=Object.assign({forceCanvas:!1},e),this.renderer=(0,r.e6)(e),t._plugins.forEach((function(t){t.init.call(n,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,n){var i=this,r=t._plugins.slice(0);r.reverse(),r.forEach((function(t){t.destroy.call(i)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),o=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){self.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,n;if(e.cancelResize(),e._resizeTo===self)t=self.innerWidth,n=self.innerHeight;else{var i=e._resizeTo;t=i.clientWidth,n=i.clientHeight}e.renderer.resize(t,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();a.registerPlugin(o)},7397:function(t,e,n){"use strict";var i,r,a,o,s,u,l,h,c,f,d,p,v,_,m,y,g,b;n.d(e,{iw:function(){return v},T$:function(){return o},V0:function(){return a},yl:function(){return _},lg:function(){return s},Vi:function(){return i},I2:function(){return u},UN:function(){return m},A7:function(){return g},WB:function(){return p},G5:function(){return b},cB:function(){return y},N3:function(){return r},oT:function(){return c},aH:function(){return f},sp:function(){return l},vK:function(){return h},Nt:function(){return d}}),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(i||(i={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(r||(r={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(a||(a={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(o||(o={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(s||(s={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(u||(u={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(l||(l={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(h||(h={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(c||(c={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(f||(f={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(d||(d={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(p||(p={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(v||(v={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(_||(_={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(m||(m={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(y||(y={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(g||(g={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(b||(b={}))},6448:function(t,e,n){"use strict";n.d(e,{eo:function(){return pe},M4:function(){return m},I8:function(){return oe},$N:function(){return y},ah:function(){return F},bg:function(){return g},jd:function(){return C},VL:function(){return _},a$:function(){return ce},JZ:function(){return _e},TJ:function(){return ge},Bv:function(){return be},Zk:function(){return ve},Sj:function(){return et},Ie:function(){return fe},lW:function(){return V},qm:function(){return p},Y8:function(){return b},lH:function(){return it},TA:function(){return x},wn:function(){return Ft},jV:function(){return K},kV:function(){return J},AI:function(){return I},WB:function(){return ot},tT:function(){return rt},Ei:function(){return Kt},fy:function(){return ne},ZX:function(){return H},TO:function(){return lt},W1:function(){return Zt},e_:function(){return l},_w:function(){return k},PA:function(){return w},HI:function(){return ht},zj:function(){return Xt},bO:function(){return tt},$r:function(){return Dt},NW:function(){return Ht},lD:function(){return W},ud:function(){return z},TI:function(){return N},uW:function(){return L},J$:function(){return qt},Th:function(){return se},_z:function(){return d},pX:function(){return E},id:function(){return jt},ex:function(){return Nt},p:function(){return Jt},z9:function(){return Ut},ZM:function(){return Lt},zI:function(){return te},Ld:function(){return Gt},xP:function(){return A},xE:function(){return O},wr:function(){return ee},UX:function(){return Vt},CT:function(){return ie},aF:function(){return P},oo:function(){return Z},eH:function(){return S},Rv:function(){return de},e6:function(){return ue},pb:function(){return h},a7:function(){return Pt},Y9:function(){return he},kP:function(){return le},Jb:function(){return xe},eG:function(){return Se},sg:function(){return kt}});n(1539),n(8674),n(6992),n(9575),n(4197),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016),n(2472),n(9135),n(9601),n(2772),n(561),n(7327),n(1249),n(3948),n(3210),n(3123),n(4986),n(9714),n(8255),n(5125),n(8264),n(7042),n(5306),n(2707),n(4723),n(7145),n(5109);var i=n(1863),r=n(7397),a=n(6603),o=n(6267),s=n(4175),u=n(7274);i.X.PREFER_ENV=a.isMobile.any?r.Vi.WEBGL:r.Vi.WEBGL2,i.X.STRICT_TEXTURE_CACHE=!1;var l=[];function h(t,e){if(!t)return null;var n="";if("string"==typeof t){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(n=i[1].toLowerCase())}for(var r=l.length-1;r>=0;--r){var a=l[r];if(a.test&&a.test(t,n))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function f(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var d=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new o.R("setRealSize"),this.onUpdate=new o.R("update"),this.onError=new o.R("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),p=function(t){function e(e,n){var i=this,r=n||{},a=r.width,o=r.height;if(!a||!o)throw new Error("BufferResource width or height invalid");return(i=t.call(this,a,o)||this).data=e,i}return f(e,t),e.prototype.upload=function(t,e,n){var i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===r.iw.UNPACK);var a=e.realWidth,o=e.realHeight;return n.width===a&&n.height===o?i.texSubImage2D(e.target,0,0,0,a,o,e.format,e.type,this.data):(n.width=a,n.height=o,i.texImage2D(e.target,0,n.internalFormat,a,o,0,e.format,n.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(d),v={scaleMode:r.aH.NEAREST,format:r.I2.RGBA,alphaMode:r.iw.NPM},_=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=t.call(this)||this,s=(n=n||{}).alphaMode,u=n.mipmap,l=n.anisotropicLevel,c=n.scaleMode,f=n.width,p=n.height,v=n.wrapMode,_=n.format,m=n.type,y=n.target,g=n.resolution,b=n.resourceOptions;return!e||e instanceof d||((e=h(e,b)).internal=!0),o.width=f||0,o.height=p||0,o.resolution=g||i.X.RESOLUTION,o.mipmap=void 0!==u?u:i.X.MIPMAP_TEXTURES,o.anisotropicLevel=void 0!==l?l:i.X.ANISOTROPIC_LEVEL,o.wrapMode=v||i.X.WRAP_MODE,o.scaleMode=void 0!==c?c:i.X.SCALE_MODE,o.format=_||r.I2.RGBA,o.type=m||r.vK.UNSIGNED_BYTE,o.target=y||r.sp.TEXTURE_2D,o.alphaMode=void 0!==s?s:r.iw.UNPACK,o.uid=(0,a.uid)(),o.touched=0,o.isPowerOfTwo=!1,o._refreshPOT(),o._glTextures={},o.dirtyId=0,o.dirtyStyleId=0,o.cacheId=null,o.valid=f>0&&p>0,o.textureCacheIds=[],o.destroyed=!1,o.resource=null,o._batchEnabled=0,o._batchLocation=0,o.parentTextureArray=null,o.setResource(e),o}return f(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var n;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=(0,a.isPow2)(this.realWidth)&&(0,a.isPow2)(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete a.BaseTextureCache[this.cacheId],delete a.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,n,r){void 0===r&&(r=i.X.STRICT_TEXTURE_CACHE);var o="string"==typeof t,s=null;if(o)s=t;else{if(!t._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";t._pixiId=u+"_"+(0,a.uid)()}s=t._pixiId}var l=a.BaseTextureCache[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new e(t,n)).cacheId=s,e.addToCache(l,s)),l},e.fromBuffer=function(t,n,i,a){t=t||new Float32Array(n*i*4);var o=new p(t,{width:n,height:i}),s=t instanceof Float32Array?r.vK.FLOAT:r.vK.UNSIGNED_BYTE;return new e(o,Object.assign(v,a||{width:n,height:i,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e],a.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=a.BaseTextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete a.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)delete a.BaseTextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(a.EventEmitter),m=function(t){function e(e,n){var i=this,r=n||{},a=r.width,o=r.height;(i=t.call(this,a,o)||this).items=[],i.itemDirtyIds=[];for(var s=0;s<e;s++){var u=new _;i.items.push(u),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return f(e,t),e.prototype.initFromArray=function(t,e){for(var n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof d?this.addResourceAt(t[n],n):this.addResourceAt(h(t[n],e),n))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],n=e.realWidth,i=e.realHeight;return t.resize(n,i),Promise.resolve(t)})),this._load},e}(d),y=function(t){function e(e,n){var i,r,a=this,o=n||{},s=o.width,u=o.height;return Array.isArray(e)?(i=e,r=e.length):r=e,a=t.call(this,r,{width:s,height:u})||this,i&&a.initFromArray(i,n),a}return f(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=r.sp.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,n){var i=this,r=i.length,a=i.itemDirtyIds,o=i.items,s=t.gl;n.dirtyId<0&&s.texImage3D(s.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var u=0;u<r;u++){var l=o[u];a[u]<l.dirtyId&&(a[u]=l.dirtyId,l.valid&&s.texSubImage3D(s.TEXTURE_2D_ARRAY,0,0,0,u,l.resource.width,l.resource.height,1,e.format,e.type,l.resource.source))}return!0},e}(m),g=function(t){function e(e){var n=this,i=e,r=i.naturalWidth||i.videoWidth||i.width,a=i.naturalHeight||i.videoHeight||i.height;return(n=t.call(this,r,a)||this).source=e,n.noSubImage=!1,n}return f(e,t),e.crossOrigin=function(t,e,n){void 0===n&&0!==e.indexOf("data:")?t.crossOrigin=(0,a.determineCrossOrigin)(e):!1!==n&&(t.crossOrigin="string"==typeof n?n:"anonymous")},e.prototype.upload=function(t,e,n,i){var a=t.gl,o=e.realWidth,s=e.realHeight;return i=i||this.source,a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===r.iw.UNPACK),this.noSubImage||e.target!==a.TEXTURE_2D||n.width!==o||n.height!==s?(n.width=o,n.height=s,a.texImage2D(e.target,0,e.format,e.format,e.type,i)):a.texSubImage2D(a.TEXTURE_2D,0,0,0,e.format,e.type,i),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(d),b=function(t){function e(e){return t.call(this,e)||this}return f(e,t),e.test=function(t){var e=self.OffscreenCanvas;return!!(e&&t instanceof e)||self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(g),x=function(t){function e(n,i){var a=this,o=i||{},s=o.width,u=o.height,l=o.autoLoad,h=o.linkBaseTexture;if(n&&n.length!==e.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");a=t.call(this,6,{width:s,height:u})||this;for(var c=0;c<e.SIDES;c++)a.items[c].target=r.sp.TEXTURE_CUBE_MAP_POSITIVE_X+c;return a.linkBaseTexture=!1!==h,n&&a.initFromArray(n,i),!1!==l&&a.load(),a}return f(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=r.sp.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=r.sp.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,n,i){for(var r=this.itemDirtyIds,a=0;a<e.SIDES;a++){var o=this.items[a];r[a]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(t,o,i),r[a]=o.dirtyId):r[a]<-1&&(t.gl.texImage2D(o.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),r[a]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(m),w=function(t){function e(e,n){var r=this;if(n=n||{},!(e instanceof HTMLImageElement)){var a=new Image;g.crossOrigin(a,e,n.crossorigin),a.src=e,e=a}return r=t.call(this,e)||this,!e.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==n.createBitmap?n.createBitmap:i.X.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof n.alphaMode?n.alphaMode:null,r.bitmap=null,r._load=null,!1!==n.autoLoad&&r.load(),r}return f(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,n){var i=e.source;e.url=i.src;var r=function(){e.destroyed||(i.onload=null,i.onerror=null,e.resize(i.width,i.height),e._load=null,e.createBitmap?t(e.process()):t(e))};i.complete&&i.src?r():(i.onload=r,i.onerror=function(t){n(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&self.createImageBitmap?(this._process=self.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===r.iw.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,n,i){if("number"==typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,n,i,this.bitmap),!this.preserveBitmap){var r=!0,a=n._glTextures;for(var o in a){var s=a[o];if(s!==i&&s.dirtyId!==n.dirtyId){r=!1;break}}r&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(g),E=function(t){function e(e,n){var i=this;return n=n||{},(i=t.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=e,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,!1!==n.autoLoad&&i.load(),i}return f(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;g.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(n){t._resolve&&(e.onerror=null,t.onError.emit(n))},e.onload=function(){if(t._resolve){var n=e.width,i=e.height;if(!n||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var r=n*t.scale,o=i*t.scale;(t._overrideWidth||t._overrideHeight)&&(r=t._overrideWidth||t._overrideHeight/i*n,o=t._overrideHeight||t._overrideWidth/n*i),r=Math.round(r),o=Math.round(o);var s=t.source;s.width=r,s.height=o,s._pixiId="canvas_"+(0,a.uid)(),s.getContext("2d").drawImage(e,0,0,n,i,0,0,r,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var n=e.SVG_SIZE.exec(t),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(g),S=function(t){function e(n,i){var r=this;if(i=i||{},!(n instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),"string"==typeof n&&(n=[n]);var o=n[0].src||n[0];g.crossOrigin(a,o,i.crossorigin);for(var s=0;s<n.length;++s){var u=document.createElement("source"),l=n[s],h=l.src,c=l.mime,f=(h=h||n[s]).split("?").shift().toLowerCase(),d=f.substr(f.lastIndexOf(".")+1);c=c||e.MIME_TYPES[d]||"video/"+d,u.src=h,u.type=c,a.appendChild(u)}n=a}return(r=t.call(this,n)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return f(e,t),e.prototype.update=function(e){if(!this.destroyed){var n=s.vB.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){t.valid?n(t):(t._resolve=n,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(s.vB.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(s.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&s.vB.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(s.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,n){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(g),k=function(t){function e(e){return t.call(this,e)||this}return f(e,t),e.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},e}(g);l.push(w,k,b,S,E,p,x,y);var T={__proto__:null,Resource:d,BaseImageResource:g,INSTALLED:l,autoDetectResource:h,AbstractMultiResource:m,ArrayResource:y,BufferResource:p,CanvasResource:b,CubeResource:x,ImageResource:w,SVGResource:E,VideoResource:S,ImageBitmapResource:k},A=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.upload=function(t,e,n){var i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===r.iw.UNPACK);var a=e.realWidth,o=e.realHeight;return n.width===a&&n.height===o?i.texSubImage2D(e.target,0,0,0,a,o,e.format,e.type,this.data):(n.width=a,n.height=o,i.texImage2D(e.target,0,1===t.context.webGLVersion?i.DEPTH_COMPONENT:i.DEPTH_COMPONENT16,a,o,0,e.format,e.type,this.data)),!0},e}(p),I=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new o.R("disposeFramebuffer"),this.multisample=r.G5.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new _(null,{scaleMode:r.aH.NEAREST,resolution:1,mipmap:r.WB.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new _(new R(null,{width:this.width,height:this.height}),{scaleMode:r.aH.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:r.WB.OFF,format:r.I2.DEPTH_COMPONENT,type:r.vK.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],r=i.resolution;i.setSize(t/r,e/r)}if(this.depthTexture){r=this.depthTexture.resolution;this.depthTexture.setSize(t/r,e/r)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),C=function(t){function e(e){var n=this;if("number"==typeof e){var i=arguments[0],a=arguments[1],o=arguments[2],s=arguments[3];e={width:i,height:a,scaleMode:o,resolution:s}}n=t.call(this,null,e)||this;var u=e||{},l=u.width,h=u.height;return n.mipmap=r.WB.OFF,n.width=Math.ceil(l)||100,n.height=Math.ceil(h)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new I(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return f(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(_),P=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,n){var i=e.width,r=e.height;if(n){var a=t.width/2/i,o=t.height/2/r,s=t.x/i+a,l=t.y/r+o;n=u.Lv.add(n,u.Lv.NW),this.x0=s+a*u.Lv.uX(n),this.y0=l+o*u.Lv.uY(n),n=u.Lv.add(n,2),this.x1=s+a*u.Lv.uX(n),this.y1=l+o*u.Lv.uY(n),n=u.Lv.add(n,2),this.x2=s+a*u.Lv.uX(n),this.y2=l+o*u.Lv.uY(n),n=u.Lv.add(n,2),this.x3=s+a*u.Lv.uX(n),this.y3=l+o*u.Lv.uY(n)}else this.x0=t.x/i,this.y0=t.y/r,this.x1=(t.x+t.width)/i,this.y1=t.y/r,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/r,this.x3=t.x/i,this.y3=(t.y+t.height)/r;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),M=new P,O=function(t){function e(n,i,r,a,o,s){var l=t.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new u.Ae(0,0,1,1)),n instanceof e&&(n=n.baseTexture),l.baseTexture=n,l._frame=i,l.trim=a,l.valid=!1,l._uvs=M,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(o||0),!0===o)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=s?new u.E9(s.x,s.y):new u.E9(0,0),l._updateID=0,l.textureCacheIds=[],n.valid?l.noFrame?n.valid&&l.onBaseTextureUpdated(n):l.frame=i:n.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&n.on("update",l.onBaseTextureUpdated,l),l}return f(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var n=this.baseTexture.resource;n&&n.url&&a.TextureCache[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var t=this._frame.clone(),n=this._frame===this.orig?t:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&t,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=t),i},e.prototype.updateUvs=function(){this._uvs===M&&(this._uvs=new P),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,n,r){void 0===n&&(n={}),void 0===r&&(r=i.X.STRICT_TEXTURE_CACHE);var o="string"==typeof t,s=null;if(o)s=t;else{if(!t._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";t._pixiId=u+"_"+(0,a.uid)()}s=t._pixiId}var l=a.TextureCache[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||(n.resolution||(n.resolution=(0,a.getResolutionOfUrl)(t)),(l=new e(new _(t,n))).baseTexture.cacheId=s,_.addToCache(l.baseTexture,s),e.addToCache(l,s)),l},e.fromURL=function(t,n){var i=Object.assign({autoLoad:!1},null==n?void 0:n.resourceOptions),r=e.from(t,Object.assign({resourceOptions:i},n),!1),a=r.baseTexture.resource;return r.baseTexture.valid?Promise.resolve(r):a.load().then((function(){return Promise.resolve(r)}))},e.fromBuffer=function(t,n,i,r){return new e(_.fromBuffer(t,n,i,r))},e.fromLoader=function(t,n,r,o){var s=new _(t,Object.assign({scaleMode:i.X.SCALE_MODE,resolution:(0,a.getResolutionOfUrl)(n)},o)),u=s.resource;u instanceof w&&(u.url=n);var l=new e(s);return r||(r=n),_.addToCache(l.baseTexture,r),e.addToCache(l,r),r!==n&&(_.addToCache(l.baseTexture,n),e.addToCache(l,n)),l.baseTexture.valid?Promise.resolve(l):new Promise((function(t){l.baseTexture.once("loaded",(function(){return t(l)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.TextureCache[e],a.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=a.TextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete a.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var i=0;i<t.textureCacheIds.length;++i)a.TextureCache[t.textureCacheIds[i]]===t&&delete a.TextureCache[t.textureCacheIds[i]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,i=t.width,r=t.height,a=e+i>this.baseTexture.width,o=n+r>this.baseTexture.height;if(a||o){var s=a&&o?"and":"or",u="X: "+e+" + "+i+" = "+(e+i)+" > "+this.baseTexture.width,l="Y: "+n+" + "+r+" = "+(n+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+l)}this.valid=i&&r&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(a.EventEmitter);function D(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}O.EMPTY=new O(new _),D(O.EMPTY),D(O.EMPTY.baseTexture),O.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new O(new _(new b(t)))}(),D(O.WHITE),D(O.WHITE.baseTexture);var N=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return f(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,n){void 0===n&&(n=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var n=arguments,i=[],r=1;r<arguments.length;r++)i[r-1]=n[r];return"number"==typeof t&&((0,a.deprecation)("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new C(t))},e}(O),L=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var n=new C(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new N(n)},t.prototype.getOptimalTexture=function(e,n,i){void 0===i&&(i=1);var r=t.SCREEN_KEY;e*=i,n*=i,this.enableFullScreen&&e===this._pixelsWidth&&n===this._pixelsHeight||(r=(65535&(e=(0,a.nextPow2)(e)))<<16|65535&(n=(0,a.nextPow2)(n))),this.texturePool[r]||(this.texturePool[r]=[]);var o=this.texturePool[r].pop();return o||(o=this.createTexture(e,n)),o.filterPoolKey=r,o.setResolution(i),o},t.prototype.getFilterTexture=function(t,e){var n=this.getOptimalTexture(t.width,t.height,e||t.resolution);return n.filterFrame=t.filterFrame,n},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var n=t.SCREEN_KEY,i=this.texturePool[n];if(this.enableFullScreen=e.width>0&&e.height>0,i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[n]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),F=function(){function t(t,e,n,i,a,o,s){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===i&&(i=r.vK.FLOAT),this.buffer=t,this.size=e,this.normalized=n,this.type=i,this.stride=a,this.start=o,this.instance=s}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,n,i,r,a){return new t(e,n,i,r,a)},t}(),B=0,V=function(){function t(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=B++,this.disposeRunner=new o.R("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function U(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var X={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Y={5126:4,5123:2,5121:1},j=0,G={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},H=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=j++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new o.R("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,n,i,r,a,o,s){if(void 0===n&&(n=0),void 0===i&&(i=!1),void 0===s&&(s=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof V||(e instanceof Array&&(e=new Float32Array(e)),e=new V(e));var u=t.split("|");if(u.length>1){for(var l=0;l<u.length;l++)this.addAttribute(u[l],e,n,i,r);return this}var h=this.buffers.indexOf(e);return-1===h&&(this.buffers.push(e),h=this.buffers.length-1),this.attributes[t]=new F(h,n,i,r,a,o,s),this.instanced=this.instanced||s,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof V||(t instanceof Array&&(t=new Uint16Array(t)),t=new V(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],n=[],i=new V;for(t in this.attributes){var r=this.attributes[t],a=this.buffers[r.buffer];e.push(a.data),n.push(r.size*Y[r.type]/4),r.buffer=0}for(i.data=function(t,e){for(var n=0,i=0,r={},a=0;a<t.length;a++)i+=e[a],n+=t[a].length;var o=new ArrayBuffer(4*n),s=null,u=0;for(a=0;a<t.length;a++){var l=e[a],h=t[a],c=U(h);r[c]||(r[c]=new X[c](o)),s=r[c];for(var f=0;f<h.length;f++)s[(f/l|0)*i+u+f%l]=h[f];u+=l}return new Float32Array(o)}(e,n),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,n=0;n<this.buffers.length;n++)e.buffers[n]=new V(this.buffers[n].data.slice(0));for(var n in this.attributes){var i=this.attributes[n];e.attributes[n]=new F(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var n,i=new t,r=[],a=[],o=[],s=0;s<e.length;s++){n=e[s];for(var u=0;u<n.buffers.length;u++)a[u]=a[u]||0,a[u]+=n.buffers[u].data.length,o[u]=0}for(s=0;s<n.buffers.length;s++)r[s]=new(G[U(n.buffers[s].data)])(a[s]),i.buffers[s]=new V(r[s]);for(s=0;s<e.length;s++){n=e[s];for(u=0;u<n.buffers.length;u++)r[u].set(n.buffers[u].data,o[u]),o[u]+=n.buffers[u].data.length}if(i.attributes=n.attributes,n.indexBuffer){i.indexBuffer=i.buffers[n.buffers.indexOf(n.indexBuffer)],i.indexBuffer.index=!0;var l=0,h=0,c=0,f=0;for(s=0;s<n.buffers.length;s++)if(n.buffers[s]!==n.indexBuffer){f=s;break}for(var s in n.attributes){var d=n.attributes[s];(0|d.buffer)===f&&(h+=d.size*Y[d.type]/4)}for(s=0;s<e.length;s++){var p=e[s].indexBuffer.data;for(u=0;u<p.length;u++)i.indexBuffer.data[u+c]+=l;l+=n.buffers[f].data.length/h,c+=p.length}}return i},t}(),W=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return f(e,t),e}(H),z=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new V(e.vertices),e.uvBuffer=new V(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return f(e,t),e.prototype.map=function(t,e){var n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+e.width/t.width,this.uvs[3]=i,this.uvs[4]=n+e.width/t.width,this.uvs[5]=i+e.height/t.height,this.uvs[6]=n,this.uvs[7]=i+e.height/t.height,n=e.x,i=e.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+e.width,this.vertices[3]=i,this.vertices[4]=n+e.width,this.vertices[5]=i+e.height,this.vertices[6]=n,this.vertices[7]=i+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(H),q=0,Z=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=q++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,n,i){this.uniforms[e]=new t(n,i)},t.from=function(e,n){return new t(e,n)},t}(),K=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new u.Ae,this.destinationFrame=new u.Ae,this.bindingSourceFrame=new u.Ae,this.bindingDestinationFrame=new u.Ae,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),$=[new u.E9,new u.E9,new u.E9,new u.E9],Q=new u.y3,J=function(t){function e(e){var n=t.call(this,e)||this;return n.defaultFilterStack=[{}],n.texturePool=new L,n.texturePool.setScreenSize(e.view),n.statePool=[],n.quad=new W,n.quadUv=new z,n.tempRect=new u.Ae,n.activeState={},n.globalUniforms=new Z({outputFrame:new u.Ae,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return f(e,t),e.prototype.push=function(t,e){for(var n=this.renderer,i=this.defaultFilterStack,r=this.statePool.pop()||new K,a=this.renderer.renderTexture,o=e[0].resolution,s=e[0].padding,u=e[0].autoFit,l=e[0].legacy,h=1;h<e.length;h++){var c=e[h];o=Math.min(o,c.resolution),s=this.useMaxPadding?Math.max(s,c.padding):s+c.padding,u=u&&c.autoFit,l=l||c.legacy}if(1===i.length&&(this.defaultFilterStack[0].renderTexture=a.current),i.push(r),r.resolution=o,r.legacy=l,r.target=t,r.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),r.sourceFrame.pad(s),u){var f=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(Q.copyFrom(n.projection.transform).invert(),f),r.sourceFrame.fit(f)}this.roundFrame(r.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),r.renderTexture=this.getOptimalFilterTexture(r.sourceFrame.width,r.sourceFrame.height,o),r.filters=e,r.destinationFrame.width=r.renderTexture.width,r.destinationFrame.height=r.renderTexture.height;var d=this.tempRect;d.x=0,d.y=0,d.width=r.sourceFrame.width,d.height=r.sourceFrame.height,r.renderTexture.filterFrame=r.sourceFrame,r.bindingSourceFrame.copyFrom(a.sourceFrame),r.bindingDestinationFrame.copyFrom(a.destinationFrame),r.transform=n.projection.transform,n.projection.transform=null,a.bind(r.renderTexture,r.sourceFrame,d),n.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),n=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var a=i.inputSize,o=i.inputPixel,s=i.inputClamp;if(a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=a[0]*e.resolution,o[1]=a[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*a[2]-.5*o[2],s[3]=e.sourceFrame.height*a[3]-.5*o[3],e.legacy){var u=i.filterArea;u[0]=e.destinationFrame.width,u[1]=e.destinationFrame.height,u[2]=e.sourceFrame.x,u[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,e.renderTexture,l.renderTexture,r.yl.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var h=e.renderTexture,c=this.getOptimalFilterTexture(h.width,h.height,e.resolution);c.filterFrame=h.filterFrame;var f=0;for(f=0;f<n.length-1;++f){n[f].apply(this,h,c,r.yl.CLEAR,e);var d=h;h=c,c=d}n[f].apply(this,h,l.renderTexture,r.yl.BLEND,e),this.returnFilterTexture(h),this.returnFilterTexture(c)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){void 0===e&&(e=r.yl.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,i.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&a.stateId||this.forceClear;(e===r.yl.CLEAR||e===r.yl.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,e,n,i){var a=this.renderer;a.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(r.lg.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(r.lg.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.activeState,i=n.sourceFrame,r=n.destinationFrame,a=e._texture.orig,o=t.set(r.width,0,0,r.height,i.x,i.y),s=e.worldTransform.copyTo(u.y3.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/a.width,1/a.height),o.translate(e.anchor.x,e.anchor.y),o},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,n){return void 0===n&&(n=1),this.texturePool.getOptimalTexture(t,e,n)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var n=t;t=e,e=n}t=t||this.activeState.renderTexture;var i=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return i.filterFrame=t.filterFrame,i},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,e){var n=$[0],i=$[1],r=$[2],a=$[3];n.set(e.left,e.top),i.set(e.left,e.bottom),r.set(e.right,e.top),a.set(e.right,e.bottom),t.apply(n,n),t.apply(i,i),t.apply(r,r),t.apply(a,a);var o=Math.min(n.x,i.x,r.x,a.x),s=Math.min(n.y,i.y,r.y,a.y),u=Math.max(n.x,i.x,r.x,a.x),l=Math.max(n.y,i.y,r.y,a.y);e.x=o,e.y=s,e.width=u-o,e.height=l-s},e.prototype.roundFrame=function(t,e,n,i,r){if(r){var a=r.a,o=r.b,s=r.c,u=r.d;if(!(0===o&&0===s||0===a&&0===u))return}(r=r?Q.copyFrom(r):Q.identity()).translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(r,t),t.ceil(e),this.transformAABB(r.invert(),t)},e}(A),tt=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),et=function(t){function e(e){var n=t.call(this,e)||this;return n.emptyRenderer=new tt(e),n.currentRenderer=n.emptyRenderer,n}return f(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var n=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)},e.prototype.boundArray=function(t,e,n,i){for(var r=t.elements,a=t.ids,o=t.count,s=0,u=0;u<o;u++){var l=r[u],h=l._batchLocation;if(h>=0&&h<i&&e[h]===l)a[u]=h;else for(;s<i;){var c=e[s];if(!c||c._batchEnabled!==n||c._batchLocation!==s){a[u]=s,l._batchLocation=s,e[s]=l;break}s++}}},e}(A),nt=0,it=function(t){function e(e){var n=t.call(this,e)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),e.view.addEventListener("webglcontextlost",n.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return f(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=nt++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=nt++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var n;if(i.X.PREFER_ENV>=r.Vi.WEBGL2&&(n=t.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var e=t.getContextAttributes(),n="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;n&&(this.webGLVersion=2),e.stencil;var i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i},e}(A),rt=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=r.G5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},at=new u.Ae,ot=function(t){function e(e){var n=t.call(this,e)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new I(10,10),n.msaaSamples=null,n}return f(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new u.Ae,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;i.X.PREFER_ENV===r.Vi.WEBGL_LEGACY&&(e=null,n=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var n=this.gl;if(t){var i=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,i.framebuffer)),i.dirtyId!==t.dirtyId&&(i.dirtyId=t.dirtyId,i.dirtyFormat!==t.dirtyFormat?(i.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):i.dirtySize!==t.dirtySize&&(i.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var r=0;r<t.colorTextures.length;r++){var a=t.colorTextures[r];this.renderer.texture.unbind(a.parentTextureArray||a)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,n,i){var r=this.viewport;r.width===n&&r.height===i&&r.x===t&&r.y===e||(r.x=t,r.y=e,r.width=n,r.height=i,this.gl.viewport(t,e,n,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,n,i,a){void 0===a&&(a=r.V0.COLOR|r.V0.DEPTH);var o=this.gl;o.clearColor(t,e,n,i),o.clear(a)},e.prototype.initFramebuffer=function(t){var e=this.gl,n=new rt(e.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var i=t.colorTextures,r=0;r<i.length;r++)this.renderer.texture.bind(i[r],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID],i=t.colorTextures.length;e.drawBuffers||(i=Math.min(i,1)),n.multisample>1&&(n.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,n.msaaBuffer));for(var r=[],a=0;a<i;a++)if(!(0===a&&n.multisample>1)){var o=t.colorTextures[a],s=o.parentTextureArray||o;this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+a,o.target,s._glTextures[this.CONTEXT_UID].texture,0),r.push(e.COLOR_ATTACHMENT0+a)}if((r.length>1&&e.drawBuffers(r),t.depthTexture)&&this.writeDepthTexture){var u=t.depthTexture;this.renderer.texture.bind(u,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}n.stencil||!t.stencil&&!t.depth||(n.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,n.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,n=r.G5.NONE;if(t<=1||null===e)return n;for(var i=0;i<e.length;i++)if(e[i]<=t){n=e[i];break}return 1===n&&(n=r.G5.NONE),n},e.prototype.blit=function(t,e,n){var i=this,r=i.current,a=i.renderer,o=i.gl,s=i.CONTEXT_UID;if(2===a.context.webGLVersion&&r){var u=r.glFramebuffers[s];if(u){if(!t){if(u.multisample<=1)return;u.blitFramebuffer||(u.blitFramebuffer=new I(r.width,r.height),u.blitFramebuffer.addColorTexture(0,r.colorTextures[0])),(t=u.blitFramebuffer).width=r.width,t.height=r.height}e||((e=at).width=r.width,e.height=r.height),n||(n=e);var l=e.width===n.width&&e.height===n.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(e.x,e.y,e.width,e.height,n.x,n.y,n.width,n.height,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(n){delete t.glFramebuffers[this.CONTEXT_UID];var r=this.managedFramebuffers.indexOf(t);r>=0&&this.managedFramebuffers.splice(r,1),t.disposeRunner.remove(this),e||(i.deleteFramebuffer(n.framebuffer),n.stencil&&i.deleteRenderbuffer(n.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var n=t.width,i=t.height,r=this.gl,a=r.createRenderbuffer();r.bindRenderbuffer(r.RENDERBUFFER,a),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,n,i),e.stencil=a,r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,a)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new u.Ae},e}(A),st=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ut={5126:4,5123:2,5121:1},lt=function(t){function e(e){var n=t.call(this,e)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return f(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;i.X.PREFER_ENV===r.Vi.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(t){return n.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return n.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var a=t.getExtension("ANGLE_instanced_arrays");a?(t.vertexAttribDivisor=function(t,e){return a.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,n,i,r){return a.drawElementsInstancedANGLE(t,e,n,i,r)},t.drawArraysInstanced=function(t,e,n,i){return a.drawArraysInstancedANGLE(t,e,n,i)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var n=this.gl,i=t.glVertexArrayObjects[this.CONTEXT_UID],r=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},r=!0);var a=i[e.program.id]||this.initGeometryVao(t,e.program,r);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,n=0;n<t.buffers.length;n++){var i=t.buffers[n],r=i._glBuffers[this.CONTEXT_UID];if(i._updateID!==r.updateID){r.updateID=i._updateID;var a=i.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(a,r.buffer),this._boundBuffer=r,r.byteLength>=i.data.byteLength)e.bufferSubData(a,0,i.data);else{var o=i.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;r.byteLength=i.data.byteLength,e.bufferData(a,i.data,o)}}}},e.prototype.checkCompatibility=function(t,e){var n=t.attributes,i=e.attributeData;for(var r in i)if(!n[r])throw new Error('shader and geometry incompatible, geometry missing the "'+r+'" attribute')},e.prototype.getSignature=function(t,e){var n=t.attributes,i=e.attributeData,r=["g",t.id];for(var a in n)i[a]&&r.push(a);return r.join("-")},e.prototype.initGeometryVao=function(t,e,n){void 0===n&&(n=!0),this.checkCompatibility(t,e);var i=this.gl,r=this.CONTEXT_UID,a=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[a];if(s)return o[e.id]=s,s;var u=t.buffers,l=t.attributes,h={},c={};for(var f in u)h[f]=0,c[f]=0;for(var f in l)!l[f].size&&e.attributeData[f]?l[f].size=e.attributeData[f].size:l[f].size,h[l[f].buffer]+=l[f].size*ut[l[f].type];for(var f in l){var d=l[f],p=d.size;void 0===d.stride&&(h[d.buffer]===p*ut[d.type]?d.stride=0:d.stride=h[d.buffer]),void 0===d.start&&(d.start=c[d.buffer],c[d.buffer]+=p*ut[d.type])}s=i.createVertexArray(),i.bindVertexArray(s);for(var v=0;v<u.length;v++){var _=u[v];_._glBuffers[r]||(_._glBuffers[r]=new st(i.createBuffer()),this.managedBuffers[_.id]=_,_.disposeRunner.add(this)),n&&_._glBuffers[r].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[a]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(e||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var n=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,r=t.buffers;if(t.disposeRunner.remove(this),n){for(var a=0;a<r.length;a++){var o=r[a]._glBuffers[this.CONTEXT_UID];o.refCount--,0!==o.refCount||e||this.disposeBuffer(r[a],e)}if(!e)for(var s in n)if("g"===s[0]){var u=n[s];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],t);e=Object.keys(this.managedBuffers);for(n=0;n<e.length;n++)this.disposeBuffer(this.managedBuffers[e[n]],t)},e.prototype.activateVao=function(t,e){var n=this.gl,i=this.CONTEXT_UID,r=t.buffers,a=t.attributes;t.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[i].buffer);var o=null;for(var s in a){var u=a[s],l=r[u.buffer]._glBuffers[i];if(e.attributeData[s]){o!==l&&(n.bindBuffer(n.ARRAY_BUFFER,l.buffer),o=l);var h=e.attributeData[s].location;if(n.enableVertexAttribArray(h),n.vertexAttribPointer(h,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(h,1)}}}},e.prototype.draw=function(t,e,n,i){var r=this.gl,a=this._activeGeometry;if(a.indexBuffer){var o=a.indexBuffer.data.BYTES_PER_ELEMENT,s=2===o?r.UNSIGNED_SHORT:r.UNSIGNED_INT;(2===o||4===o&&this.canUseUInt32ElementIndex)&&(a.instanced?r.drawElementsInstanced(t,e||a.indexBuffer.data.length,s,(n||0)*o,i||1):r.drawElements(t,e||a.indexBuffer.data.length,s,(n||0)*o))}else a.instanced?r.drawArraysInstanced(t,n,e||a.getSize(),i||1):r.drawArrays(t,n,e||a.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(A),ht=function(){function t(t){void 0===t&&(t=null),this.type=r.A7.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=r.A7.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function ct(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}function ft(t,e,n,i){var r=ct(t,t.VERTEX_SHADER,e),a=ct(t,t.FRAGMENT_SHADER,n),o=t.createProgram();if(t.attachShader(o,r),t.attachShader(o,a),i)for(var s in i)t.bindAttribLocation(o,i[s],s);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS),t.getShaderParameter(a,t.COMPILE_STATUS),t.getProgramInfoLog(o),t.deleteProgram(o),o=null),t.deleteShader(r),t.deleteShader(a),o}function dt(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e}function pt(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return dt(2*e);case"bvec3":return dt(3*e);case"bvec4":return dt(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var vt,_t={},mt=_t;function yt(){if(mt===_t||mt&&mt.isContextLost()){var t=document.createElement("canvas"),e=void 0;i.X.PREFER_ENV>=r.Vi.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),mt=e}return mt}function gt(t,e,n){if("precision"!==t.substring(0,9)){var i=e;return e===r.cB.HIGH&&n!==r.cB.HIGH&&(i=r.cB.MEDIUM),"precision "+i+" float;\n"+t}return n!==r.cB.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var bt={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function xt(t){return bt[t]}var wt=null,Et={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function St(t,e){if(!wt){var n=Object.keys(Et);wt={};for(var i=0;i<n.length;++i){var r=n[i];wt[t[r]]=Et[r]}}return wt[e]}var kt=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Tt={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},At={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var Rt,It=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ct(t){for(var e="",n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+="if(test == "+n+".0){}");return e}function Pt(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=e.createShader(e.FRAGMENT_SHADER);;){var i=It.replace(/%forloop%/gi,Ct(t));if(e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return t}var Mt=0,Ot={},Dt=function(){function t(e,n,a){void 0===a&&(a="pixi-shader"),this.id=Mt++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(a=a.replace(/\s+/g,"-"),Ot[a]?(Ot[a]++,a+="-"+Ot[a]):Ot[a]=1,this.vertexSrc="#define SHADER_NAME "+a+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+a+"\n"+this.fragmentSrc,this.vertexSrc=gt(this.vertexSrc,i.X.PRECISION_VERTEX,r.cB.HIGH),this.fragmentSrc=gt(this.fragmentSrc,i.X.PRECISION_FRAGMENT,function(){if(!vt){vt=r.cB.MEDIUM;var t=yt();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);vt=e.precision?r.cB.HIGH:r.cB.MEDIUM}}return vt}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var n=yt();if(n){var i=ft(n,t,e);this.attributeData=this.getAttributeData(i,n),this.uniformData=this.getUniformData(i,n),n.deleteProgram(i)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var n={},i=[],r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),a=0;a<r;a++){var o=e.getActiveAttrib(t,a),s=St(e,o.type),u={type:s,name:o.name,size:xt(s),location:0};n[o.name]=u,i.push(u)}i.sort((function(t,e){return t.name>e.name?1:-1}));for(a=0;a<i.length;a++)i[a].location=a;return n},t.prototype.getUniformData=function(t,e){for(var n={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<i;r++){var a=e.getActiveUniform(t,r),o=a.name.replace(/\[.*?\]$/,""),s=a.name.match(/\[.*?\]$/),u=St(e,a.type);n[o]={type:u,size:a.size,isArray:s,value:pt(u,a.size)}}return n},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,n,i){var r=e+n,o=a.ProgramCache[r];return o||(a.ProgramCache[r]=o=new t(e,n,i)),o},t}(),Nt=function(){function t(t,e){for(var n in this.program=t,this.uniformGroup=e?e instanceof Z?e:new Z(e):new Z({}),t.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var n in e.uniforms){var i=e.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,n,i){return new t(Dt.from(e,n),i)},t}(),Lt=function(){function t(){this.data=0,this.blendMode=r.T$.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==r.T$.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Ft=function(t){function e(n,r,a){var o=this,s=Dt.from(n||e.defaultVertexSrc,r||e.defaultFragmentSrc);return(o=t.call(this,s,a)||this).padding=0,o.resolution=i.X.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Lt,o}return f(e,t),e.prototype.apply=function(t,e,n,i,r){t.applyFilter(this,e,n,i)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(Nt),Bt=new u.y3,Vt=function(){function t(t,e){this._texture=t,this.mapCoord=new u.y3,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,i=0;i<t.length;i+=2){var r=t[i],a=t[i+1];e[i]=r*n.a+a*n.c+n.tx,e[i+1]=r*n.b+a*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=e.orig,r=e.trim;r&&(Bt.set(i.width/r.width,0,0,i.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(Bt));var a=e.baseTexture,o=this.uClampFrame,s=this.clampMargin/a.resolution,u=this.clampOffset;return o[0]=(e._frame.x+s+u)/a.width,o[1]=(e._frame.y+s+u)/a.height,o[2]=(e._frame.x+e._frame.width-s+u)/a.width,o[3]=(e._frame.y+e._frame.height-s+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=e._frame.width===a.width&&e._frame.height===a.height&&0===e.rotate,!0},t}(),Ut=function(t){function e(e){var n=this,i=new u.y3;return n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,n.maskSprite=e,n.maskMatrix=i,n}return f(e,t),e.prototype.apply=function(t,e,n,i){var r=this.maskSprite,a=r._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new Vt(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,r).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,t.applyFilter(this,e,n,i))},e}(Ft),Xt=function(t){function e(e){var n=t.call(this,e)||this;return n.enableScissor=!0,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return f(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var n=e;if(!n.isMaskData){var i=this.maskDataPool.pop()||new ht;i.pooled=!0,i.maskObject=e,n=i}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=t,n.type){case r.A7.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case r.A7.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case r.A7.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case r.A7.SCISSOR:this.renderer.scissor.pop();break;case r.A7.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case r.A7.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=r.A7.SPRITE;else if(t.type=r.A7.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var n=e.worldTransform,i=Math.atan2(n.b,n.a),a=Math.atan2(n.d,n.c);i=Math.round(i*(180/Math.PI)*100),a=((a=Math.round(a*(180/Math.PI)*100)-i)%18e3+18e3)%18e3,0===(i=(i%9e3+9e3)%9e3)&&9e3===a&&(t.type=r.A7.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,n=t._target,i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Ut(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e;var r=n.filterArea;n.filterArea=e.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=r,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(A),Yt=function(t){function e(e){var n=t.call(this,e)||this;return n.maskStack=[],n.glConst=0,n}return f(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var i=this.getStackLength();i!==n&&(0===i?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(A),jt=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return f(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var n=t._scissorRect,i=e.getBounds(!0),r=this.renderer.gl;e.renderable=!1,n?i.fit(n):r.enable(r.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=i,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,n=this.renderer.projection,i=n.transform,r=n.sourceFrame,a=n.destinationFrame,o=e?e.resolution:this.renderer.resolution,s=a.width/r.width,u=a.height/r.height,l=((t.x-r.x)*s+a.x)*o,h=((t.y-r.y)*u+a.y)*o,c=t.width*s*o,f=t.height*u*o;i&&(l+=i.tx*o,h+=i.ty*o),e||(h=this.renderer.height-f-h),this.renderer.gl.scissor(l,h,c,f)},e}(Yt),Gt=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return f(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,n=this.renderer.gl,i=t._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),t._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,i,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),this.renderer.framebuffer.blit(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Yt),Ht=function(t){function e(e){var n=t.call(this,e)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new u.y3,n.transform=null,n}return f(e,t),e.prototype.update=function(t,e,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var r=this.renderer;r.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,r.globalUniforms.update(),r.shader.shader&&r.shader.syncUniformGroup(r.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,n,i){var r=this.projectionMatrix,a=i?-1:1;r.identity(),r.a=1/e.width*2,r.d=a*(1/e.height*2),r.tx=-1-e.x*r.a,r.ty=-a-e.y*r.d},e.prototype.setTransform=function(t){},e}(A),Wt=new u.Ae,zt=new u.Ae,qt=function(t){function e(e){var n=t.call(this,e)||this;return n.clearColor=e._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new u.Ae,n.destinationFrame=new u.Ae,n.viewportFrame=new u.Ae,n}return f(e,t),e.prototype.bind=function(t,e,n){void 0===t&&(t=null);var i,r,a,o=this.renderer;this.current=t,t?(a=(i=t.baseTexture).resolution,e||(Wt.width=t.frame.width,Wt.height=t.frame.height,e=Wt),n||(zt.x=t.frame.x,zt.y=t.frame.y,zt.width=e.width,zt.height=e.height,n=zt),r=i.framebuffer):(a=o.resolution,e||(Wt.width=o.screen.width,Wt.height=o.screen.height,e=Wt),n||((n=Wt).width=e.width,n.height=e.height));var s=this.viewportFrame;s.x=n.x*a,s.y=n.y*a,s.width=n.width*a,s.height=n.height*a,t||(s.y=o.view.height-(s.y+s.height)),this.renderer.framebuffer.bind(r,s),this.renderer.projection.update(n,e,a,!r),t?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,r=n.width!==i.width||n.height!==i.height;if(r){var a=this.viewportFrame,o=a.x,s=a.y,u=a.width,l=a.height;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,s,u,l)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),r&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(A),Zt=function(){},Kt=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),$t=0,Qt={textureCount:0},Jt=function(t){function e(e){var n=t.call(this,e)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=$t++,n}return f(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof Rt)return Rt;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Rt=!0===t({a:"b"},"a","b")}catch(t){Rt=!1}return Rt}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),e||(Qt.textureCount=0,this.syncUniformGroup(t.uniformGroup,Qt)),i},e.prototype.setUniforms=function(t){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var n=this.getglProgram();t.static&&t.dirtyId===n.uniformGroups[t.id]||(n.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,e))},e.prototype.syncUniforms=function(t,e,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var n=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var i in t.uniforms){var r=e[i];if(r){for(var a=t.uniforms[i],o=!1,s=0;s<kt.length;s++)if(kt[s].test(r,a)){n.push(kt[s].code(i,a)),o=!0;break}if(!o){var u=(1===r.size?Tt:At)[r.type].replace("location",'ud["'+i+'"].location');n.push('\n            cv = ud["'+i+'"].value;\n            v = uv["'+i+'"];\n            '+u+";")}}else t.uniforms[i].group&&n.push('\n                    renderer.shader.syncUniformGroup(uv["'+i+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var n=t.uniforms,i=[];for(var r in n)i.push(r),e[r]&&i.push(e[r].type);return i.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,n=t.program,i={};for(var r in n.attributeData)i[r]=n.attributeData[r].location;var a=ft(e,n.vertexSrc,n.fragmentSrc,i),o={};for(var r in n.uniformData){var s=n.uniformData[r];o[r]={location:e.getUniformLocation(a,r),value:pt(s.type,s.size)}}var u=new Kt(a,o);return n.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(A);var te=function(t){function e(e){var n=t.call(this,e)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=r.T$.NONE,n._blendEq=!1,n.map=[],n.map[0]=n.setBlend,n.map[1]=n.setOffset,n.map[2]=n.setCullFace,n.map[3]=n.setDepthTest,n.map[4]=n.setFrontFace,n.map[5]=n.setDepthMask,n.checks=[],n.defaultState=new Lt,n.defaultState.blend=!0,n}return f(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[r.T$.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.ADD]=[t.ONE,t.ONE],e[r.T$.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.NONE]=[0,0],e[r.T$.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[r.T$.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.T$.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[r.T$.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[r.T$.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[r.T$.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[r.T$.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[r.T$.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[r.T$.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[r.T$.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[r.T$.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,n=0;e;)1&e&&this.map[n].call(this,!!(t.data&1<<n)),e>>=1,n++;this.stateId=t.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],n=this.gl;2===e.length?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var n=this.checks.indexOf(t);e&&-1===n?this.checks.push(t):e||-1===n||this.checks.splice(n,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(A),ee=function(t){function e(e){var n=t.call(this,e)||this;return n.count=0,n.checkCount=0,n.maxIdle=i.X.GC_MAX_IDLE,n.checkCountMax=i.X.GC_MAX_CHECK_COUNT,n.mode=i.X.GC_MODE,n}return f(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==r.UN.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,n=!1,i=0;i<e.length;i++){var r=e[i];!r.framebuffer&&this.count-r.touched>this.maxIdle&&(t.destroyTexture(r,!0),e[i]=null,n=!0)}if(n){var a=0;for(i=0;i<e.length;i++)null!==e[i]&&(e[a++]=e[i]);e.length=a}},e.prototype.unload=function(t){var e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},e}(A),ne=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121,this.samplerType=0},ie=function(t){function e(e){var n=t.call(this,e)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new _,n.hasIntegerTextures=!1,n}return f(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new ne(t.createTexture());t.bindTexture(t.TEXTURE_2D,i.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=i,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ne(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var n=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<n.length;i++)n[i]===t&&(this.currentLocation!==i&&(e.activeTexture(e.TEXTURE0+i),this.currentLocation=i),e.bindTexture(t.target,this.emptyTextures[t.target].texture),n[i]=null)},e.prototype.ensureSamplerType=function(t){var e=this,n=e.boundTextures,i=e.hasIntegerTextures,a=e.CONTEXT_UID;if(i)for(var o=t-1;o>=0;--o){var s=n[o];if(s)s._glTextures[a].samplerType!==r.oT.FLOAT&&this.renderer.texture.unbind(s)}},e.prototype.initTexture=function(t){var e=new ne(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var n=this.renderer.gl;t.type===n.FLOAT&&t.format===n.RGBA&&(e.internalFormat=n.RGBA32F),t.type===r.vK.HALF_FLOAT&&(e.type=n.HALF_FLOAT),e.type===n.HALF_FLOAT&&t.format===n.RGBA&&(e.internalFormat=n.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var n=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(n,t,e))e.samplerType!==r.oT.FLOAT&&(this.hasIntegerTextures=!0);else{var i=t.realWidth,a=t.realHeight,o=n.gl;(e.width!==i||e.height!==a||e.dirtyId<0)&&(e.width=i,e.height=a,o.texImage2D(t.target,0,e.internalFormat,i,a,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var n=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(t);-1!==i&&(0,a.removeItems)(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==r.WB.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=r.Nt.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var n=this.gl;if(e.mipmap&&t.mipmap!==r.WB.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===r.aH.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===r.aH.LINEAR){var a=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===r.aH.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===r.aH.LINEAR?n.LINEAR:n.NEAREST)},e}(A),re={__proto__:null,FilterSystem:J,BatchSystem:et,ContextSystem:it,FramebufferSystem:ot,GeometrySystem:lt,MaskSystem:Xt,ScissorSystem:jt,StencilSystem:Gt,ProjectionSystem:Ht,RenderTextureSystem:qt,ShaderSystem:Jt,StateSystem:te,TextureGCSystem:ee,TextureSystem:ie},ae=new u.y3,oe=function(t){function e(e,n){void 0===e&&(e=r.N3.UNKNOWN);var o=t.call(this)||this;return n=Object.assign({},i.X.RENDER_OPTIONS,n),o.options=n,o.type=e,o.screen=new u.Ae(0,0,n.width,n.height),o.view=n.view||document.createElement("canvas"),o.resolution=n.resolution||i.X.RESOLUTION,o.useContextAlpha=n.useContextAlpha,o.autoDensity=!!n.autoDensity,o.preserveDrawingBuffer=n.preserveDrawingBuffer,o.clearBeforeRender=n.clearBeforeRender,o._backgroundColor=0,o._backgroundColorRgba=[0,0,0,1],o._backgroundColorString="#000000",o.backgroundColor=n.backgroundColor||o._backgroundColor,o.backgroundAlpha=n.backgroundAlpha,void 0!==n.transparent&&((0,a.deprecation)("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),o.useContextAlpha=n.transparent,o.backgroundAlpha=n.transparent?0:1),o._lastObjectRendered=null,o.plugins={},o}return f(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,n,i){0===(i=i||t.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var r=N.create({width:0|i.width,height:0|i.height,scaleMode:e,resolution:n});return ae.tx=-i.x,ae.ty=-i.y,this.render(t,{renderTexture:r,clear:!1,transform:ae,skipUpdateTransform:!!t.parent}),r},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var n=this;n.plugins=null,n.type=r.N3.UNKNOWN,n.view=null,n.screen=null,n._tempDisplayObjectParent=null,n.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,a.hex2string)(t),(0,a.hex2rgb)(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(a.EventEmitter),se=function(t){function e(n){var i=t.call(this,r.N3.WEBGL,n)||this;return n=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new o.R("destroy"),contextChange:new o.R("contextChange"),reset:new o.R("reset"),update:new o.R("update"),postrender:new o.R("postrender"),prerender:new o.R("prerender"),resize:new o.R("resize")},i.globalUniforms=new Z({projectionMatrix:new u.y3},!0),i.addSystem(Xt,"mask").addSystem(it,"context").addSystem(te,"state").addSystem(Jt,"shader").addSystem(ie,"texture").addSystem(lt,"geometry").addSystem(ot,"framebuffer").addSystem(jt,"scissor").addSystem(Gt,"stencil").addSystem(Ht,"projection").addSystem(ee,"textureGC").addSystem(J,"filter").addSystem(qt,"renderTexture").addSystem(et,"batch"),i.initPlugins(e.__plugins),n.context?i.context.initFromContext(n.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:n.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,(0,a.sayHello)(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return f(e,t),e.create=function(t){if((0,a.isWebGLSupported)())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var n=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var i in this[e]=n,this.runners)this.runners[i].add(n);return this},e.prototype.render=function(t,e){var n,i,r,o;if(e&&(e instanceof N?((0,a.deprecation)("6.0.0","Renderer#render arguments changed, use options instead."),n=e,i=arguments[2],r=arguments[3],o=arguments[4]):(n=e.renderTexture,i=e.clear,r=e.transform,o=e.skipUpdateTransform)),this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=r,!this.context.isLost){if(n||(this._lastObjectRendered=t),!o){var s=t.enableTempParent();t.updateTransform(),t.disableTempParent(s)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(e,n)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return(0,a.deprecation)("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,n){e.__plugins=e.__plugins||{},e.__plugins[t]=n},e}(oe);function ue(t){return se.create(t)}var le="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",he="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",ce=function(){this.texArray=null,this.blend=0,this.type=r.lg.TRIANGLES,this.start=0,this.size=0,this.data=null},fe=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),de=function(){function t(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),pe=function(t){function e(e){var n=t.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Lt.for2d(),n.size=4*i.X.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return f(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;i.X.PREFER_ENV===r.Vi.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),i.X.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Pt(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,r=Math.floor(i/this.MAX_TEXTURES)+1;t.length<i;)t.push(new ce);for(;n.length<r;)n.push(new fe);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,n=this.MAX_TEXTURES,i=e._textureArrayPool,r=this.renderer.batch,a=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++_._globalBatch,u=0,l=i[0],h=0;r.copyBoundTextures(a,n);for(var c=0;c<this._bufferSize;++c){var f=t[c];t[c]=null,f._batchEnabled!==s&&(l.count>=n&&(r.boundArray(l,a,s,n),this.buildDrawCalls(l,h,c),h=c,l=i[++u],++s),f._batchEnabled=s,f.touched=o,l.elements[l.count++]=f)}l.count>0&&(r.boundArray(l,a,s,n),this.buildDrawCalls(l,h,this._bufferSize),++u,++s);for(c=0;c<a.length;c++)a[c]=null;_._globalBatch=s},e.prototype.buildDrawCalls=function(t,n,i){var r=this,o=r._bufferedElements,s=r._attributeBuffer,u=r._indexBuffer,l=r.vertexSize,h=e._drawCallPool,c=this._dcIndex,f=this._aIndex,d=this._iIndex,p=h[c];p.start=this._iIndex,p.texArray=t;for(var v=n;v<i;++v){var _=o[v],m=_._texture.baseTexture,y=a.premultiplyBlendMode[m.alphaMode?1:0][_.blendMode];o[v]=null,n<v&&p.blend!==y&&(p.size=d-p.start,n=v,(p=h[++c]).texArray=t,p.start=d),this.packInterleavedGeometry(_,s,u,f,d),f+=_.vertexData.length/2*l,d+=_.indices.length,p.blend=y}n<i&&(p.size=d-p.start,++c),this._dcIndex=c,this._aIndex=f,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this,e=t._packedGeometries,n=t._attributeBuffer,r=t._indexBuffer;i.X.CAN_UPLOAD_SAME_BUFFER?(e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(n.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,n=this.renderer,i=n.gl,r=n.state,a=e._drawCallPool,o=null,s=0;s<t;s++){var u=a[s],l=u.texArray,h=u.type,c=u.size,f=u.start,d=u.blend;o!==l&&(o=l,this.bindAndClearTexArray(l)),this.state.blendMode=d,r.set(this.state),i.drawElements(h,c,i.UNSIGNED_SHORT,2*f)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),i.X.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=(0,a.nextPow2)(Math.ceil(t/8)),n=(0,a.log2)(e),i=8*e;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var r=this._aBuffers[i];return r||(this._aBuffers[i]=r=new de(i*this.vertexSize*4)),r},e.prototype.getIndexBuffer=function(t){var e=(0,a.nextPow2)(Math.ceil(t/12)),n=(0,a.log2)(e),i=12*e;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var r=this._iBuffers[n];return r||(this._iBuffers[n]=r=new Uint16Array(i)),r},e.prototype.packInterleavedGeometry=function(t,e,n,i,r){for(var o=e.uint32View,s=e.float32View,u=i/this.vertexSize,l=t.uvs,h=t.indices,c=t.vertexData,f=t._texture.baseTexture._batchLocation,d=Math.min(t.worldAlpha,1),p=d<1&&t._texture.baseTexture.alphaMode?(0,a.premultiplyTint)(t._tintRGB,d):t._tintRGB+(255*d<<24),v=0;v<c.length;v+=2)s[i++]=c[v],s[i++]=c[v+1],s[i++]=l[v],s[i++]=l[v+1],o[i++]=p,s[i++]=f;for(v=0;v<h.length;v++)n[r++]=u+h[v]},e._drawCallPool=[],e._textureArrayPool=[],e}(tt),ve=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),n=0;n<t;n++)e[n]=n;this.defaultGroupCache[t]=Z.from({uSamplers:e},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Dt(this.vertexSrc,i)}var r={tint:new Float32Array([1,1,1,1]),translationMatrix:new u.y3,default:this.defaultGroupCache[t]};return new Nt(this.programCache[t],r)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var n=0;n<t;n++)n>0&&(e+="\nelse "),n<t-1&&(e+="if(vTextureId < "+n+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),_e=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n._buffer=new V(null,e,!1),n._indexBuffer=new V(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,r.vK.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,r.vK.FLOAT).addAttribute("aColor",n._buffer,4,!0,r.vK.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,r.vK.FLOAT).addIndex(n._indexBuffer),n}return f(e,t),e}(H),me="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ye="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",ge=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:me,fragment:ye,geometryClass:_e,vertexSize:6},t),n=e.vertex,i=e.fragment,r=e.vertexSize,a=e.geometryClass;return function(t){function e(e){var o=t.call(this,e)||this;return o.shaderGenerator=new ve(n,i),o.geometryClass=a,o.vertexSize=r,o}return f(e,t),e}(pe)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return me},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return ye},enumerable:!1,configurable:!0}),t}(),be=ge.create(),xe={},we=function(t){Object.defineProperty(xe,t,{get:function(){return(0,a.deprecation)("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),T[t]}})};for(var Ee in T)we(Ee);var Se={},ke=function(t){Object.defineProperty(Se,t,{get:function(){return(0,a.deprecation)("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),re[t]}})};for(var Ee in re)ke(Ee)},6993:function(t,e,n){"use strict";n.d(e,{YZ:function(){return o},W2:function(){return f},s$:function(){return l},Ql:function(){return h}});n(5003),n(561),n(2772),n(2707),n(7327);var i=n(1863),r=n(7274),a=n(6603);i.X.SORTABLE_CHILDREN=!1;var o=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Ae.EMPTY:((t=t||new r.Ae(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var n=t.a,i=t.b,r=t.c,a=t.d,o=t.tx,s=t.ty,u=n*e.x+r*e.y+o,l=i*e.x+a*e.y+s;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,i=this.maxX,r=this.maxY,a=t[0],o=t[1];e=a<e?a:e,n=o<n?o:n,i=a>i?a:i,r=o>r?o:r,e=(a=t[2])<e?a:e,n=(o=t[3])<n?o:n,i=a>i?a:i,r=o>r?o:r,e=(a=t[4])<e?a:e,n=(o=t[5])<n?o:n,i=a>i?a:i,r=o>r?o:r,e=(a=t[6])<e?a:e,n=(o=t[7])<n?o:n,i=a>i?a:i,r=o>r?o:r,this.minX=e,this.minY=n,this.maxX=i,this.maxY=r},t.prototype.addFrame=function(t,e,n,i,r){this.addFrameMatrix(t.worldTransform,e,n,i,r)},t.prototype.addFrameMatrix=function(t,e,n,i,r){var a=t.a,o=t.b,s=t.c,u=t.d,l=t.tx,h=t.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,v=a*e+s*n+l,_=o*e+u*n+h;c=v<c?v:c,f=_<f?_:f,d=v>d?v:d,p=_>p?_:p,c=(v=a*i+s*n+l)<c?v:c,f=(_=o*i+u*n+h)<f?_:f,d=v>d?v:d,p=_>p?_:p,c=(v=a*e+s*r+l)<c?v:c,f=(_=o*e+u*r+h)<f?_:f,d=v>d?v:d,p=_>p?_:p,c=(v=a*i+s*r+l)<c?v:c,f=(_=o*i+u*r+h)<f?_:f,d=v>d?v:d,p=_>p?_:p,this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addVertexData=function(t,e,n){for(var i=this.minX,r=this.minY,a=this.maxX,o=this.maxY,s=e;s<n;s+=2){var u=t[s],l=t[s+1];i=u<i?u:i,r=l<r?l:r,a=u>a?u:a,o=l>o?l:o}this.minX=i,this.minY=r,this.maxX=a,this.maxY=o},t.prototype.addVertices=function(t,e,n,i){this.addVerticesMatrix(t.worldTransform,e,n,i)},t.prototype.addVerticesMatrix=function(t,e,n,i,r,a){void 0===r&&(r=0),void 0===a&&(a=r);for(var o=t.a,s=t.b,u=t.c,l=t.d,h=t.tx,c=t.ty,f=this.minX,d=this.minY,p=this.maxX,v=this.maxY,_=n;_<i;_+=2){var m=e[_],y=e[_+1],g=o*m+u*y+h,b=l*y+s*m+c;f=Math.min(f,g-r),p=Math.max(p,g+r),d=Math.min(d,b-a),v=Math.max(v,b+a)}this.minX=f,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,i=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>r?t.maxY:r},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,i=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,a=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=r&&i<=a){var o=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<o?n:o,this.minY=i<s?i:s,this.maxX=r>u?r:u,this.maxY=a>l?a:l}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,i=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=r&&i<=a){var o=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=n<o?n:o,this.minY=i<s?i:s,this.maxX=r>u?r:u,this.maxY=a>l?a:l}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,n,i,r,a){t-=r,e-=a,n+=r,i+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}(),s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function u(t,e){function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var l=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new r.wx,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new o,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return u(e,t),e.mixin=function(t){for(var n=Object.keys(t),i=0;i<n.length;++i){var r=n[i];Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new r.Ae),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new r.Ae),t=this._localBoundsRect),this._localBounds||(this._localBounds=new o);var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,a=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,t);return this.parent=n,this.transform=e,this._bounds=i,this._bounds.updateID+=this._boundsID-a,s},e.prototype.toGlobal=function(t,e,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,i){return e&&(t=e.toGlobal(t,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,n,i,r,a,o,s,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=1),void 0===i&&(i=1),void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=i||1,this.rotation=r,this.skew.x=a,this.skew.y=o,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new h),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*r.jl},set:function(t){this.transform.rotation=t*r.ZX},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(a.EventEmitter),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return u(e,t),e}(l);function c(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}l.prototype.displayObjectUpdateTransform=l.prototype.updateTransform;var f=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=i.X.SORTABLE_CHILDREN,e.sortDirty=!1,e}return u(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var i=0;i<e.length;i++)this.addChild(e[i]);else{var r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),i=this.getChildIndex(e);this.children[n]=e,this.children[i]=t,this.onChildrenChange(n<i?n:i)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);(0,a.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var i=0;i<e.length;i++)this.removeChild(e[i]);else{var r=e[0],o=this.children.indexOf(r);if(-1===o)return null;r.parent=null,r.transform._parentID=-1,(0,a.removeItems)(this.children,o,1),this._boundsID++,this.onChildrenChange(o),r.emit("removed",this),this.emit("childRemoved",r,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,a.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var n,i=t,r=e-i;if(r>0&&r<=e){n=this.children.splice(i,r);for(var a=0;a<n.length;++a)n[a].parent=null,n[a].transform&&(n[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(a=0;a<n.length;++a)n[a].emit("removed",this),this.emit("childRemoved",n[a],this,a);return n}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,n=this.children.length;e<n;++e){var i=this.children[e];i._lastSortedIndex=e,t||0===i.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(c),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var n=e._mask.maskObject||e._mask;n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,n){void 0===n&&(n=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!n)for(var r=0,a=this.children.length;r<a;++r){var o=this.children[r];o.visible&&o.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<e.length;i++)e[i].enabled&&this._enabledFilters.push(e[i]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}n&&t.mask.push(this,this._mask),this._render(t);i=0;for(var r=this.children.length;i<r;i++)this.children[i].render(t);t.batch.flush(),n&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(n)for(var r=0;r<i.length;++r)i[r].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(l);f.prototype.containerUpdateTransform=f.prototype.updateTransform},8215:function(t,e,n){"use strict";n.d(e,{ft:function(){return c},wA:function(){return h},TC:function(){return B},iM:function(){return P},RB:function(){return D},$o:function(){return r},S:function(){return i},TD:function(){return N},yR:function(){return V}});n(7042),n(2222),n(6992),n(9575),n(1539),n(9135),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016),n(8255),n(4197),n(8264),n(9601),n(5125);var i,r,a=n(6448),o=n(7274),s=n(6603),u=n(7397),l=n(6993);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(i||(i={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(r||(r={}));var h={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},c=function(){function t(){this.color=16777215,this.alpha=1,this.texture=a.xE.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=a.xE.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function d(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var p={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var n=t.points,i=t.holes,r=e.points,a=e.indices;if(n.length>=6){for(var o=[],u=0;u<i.length;u++){var l=i[u];o.push(n.length/2),n=n.concat(l.points)}var h=(0,s.earcut)(n,o,2);if(!h)return;var c=r.length/2;for(u=0;u<h.length;u+=3)a.push(h[u]+c),a.push(h[u+1]+c),a.push(h[u+2]+c);for(u=0;u<n.length;u++)r.push(n[u])}}},v={build:function(t){var e,n,i=t.shape,r=t.points,a=i.x,s=i.y;if(r.length=0,t.type===o.HS.CIRC)e=i.radius,n=i.radius;else{var u=t.shape;e=u.width,n=u.height}if(0!==e&&0!==n){var l=Math.floor(30*Math.sqrt(i.radius))||Math.floor(15*Math.sqrt(e+n));l/=2.3;for(var h=2*Math.PI/l,c=0;c<l-.5;c++)r.push(a+Math.sin(-h*c)*e,s+Math.cos(-h*c)*n);r.push(r[0],r[1])}},triangulate:function(t,e){var n=t.points,i=e.points,r=e.indices,a=i.length/2,o=a,s=t.shape,u=t.matrix,l=s.x,h=s.y;i.push(t.matrix?u.a*l+u.c*h+u.tx:l,t.matrix?u.b*l+u.d*h+u.ty:h);for(var c=0;c<n.length;c+=2)i.push(n[c],n[c+1]),r.push(a++,o,a)}},_={build:function(t){var e=t.shape,n=e.x,i=e.y,r=e.width,a=e.height,o=t.points;o.length=0,o.push(n,i,n+r,i,n+r,i+a,n,i+a)},triangulate:function(t,e){var n=t.points,i=e.points,r=i.length/2;i.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(r,r+1,r+2,r+1,r+2,r+3)}};function m(t,e,n){return t+(e-t)*n}function y(t,e,n,i,r,a,o){void 0===o&&(o=[]);for(var s=o,u=0,l=0,h=0,c=0,f=0,d=0,p=0,v=0;p<=20;++p)u=m(t,n,v=p/20),l=m(e,i,v),h=m(n,r,v),c=m(i,a,v),f=m(u,h,v),d=m(l,c,v),s.push(f,d);return s}var g={build:function(t){var e=t.shape,n=t.points,i=e.x,r=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));n.length=0,s?(y(i,r+s,i,r,i+s,r,n),y(i+a-s,r,i+a,r,i+a,r+s,n),y(i+a,r+o-s,i+a,r+o,i+a-s,r+o,n),y(i+s,r+o,i,r+o,i,r+o-s,n)):n.push(i,r,i+a,r,i+a,r+o,i,r+o)},triangulate:function(t,e){for(var n=t.points,i=e.points,r=e.indices,a=i.length/2,o=(0,s.earcut)(n,null,2),u=0,l=o.length;u<l;u+=3)r.push(o[u]+a),r.push(o[u+1]+a),r.push(o[u+2]+a);for(u=0,l=n.length;u<l;u++)i.push(n[u],n[++u])}};function b(t,e,n,i,r,a,o,s){var u,l;o?(u=i,l=-n):(u=-i,l=n);var h=t-n*r+u,c=e-i*r+l,f=t+n*a+u,d=e+i*a+l;return s.push(h,c),s.push(f,d),2}function x(t,e,n,i,r,a,o,s){var u=n-t,l=i-e,h=Math.atan2(u,l),c=Math.atan2(r-t,a-e);s&&h<c?h+=2*Math.PI:!s&&h>c&&(c+=2*Math.PI);var f=h,d=c-h,p=Math.abs(d),v=Math.sqrt(u*u+l*l),_=1+(15*p*Math.sqrt(v)/Math.PI>>0),m=d/_;if(f+=m,s){o.push(t,e),o.push(n,i);for(var y=1,g=f;y<_;y++,g+=m)o.push(t,e),o.push(t+Math.sin(g)*v,e+Math.cos(g)*v);o.push(t,e),o.push(r,a)}else{o.push(n,i),o.push(t,e);for(y=1,g=f;y<_;y++,g+=m)o.push(t+Math.sin(g)*v,e+Math.cos(g)*v),o.push(t,e);o.push(r,a),o.push(t,e)}return 2*_}function w(t,e){t.lineStyle.native?function(t,e){var n=0,i=t.shape,r=t.points||i.points,a=i.type!==o.HS.POLY||i.closeStroke;if(0!==r.length){var s=e.points,u=e.indices,l=r.length/2,h=s.length/2,c=h;for(s.push(r[0],r[1]),n=1;n<l;n++)s.push(r[2*n],r[2*n+1]),u.push(c,c+1),c++;a&&u.push(c,h)}}(t,e):function(t,e){var n=t.shape,a=t.points||n.points.slice(),s=e.closePointEps;if(0!==a.length){var u=t.lineStyle,l=new o.E9(a[0],a[1]),c=new o.E9(a[a.length-2],a[a.length-1]),f=n.type!==o.HS.POLY||n.closeStroke,d=Math.abs(l.x-c.x)<s&&Math.abs(l.y-c.y)<s;if(f){a=a.slice(),d&&(a.pop(),a.pop(),c.set(a[a.length-2],a[a.length-1]));var p=.5*(l.x+c.x),v=.5*(c.y+l.y);a.unshift(p,v),a.push(p,v)}var _=e.points,m=a.length/2,y=a.length,g=_.length/2,w=u.width/2,E=w*w,S=u.miterLimit*u.miterLimit,k=a[0],T=a[1],A=a[2],R=a[3],I=0,C=0,P=-(T-R),M=k-A,O=0,D=0,N=Math.sqrt(P*P+M*M);P/=N,M/=N,P*=w,M*=w;var L=u.alignment,F=2*(1-L),B=2*L;f||(u.cap===r.ROUND?y+=x(k-P*(F-B)*.5,T-M*(F-B)*.5,k-P*F,T-M*F,k+P*B,T+M*B,_,!0)+2:u.cap===r.SQUARE&&(y+=b(k,T,P,M,F,B,!0,_))),_.push(k-P*F,T-M*F),_.push(k+P*B,T+M*B);for(var V=1;V<m-1;++V){k=a[2*(V-1)],T=a[2*(V-1)+1],A=a[2*V],R=a[2*V+1],I=a[2*(V+1)],C=a[2*(V+1)+1],P=-(T-R),M=k-A,P/=N=Math.sqrt(P*P+M*M),M/=N,P*=w,M*=w,O=-(R-C),D=A-I,O/=N=Math.sqrt(O*O+D*D),D/=N,O*=w,D*=w;var U=A-k,X=T-R,Y=A-I,j=C-R,G=X*Y-j*U,H=G<0;if(Math.abs(G)<.1)_.push(A-P*F,R-M*F),_.push(A+P*B,R+M*B);else{var W=(-P+k)*(-M+R)-(-P+A)*(-M+T),z=(-O+I)*(-D+R)-(-O+A)*(-D+C),q=(U*z-Y*W)/G,Z=(j*W-X*z)/G,K=(q-A)*(q-A)+(Z-R)*(Z-R),$=A+(q-A)*F,Q=R+(Z-R)*F,J=A-(q-A)*B,tt=R-(Z-R)*B,et=H?F:B;K<=Math.min(U*U+X*X,Y*Y+j*j)+et*et*E?u.join===i.BEVEL||K/E>S?(H?(_.push($,Q),_.push(A+P*B,R+M*B),_.push($,Q),_.push(A+O*B,R+D*B)):(_.push(A-P*F,R-M*F),_.push(J,tt),_.push(A-O*F,R-D*F),_.push(J,tt)),y+=2):u.join===i.ROUND?H?(_.push($,Q),_.push(A+P*B,R+M*B),y+=x(A,R,A+P*B,R+M*B,A+O*B,R+D*B,_,!0)+4,_.push($,Q),_.push(A+O*B,R+D*B)):(_.push(A-P*F,R-M*F),_.push(J,tt),y+=x(A,R,A-P*F,R-M*F,A-O*F,R-D*F,_,!1)+4,_.push(A-O*F,R-D*F),_.push(J,tt)):(_.push($,Q),_.push(J,tt)):(_.push(A-P*F,R-M*F),_.push(A+P*B,R+M*B),u.join===i.BEVEL||K/E>S||(u.join===i.ROUND?y+=H?x(A,R,A+P*B,R+M*B,A+O*B,R+D*B,_,!0)+2:x(A,R,A-P*F,R-M*F,A-O*F,R-D*F,_,!1)+2:(H?(_.push(J,tt),_.push(J,tt)):(_.push($,Q),_.push($,Q)),y+=2)),_.push(A-O*F,R-D*F),_.push(A+O*B,R+D*B),y+=2)}}k=a[2*(m-2)],T=a[2*(m-2)+1],A=a[2*(m-1)],P=-(T-(R=a[2*(m-1)+1])),M=k-A,P/=N=Math.sqrt(P*P+M*M),M/=N,P*=w,M*=w,_.push(A-P*F,R-M*F),_.push(A+P*B,R+M*B),f||(u.cap===r.ROUND?y+=x(A-P*(F-B)*.5,R-M*(F-B)*.5,A-P*F,R-M*F,A+P*B,R+M*B,_,!1)+2:u.cap===r.SQUARE&&(y+=b(A,R,P,M,F,B,!1,_)));var nt=e.indices,it=h.epsilon*h.epsilon;for(V=g;V<y+g-2;++V)k=_[2*V],T=_[2*V+1],A=_[2*(V+1)],R=_[2*(V+1)+1],I=_[2*(V+2)],C=_[2*(V+2)+1],Math.abs(k*(R-C)+A*(C-T)+I*(T-R))<it||nt.push(V,V+1,V+2)}}(t,e)}var E,S=function(){function t(){}return t.curveTo=function(t,e,n,i,r,a){var o=a[a.length-2],s=a[a.length-1]-e,u=o-t,l=i-e,h=n-t,c=Math.abs(s*h-u*l);if(c<1e-8||0===r)return a[a.length-2]===t&&a[a.length-1]===e||a.push(t,e),null;var f=s*s+u*u,d=l*l+h*h,p=s*l+u*h,v=r*Math.sqrt(f)/c,_=r*Math.sqrt(d)/c,m=v*p/f,y=_*p/d,g=v*h+_*u,b=v*l+_*s,x=u*(_+m),w=s*(_+m),E=h*(v+y),S=l*(v+y);return{cx:g+t,cy:b+e,radius:r,startAngle:Math.atan2(w-b,x-g),endAngle:Math.atan2(S-b,E-g),anticlockwise:u*l>h*s}},t.arc=function(t,e,n,i,r,a,s,u,l){for(var c=s-a,f=h._segmentsCount(Math.abs(c)*r,40*Math.ceil(Math.abs(c)/o._b)),d=c/(2*f),p=2*d,v=Math.cos(d),_=Math.sin(d),m=f-1,y=m%1/m,g=0;g<=m;++g){var b=d+a+p*(g+y*g),x=Math.cos(b),w=-Math.sin(b);l.push((v*x+_*w)*r+n,(v*-w+_*x)*r+i)}},t}(),k=function(){function t(){}return t.curveLength=function(t,e,n,i,r,a,o,s){for(var u=0,l=0,h=0,c=0,f=0,d=0,p=0,v=0,_=0,m=0,y=0,g=t,b=e,x=1;x<=10;++x)m=g-(v=(p=(d=(f=1-(l=x/10))*f)*f)*t+3*d*l*n+3*f*(h=l*l)*r+(c=h*l)*o),y=b-(_=p*e+3*d*l*i+3*f*h*a+c*s),g=v,b=_,u+=Math.sqrt(m*m+y*y);return u},t.curveTo=function(e,n,i,r,a,o,s){var u=s[s.length-2],l=s[s.length-1];s.length-=2;var c=h._segmentsCount(t.curveLength(u,l,e,n,i,r,a,o)),f=0,d=0,p=0,v=0,_=0;s.push(u,l);for(var m=1,y=0;m<=c;++m)p=(d=(f=1-(y=m/c))*f)*f,_=(v=y*y)*y,s.push(p*u+3*d*y*e+3*f*v*i+_*a,p*l+3*d*y*n+3*f*v*r+_*o)},t}(),T=function(){function t(){}return t.curveLength=function(t,e,n,i,r,a){var o=t-2*n+r,s=e-2*i+a,u=2*n-2*t,l=2*i-2*e,h=4*(o*o+s*s),c=4*(o*u+s*l),f=u*u+l*l,d=2*Math.sqrt(h+c+f),p=Math.sqrt(h),v=2*h*p,_=2*Math.sqrt(f),m=c/p;return(v*d+p*c*(d-_)+(4*f*h-c*c)*Math.log((2*p+m+d)/(m+_)))/(4*v)},t.curveTo=function(e,n,i,r,a){for(var o=a[a.length-2],s=a[a.length-1],u=h._segmentsCount(t.curveLength(o,s,e,n,i,r)),l=0,c=0,f=1;f<=u;++f){var d=f/u;l=o+(e-o)*d,c=s+(n-s)*d,a.push(l+(e+(i-e)*d-l)*d,c+(n+(r-n)*d-c)*d)}},t}(),A=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,n){this.reset(),this.style=t,this.start=e,this.attribStart=n},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),R=((E={})[o.HS.POLY]=p,E[o.HS.CIRC]=v,E[o.HS.ELIP]=v,E[o.HS.RECT]=_,E[o.HS.RREC]=g,E),I=[],C=[],P=function(){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null),this.shape=t,this.lineStyle=n,this.fillStyle=e,this.matrix=i,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),M=new o.E9,O=new l.YZ,D=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new l.YZ,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return d(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),C.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),I.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=null),void 0===i&&(i=null);var r=new P(t,e,n,i);return this.graphicsData.push(r),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var n=new P(t,null,null,e),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,n=0;n<e.length;++n){var i=e[n];if(i.fillStyle.visible&&(i.shape&&(i.matrix?i.matrix.applyInverse(t,M):M.copyFrom(t),i.shape.contains(M.x,M.y)))){var r=!1;if(i.holes)for(var a=0;a<i.holes.length;a++){if(i.holes[a].shape.contains(M.x,M.y)){r=!0;break}}if(!r)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,n=this.graphicsData,i=null,r=null;this.batches.length>0&&(r=(i=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<n.length;a++){this.shapeIndex++;var o=n[a],s=o.fillStyle,l=o.lineStyle;R[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var h=0;h<2;h++){var c=0===h?s:l;if(c.visible){var f=c.texture.baseTexture,d=this.indices.length,p=this.points.length/2;f.wrapMode=u.Nt.REPEAT,0===h?this.processFill(o):this.processLine(o);var v=this.points.length/2-p;0!==v&&(i&&!this._compareStyles(r,c)&&(i.end(d,p),i=null),i||((i=I.pop()||new A).begin(c,d,p),this.batches.push(i),r=c),this.addUvs(this.points,e,c.texture,p,v,c.matrix))}}}var _=this.indices.length,m=this.points.length/2;if(i&&i.end(_,m),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var y=m>65535&&t;this.indicesUint16=y?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var n=this.graphicsData[t],i=n.fillStyle,r=n.lineStyle;if(i&&!i.texture.baseTexture.valid)return!1;if(r&&!r.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,n=t.length;e<n;e++)for(var i=t[e],r=0;r<i.size;r++){var a=i.start+r;this.indicesUint16[a]=this.indicesUint16[a]-i.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,n=0;n<t.length;n++)if(t[n].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++a.VL._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),C.push(this.drawCalls[e]);this.drawCalls.length=0;var n=this.colors,i=this.textureIds,r=C.pop();r||((r=new a.a$).texArray=new a.Ie),r.texArray.count=0,r.start=0,r.size=0,r.type=u.lg.TRIANGLES;var o=0,s=null,l=0,h=!1,c=u.lg.TRIANGLES,f=0;this.drawCalls.push(r);for(e=0;e<this.batches.length;e++){var d=this.batches[e],p=d.style,v=p.texture.baseTexture;h!==!!p.native&&(c=(h=!!p.native)?u.lg.LINES:u.lg.TRIANGLES,s=null,o=8,t++),s!==v&&(s=v,v._batchEnabled!==t&&(8===o&&(t++,o=0,r.size>0&&((r=C.pop())||((r=new a.a$).texArray=new a.Ie),this.drawCalls.push(r)),r.start=f,r.size=0,r.texArray.count=0,r.type=c),v.touched=1,v._batchEnabled=t,v._batchLocation=o,v.wrapMode=u.Nt.REPEAT,r.texArray.elements[r.texArray.count++]=v,o++)),r.size+=d.size,f+=d.size,l=v._batchLocation,this.addColors(n,p.color,p.alpha,d.attribSize),this.addTextureIds(i,l,d.attribSize)}a.VL._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,n=this.colors,i=this.textureIds,r=new ArrayBuffer(3*t.length*4),a=new Float32Array(r),o=new Uint32Array(r),s=0,u=0;u<t.length/2;u++)a[s++]=t[2*u],a[s++]=t[2*u+1],a[s++]=e[2*u],a[s++]=e[2*u+1],o[s++]=n[u],a[s++]=i[u];this._buffer.update(r),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),p.triangulate(t,this)):R[t.type].triangulate(t,this)},e.prototype.processLine=function(t){w(t,this);for(var e=0;e<t.holes.length;e++)w(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var n=t[e];R[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=O,n=o.y3.IDENTITY;this._bounds.clear(),e.clear();for(var i=0;i<this.graphicsData.length;i++){var r=this.graphicsData[i],a=r.shape,s=r.type,u=r.lineStyle,l=r.matrix||o.y3.IDENTITY,h=0;if(u&&u.visible){var c=u.alignment;h=u.width,s===o.HS.POLY?h*=.5+Math.abs(.5-c):h*=Math.max(0,c)}if(n!==l&&(e.isEmpty()||(t.addBoundsMatrix(e,n),e.clear()),n=l),s===o.HS.RECT||s===o.HS.RREC){var f=a;e.addFramePad(f.x,f.y,f.x+f.width,f.y+f.height,h,h)}else if(s===o.HS.CIRC){var d=a;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+h,d.radius+h)}else if(s===o.HS.ELIP){var p=a;e.addFramePad(p.x,p.y,p.x,p.y,p.width+h,p.height+h)}else{var v=a;t.addVerticesMatrix(n,v.points,0,v.points.length,h,h)}}e.isEmpty()||t.addBoundsMatrix(e,n),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var n=0;n<t.length/2;n++){var i=t[2*n],r=t[2*n+1];t[2*n]=e.a*i+e.c*r+e.tx,t[2*n+1]=e.b*i+e.d*r+e.ty}},e.prototype.addColors=function(t,e,n,i){for(var r=(e>>16)+(65280&e)+((255&e)<<16),a=(0,s.premultiplyTint)(r,n);i-- >0;)t.push(a)},e.prototype.addTextureIds=function(t,e,n){for(;n-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,n,i,r,a){void 0===a&&(a=null);for(var o=0,s=e.length,u=n.frame;o<r;){var l=t[2*(i+o)],h=t[2*(i+o)+1];if(a){var c=a.a*l+a.c*h+a.tx;h=a.b*l+a.d*h+a.ty,l=c}o++,e.push(l/u.width,h/u.height)}var f=n.baseTexture;(u.width<f.width||u.height<f.height)&&this.adjustUvs(e,n,s,r)},e.prototype.adjustUvs=function(t,e,n,i){for(var r=e.baseTexture,a=1e-6,o=n+2*i,s=e.frame,u=s.width/r.width,l=s.height/r.height,h=s.x/s.width,c=s.y/s.height,f=Math.floor(t[n]+a),d=Math.floor(t[n+1]+a),p=n+2;p<o;p+=2)f=Math.min(f,Math.floor(t[p]+a)),d=Math.min(d,Math.floor(t[p+1]+a));h-=f,c-=d;for(p=n;p<o;p+=2)t[p]=(t[p]+h)*u,t[p+1]=(t[p+1]+c)*l},e.BATCHABLE_SIZE=100,e}(a.JZ),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=r.BUTT,e.join=i.MITER,e.miterLimit=10,e}return d(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(c),L=new Float32Array(3),F={},B=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n._geometry=e||new D,n._geometry.refCount++,n.shader=null,n.state=a.ZM.for2d(),n._fillStyle=new c,n._lineStyle=new N,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=u.T$.NORMAL,n}return d(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,n,i,r){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===n&&(n=1),void 0===i&&(i=.5),void 0===r&&(r=!1),"number"==typeof t&&(t={width:t,color:e,alpha:n,alignment:i,native:r}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:a.xE.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:r.BUTT,join:i.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new o.mg,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new o.mg,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,i=n[n.length-2],r=n[n.length-1];return i===t&&r===e||n.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,n,i){this._initCurve();var r=this.currentPath.points;return 0===r.length&&this.moveTo(0,0),T.curveTo(t,e,n,i,r),this},e.prototype.bezierCurveTo=function(t,e,n,i,r,a){return this._initCurve(),k.curveTo(t,e,n,i,r,a,this.currentPath.points),this},e.prototype.arcTo=function(t,e,n,i,r){this._initCurve(t,e);var a=this.currentPath.points,o=S.curveTo(t,e,n,i,r,a);if(o){var s=o.cx,u=o.cy,l=o.radius,h=o.startAngle,c=o.endAngle,f=o.anticlockwise;this.arc(s,u,l,h,c,f)}return this},e.prototype.arc=function(t,e,n,i,r,a){if(void 0===a&&(a=!1),i===r)return this;if(!a&&r<=i?r+=o._b:a&&i<=r&&(i+=o._b),0===r-i)return this;var s=t+Math.cos(i)*n,u=e+Math.sin(i)*n,l=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var c=Math.abs(h[h.length-2]-s),f=Math.abs(h[h.length-1]-u);c<l&&f<l||h.push(s,u)}else this.moveTo(s,u),h=this.currentPath.points;return S.arc(s,u,t,e,n,i,r,a,h),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:a.xE.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:a.xE.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,n,i){return this.drawShape(new o.Ae(t,e,n,i))},e.prototype.drawRoundedRect=function(t,e,n,i,r){return this.drawShape(new o.c9(t,e,n,i,r))},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new o.Cd(t,e,n))},e.prototype.drawEllipse=function(t,e,n,i){return this.drawShape(new o.Pj(t,e,n,i))},e.prototype.drawPolygon=function(){for(var t,e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];var r=!0,a=n[0];a.points?(r=a.closeStroke,t=a.points):t=Array.isArray(n[0])?n[0]:n;var s=new o.mg(t);return s.closeStroke=r,this.drawShape(s),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return!(1!==t.length||t[0].shape.type!==o.HS.RECT||t[0].holes.length||t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,n=t.context.supports.uint32Indices;e.updateBatches(n),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(var i=0;i<n;i++){var r=t.batches[i],a=r.style.color,o=new Float32Array(this.vertexData.buffer,4*r.attribStart*2,2*r.attribSize),u=new Float32Array(t.uvsFloat32.buffer,4*r.attribStart*2,2*r.attribSize),l={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*r.start,r.size),uvs:u,_batchRGB:(0,s.hex2rgb)(a),_tintRGB:a,_texture:r.style.texture,alpha:r.style.alpha,worldAlpha:1};this.batches[i]=l}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,n=this.batches.length;e<n;e++){var i=this.batches[e];i.worldAlpha=this.worldAlpha*i.alpha,t.plugins[this.pluginName].render(i)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),n=this._geometry,i=this.tint,r=this.worldAlpha,a=e.uniforms,o=n.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(i>>16&255)/255*r,a.tint[1]=(i>>8&255)/255*r,a.tint[2]=(255&i)/255*r,a.tint[3]=r,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(var s=0,u=o.length;s<u;s++)this._renderDrawCallDirect(t,n.drawCalls[s])},e.prototype._renderDrawCallDirect=function(t,e){for(var n=e.texArray,i=e.type,r=e.size,a=e.start,o=n.count,s=0;s<o;s++)t.texture.bind(n.elements[s],s);t.geometry.draw(i,r,a)},e.prototype._resolveDirectShader=function(t){var e=this.shader,n=this.pluginName;if(!e){if(!F[n]){for(var i=t.plugins.batch.MAX_TEXTURES,r=new Int32Array(i),s=0;s<i;s++)r[s]=s;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new o.y3,default:a.oo.from({uSamplers:r},!0)},l=t.plugins[n]._shader.program;F[n]=new a.ex(l,u)}e=F[n]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,n=e.minX,i=e.minY,r=e.maxX,a=e.maxY;this._bounds.addFrame(this.transform,n,i,r,a)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=(0,s.hex2rgb)(this.tint,L),e=0;e<this.batches.length;e++){var n=this.batches[e],i=n._batchRGB,r=(t[0]*i[0]*255<<16)+(t[1]*i[1]*255<<8)+(0|t[2]*i[2]*255);n._tintRGB=(r>>16)+(65280&r)+((255&r)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,n=e.a,i=e.b,r=e.c,a=e.d,o=e.tx,s=e.ty,u=this._geometry.points,l=this.vertexData,h=0,c=0;c<u.length;c+=2){var f=u[c],d=u[c+1];l[h++]=n*f+r*d+o,l[h++]=a*d+i*f+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new o.E9,e}(l.W2),V={buildPoly:p,buildCircle:v,buildRectangle:_,buildRoundedRectangle:g,buildLine:w,ArcUtils:S,BezierUtils:k,QuadraticUtils:T,BatchPart:A,FILL_COMMANDS:R,BATCH_POOL:I,DRAW_CALL_POOL:C}},1516:function(t,e,n){"use strict";n.d(e,{LP:function(){return R},aN:function(){return A},kC:function(){return I},dp:function(){return T}});n(9601);var i=n(9571),r=n.n(i),a=n(2940),o=n.n(a);function s(){}function u(t,e,n,i){var r=0,a=t.length;!function o(s){s||r===a?n&&n(s):i?setTimeout((function(){e(t[r++],o)}),1):e(t[r++],o)}()}function l(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function h(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=0,i={_tasks:[],concurrency:e,saturated:s,unsaturated:s,buffer:e/4,empty:s,drain:s,error:s,started:!1,paused:!1,push:function(t,e){r(t,!1,e)},kill:function(){n=0,i.drain=s,i.started=!1,i._tasks=[]},unshift:function(t,e){r(t,!0,e)},process:function(){for(;!i.paused&&n<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),(n+=1)===i.concurrency&&i.saturated(),t(e.data,l(a(e)))}},length:function(){return i._tasks.length},running:function(){return n},idle:function(){return i._tasks.length+n===0},pause:function(){!0!==i.paused&&(i.paused=!0)},resume:function(){if(!1!==i.paused){i.paused=!1;for(var t=1;t<=i.concurrency;t++)i.process()}}};function r(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(i.started=!0,null==t&&i.idle())setTimeout((function(){return i.drain()}),1);else{var r={data:t,callback:"function"==typeof n?n:s};e?i._tasks.unshift(r):i._tasks.push(r),setTimeout((function(){return i.process()}),1)}}function a(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&i.error(arguments[0],t.data),n<=i.concurrency-i.buffer&&i.unsaturated(),i.idle()&&i.drain(),i.process()}}return i}var c={};function f(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function d(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}var p=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),v=null;function _(){}var m=function(){function t(e,n,i){if("string"!=typeof e||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new(o()),this.onProgress=new(o()),this.onComplete=new(o()),this.onAfterMiddleware=new(o())}t.setExtensionLoadType=function(e,n){y(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){y(t._xhrTypeMap,e,n)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(n)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:p&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=n,i},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(g(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(g(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(g(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,n="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(n=e.responseText),0===i&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2===(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(n,"text/xml")}else{var a=document.createElement("div");a.innerHTML=n,this.data=a}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||n;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,v||(v=document.createElement("a")),v.href=t;var n=!(t=r()(v.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,i=t.protocol?t.protocol+":":"";return t.host===e.hostname&&n&&i===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var i=t.indexOf("?"),r=t.indexOf("#"),a=Math.min(i>-1?i:t.length,r>-1?r:t.length);e=(t=t.substring(0,a)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},d(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function y(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function g(t){return t.toString().replace("object ","")}m.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},m.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},m.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},m.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},m._loadTypeMap={gif:m.LOAD_TYPE.IMAGE,png:m.LOAD_TYPE.IMAGE,bmp:m.LOAD_TYPE.IMAGE,jpg:m.LOAD_TYPE.IMAGE,jpeg:m.LOAD_TYPE.IMAGE,tif:m.LOAD_TYPE.IMAGE,tiff:m.LOAD_TYPE.IMAGE,webp:m.LOAD_TYPE.IMAGE,tga:m.LOAD_TYPE.IMAGE,svg:m.LOAD_TYPE.IMAGE,"svg+xml":m.LOAD_TYPE.IMAGE,mp3:m.LOAD_TYPE.AUDIO,ogg:m.LOAD_TYPE.AUDIO,wav:m.LOAD_TYPE.AUDIO,mp4:m.LOAD_TYPE.VIDEO,webm:m.LOAD_TYPE.VIDEO},m._xhrTypeMap={xhtml:m.XHR_RESPONSE_TYPE.DOCUMENT,html:m.XHR_RESPONSE_TYPE.DOCUMENT,htm:m.XHR_RESPONSE_TYPE.DOCUMENT,xml:m.XHR_RESPONSE_TYPE.DOCUMENT,tmx:m.XHR_RESPONSE_TYPE.DOCUMENT,svg:m.XHR_RESPONSE_TYPE.DOCUMENT,tsx:m.XHR_RESPONSE_TYPE.DOCUMENT,gif:m.XHR_RESPONSE_TYPE.BLOB,png:m.XHR_RESPONSE_TYPE.BLOB,bmp:m.XHR_RESPONSE_TYPE.BLOB,jpg:m.XHR_RESPONSE_TYPE.BLOB,jpeg:m.XHR_RESPONSE_TYPE.BLOB,tif:m.XHR_RESPONSE_TYPE.BLOB,tiff:m.XHR_RESPONSE_TYPE.BLOB,webp:m.XHR_RESPONSE_TYPE.BLOB,tga:m.XHR_RESPONSE_TYPE.BLOB,json:m.XHR_RESPONSE_TYPE.JSON,text:m.XHR_RESPONSE_TYPE.TEXT,txt:m.XHR_RESPONSE_TYPE.TEXT,ttf:m.XHR_RESPONSE_TYPE.BUFFER,otf:m.XHR_RESPONSE_TYPE.BUFFER},m.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var b=window.URL||window.webkitURL;var x={caching:function(t,e){var n=this;c[t.url]?(t.data=c[t.url],t.complete()):t.onComplete.once((function(){return c[n.url]=n.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===m.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=b.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=m.TYPE.IMAGE,void(t.data.onload=function(){b.revokeObjectURL(n),t.data.onload=null,e()})}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+function(t){for(var e="",n=0;n<t.length;){for(var i=[0,0,0],r=[0,0,0,0],a=0;a<i.length;++a)n<t.length?i[a]=255&t.charCodeAt(n++):i[a]=0;switch(r[0]=i[0]>>2,r[1]=(3&i[0])<<4|i[1]>>4,r[2]=(15&i[1])<<2|i[2]>>6,r[3]=63&i[2],n-(t.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(var o=0;o<r.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r[o])}return e}(t.xhr.responseText),t.type=m.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},w=/(#[\w-]+)?$/,E=function(){function t(e,n){var i=this;void 0===e&&(e=""),void 0===n&&(n=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=h(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new(o()),this.onError=new(o()),this.onLoad=new(o()),this.onStart=new(o()),this.onComplete=new(o());for(var r=0;r<t._defaultBeforeMiddleware.length;++r)this.pre(t._defaultBeforeMiddleware[r]);for(var a=0;a<t._defaultAfterMiddleware.length;++a)this.use(t._defaultAfterMiddleware[a])}var e=t.prototype;return e.add=function(t,e,n,i){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"==typeof t&&(i=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(i=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(i=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new m(t,e,n),"function"==typeof i&&this.resources[t].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var u=a.progressChunk*(o.length+1)/(o.length+2);a.children.push(this.resources[t]),a.progressChunk=u;for(var l=0;l<o.length;++l)o[l].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,n=r()(t,{strictMode:!0});if(e=n.protocol||!n.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=w.exec(e)[0];-1!==(e=e.substr(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},e._loadResource=function(t,e){var n=this;t._dequeue=e,u(this._beforeMiddleware,(function(e,i){e.call(n,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),u(this._afterMiddleware,(function(n,i){n.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},d(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();E._defaultBeforeMiddleware=[],E._defaultAfterMiddleware=[],E.pre=function(t){return E._defaultBeforeMiddleware.push(t),E},E.use=function(t){return E._defaultAfterMiddleware.push(t),E};var S=n(6448),k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var T=function(){function t(){}return t.add=function(){m.setExtensionLoadType("svg",m.LOAD_TYPE.XHR),m.setExtensionXhrType("svg",m.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,e){if(!t.data||t.type!==m.TYPE.IMAGE&&"svg"!==t.extension)e();else{var n=t.data,i=t.url,r=t.name,a=t.metadata;S.xE.fromLoader(n,i,r,a).then((function(n){t.texture=n,e()})).catch(e)}},t}(),A=function(t){function e(n,i){for(var r=t.call(this,n,i)||this,a=0;a<e._plugins.length;++a){var o=e._plugins[a],s=o.pre,u=o.use;s&&r.pre(s),u&&r.use(u)}return r._protected=!1,r}return function(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(E);A.registerPlugin({use:x.parsing}),A.registerPlugin(T);var R=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?A.shared:new A},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),I=m},7274:function(t,e,n){"use strict";n.d(e,{Cd:function(){return u},ZX:function(){return o},Pj:function(){return l},y3:function(){return p},AB:function(){return d},_b:function(){return r},E9:function(){return f},mg:function(){return h},jl:function(){return a},Ae:function(){return s},c9:function(){return c},HS:function(){return i},wx:function(){return E},Lv:function(){return w}});n(1539),n(9714),n(7042),n(5827),n(6992),n(9575),n(4197),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016);var i,r=2*Math.PI,a=180/Math.PI,o=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(i||(i={}));var s=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(n),this.height=Number(r),this.type=i.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),r=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(n-e,0),this.y=i,this.height=Math.max(r-i,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var n=Math.ceil((this.x+this.width-e)*t)/t,i=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=n-e,this.y=i,this.height=r-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),u=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.radius=n,this.type=i.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-t,r=this.y-e;return(i*=i)+(r*=r)<=n},t.prototype.getBounds=function(){return new s(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),l=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=n,this.height=r,this.type=i.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,i=(e-this.y)/this.height;return(n*=n)+(i*=i)<=1},t.prototype.getBounds=function(){return new s(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),h=function(){function t(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var a=[],o=0,s=r.length;o<s;o++)a.push(r[o].x,r[o].y);r=a}this.points=r,this.type=i.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var n=!1,i=this.points.length/2,r=0,a=i-1;r<i;a=r++){var o=this.points[2*r],s=this.points[2*r+1],u=this.points[2*a],l=this.points[2*a+1];s>e!=l>e&&t<(e-s)/(l-s)*(u-o)+o&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),c=function(){function t(t,e,n,r,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===a&&(a=20),this.x=t,this.y=e,this.width=n,this.height=r,this.radius=a,this.type=i.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),i=e-(this.y+this.radius),r=this.radius*this.radius;if(n*n+i*i<=r)return!0;if((n=t-(this.x+this.width-this.radius))*n+i*i<=r)return!0;if(n*n+(i=e-(this.y+this.height-this.radius))*i<=r)return!0;if((n=t-(this.x+this.radius))*n+i*i<=r)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),f=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),d=function(){function t(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0),this._x=n,this._y=i,this.cb=t,this.scope=e}return t.prototype.clone=function(e,n){return void 0===e&&(e=this.cb),void 0===n&&(n=this.scope),new t(e,n,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),p=function(){function t(t,e,n,i,r,a){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=1),void 0===r&&(r=0),void 0===a&&(a=0),this.array=null,this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=a}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,i,r,a){return this.a=t,this.b=e,this.c=n,this.d=i,this.tx=r,this.ty=a,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new f;var n=t.x,i=t.y;return e.x=this.a*n+this.c*i+this.tx,e.y=this.b*n+this.d*i+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new f;var n=1/(this.a*this.d+this.c*-this.b),i=t.x,r=t.y;return e.x=this.d*n*i+-this.c*n*r+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*r+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),i=this.a,r=this.c,a=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=r*e-this.d*n,this.d=r*n+this.d*e,this.tx=a*e-this.ty*n,this.ty=a*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,i=this.c,r=this.d;return this.a=t.a*e+t.b*i,this.b=t.a*n+t.b*r,this.c=t.c*e+t.d*i,this.d=t.c*n+t.d*r,this.tx=t.tx*e+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*r+this.ty,this},t.prototype.setTransform=function(t,e,n,i,r,a,o,s,u){return this.a=Math.cos(o+u)*r,this.b=Math.sin(o+u)*r,this.c=-Math.sin(o-s)*a,this.d=Math.cos(o-s)*a,this.tx=t-(n*this.a+i*this.c),this.ty=e-(n*this.b+i*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,i=this.c,a=this.d,o=t.pivot,s=-Math.atan2(-i,a),u=Math.atan2(n,e),l=Math.abs(s+u);return l<1e-5||Math.abs(r-l)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=u),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(i*i+a*a),t.position.x=this.tx+(o.x*e+o.y*i),t.position.y=this.ty+(o.x*n+o.y*a),t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,i=this.d,r=this.tx,a=t*i-e*n;return this.a=i/a,this.b=-e/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-i*r)/a,this.ty=-(t*this.ty-e*r)/a,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),v=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],_=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],m=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],y=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],g=[],b=[],x=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];g.push(e);for(var n=0;n<16;n++)for(var i=x(v[t]*v[n]+m[t]*_[n]),r=x(_[t]*v[n]+y[t]*_[n]),a=x(v[t]*m[n]+m[t]*y[n]),o=x(_[t]*m[n]+y[t]*y[n]),s=0;s<16;s++)if(v[s]===i&&_[s]===r&&m[s]===a&&y[s]===o){e.push(s);break}}for(t=0;t<16;t++){var u=new p;u.set(v[t],_[t],m[t],y[t],0,0),b.push(u)}}();var w={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return v[t]},uY:function(t){return _[t]},vX:function(t){return m[t]},vY:function(t){return y[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return g[t][e]},sub:function(t,e){return g[t][w.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?w.S:w.N:2*Math.abs(e)<=Math.abs(t)?t>0?w.E:w.W:e>0?t>0?w.SE:w.SW:t>0?w.NE:w.NW},matrixAppendRotationInv:function(t,e,n,i){void 0===n&&(n=0),void 0===i&&(i=0);var r=b[w.inv(e)];r.tx=n,r.ty=i,t.append(r)}},E=function(){function t(){this.worldTransform=new p,this.localTransform=new p,this.position=new d(this.onChange,this,0,0),this.scale=new d(this.onChange,this,1,1),this.pivot=new d(this.onChange,this,0,0),this.skew=new d(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,i=this.worldTransform;i.a=e.a*n.a+e.b*n.c,i.b=e.a*n.b+e.b*n.d,i.c=e.c*n.a+e.d*n.c,i.d=e.c*n.b+e.d*n.d,i.tx=e.tx*n.a+e.ty*n.c+n.tx,i.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}()},3187:function(t,e,n){"use strict";n.d(e,{ZT:function(){return d},_1:function(){return u},Au:function(){return l},AL:function(){return f},VJ:function(){return c},IE:function(){return h}});n(6992),n(9575),n(1539),n(4197),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016),n(8255);var i=n(6344),r=n(7397),a=n(6448),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function s(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(t){function e(e,n,i,r){void 0===e&&(e=100),void 0===n&&(n=100),void 0===i&&(i=10),void 0===r&&(r=10);var a=t.call(this)||this;return a.segWidth=i,a.segHeight=r,a.width=e,a.height=n,a.build(),a}return s(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],n=[],i=[],r=this.segWidth-1,a=this.segHeight-1,o=this.width/r,s=this.height/a,u=0;u<t;u++){var l=u%this.segWidth,h=u/this.segWidth|0;e.push(l*o,h*s),n.push(l/r,h/a)}var c=r*a;for(u=0;u<c;u++){var f=u%r,d=u/r|0,p=d*this.segWidth+f,v=d*this.segWidth+f+1,_=(d+1)*this.segWidth+f,m=(d+1)*this.segWidth+f+1;i.push(p,v,_,v,m,_)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(i.xc),l=function(t){function e(e,n,i){void 0===e&&(e=200),void 0===i&&(i=0);var r=t.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return r.points=n,r._width=e,r.textureScale=i,r.build(),r}return s(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),n.data=new Float32Array(4*t.length),i.data=new Uint16Array(6*(t.length-1)));var r=n.data,a=i.data;r[0]=0,r[1]=0,r[2]=0,r[3]=1;for(var o=0,s=t[0],u=this._width*this.textureScale,l=t.length,h=0;h<l;h++){var c=4*h;if(this.textureScale>0){var f=s.x-t[h].x,d=s.y-t[h].y,p=Math.sqrt(f*f+d*d);s=t[h],o+=p/u}else o=h/(l-1);r[c]=o,r[c+1]=0,r[c+2]=o,r[c+3]=1}var v=0;for(h=0;h<l-1;h++){c=2*h;a[v++]=c,a[v++]=c+1,a[v++]=c+2,a[v++]=c+2,a[v++]=c+1,a[v++]=c+3}n.update(),i.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,n=t[0],i=0,r=0,a=this.buffers[0].data,o=t.length,s=0;s<o;s++){var u=t[s],l=4*s;r=-((e=s<t.length-1?t[s+1]:u).x-n.x),i=e.y-n.y;var h=Math.sqrt(i*i+r*r),c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=h,r/=h,i*=c,r*=c,a[l]=u.x+i,a[l+1]=u.y+r,a[l+2]=u.x-i,a[l+3]=u.y-r,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(i.xc),h=function(t){function e(e,n,a){void 0===a&&(a=0);var o=this,s=new l(e.height,n,a),u=new i.rY(e);return a>0&&(e.baseTexture.wrapMode=r.Nt.REPEAT),(o=t.call(this,s,u)||this).autoUpdate=!0,o}return s(e,t),e.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,e)},e}(i.Kj),c=function(t){function e(e,n,r){var o=this,s=new u(e.width,e.height,n,r),l=new i.rY(a.xE.WHITE);return(o=t.call(this,s,l)||this).texture=e,o}return s(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(i.Kj),f=function(t){function e(e,n,r,o,s){void 0===e&&(e=a.xE.EMPTY);var u=this,l=new i.xc(n,r,o);l.getBuffer("aVertexPosition").static=!1;var h=new i.rY(e);return(u=t.call(this,l,h,null,s)||this).autoUpdate=!0,u}return s(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(i.Kj),d=function(t){function e(e,n,i,r,o){void 0===n&&(n=10),void 0===i&&(i=10),void 0===r&&(r=10),void 0===o&&(o=10);var s=t.call(this,a.xE.WHITE,4,4)||this;return s._origWidth=e.orig.width,s._origHeight=e.orig.height,s._width=s._origWidth,s._height=s._origHeight,s._leftWidth=n,s._rightWidth=r,s._topHeight=i,s._bottomHeight=o,s.texture=e,s}return s(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(e,i)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var n=1/this._origWidth,i=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=i*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(c)},6344:function(t,e,n){"use strict";n.d(e,{Kj:function(){return p},wQ:function(){return c},xc:function(){return _},rY:function(){return v}});n(6992),n(9575),n(1539),n(4197),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016),n(9601);var i=n(6448),r=n(7274),a=n(7397),o=n(6993),s=n(1863),u=n(6603),l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function h(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var c=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),f=new r.E9,d=new r.mg,p=function(t){function e(e,n,r,o){void 0===o&&(o=a.lg.TRIANGLES);var u=t.call(this)||this;return u.geometry=e,e.refCount++,u.shader=n,u.state=r||i.ZM.for2d(),u.drawMode=o,u.start=0,u.size=0,u.uvs=null,u.indices=null,u.vertexData=new Float32Array(1),u.vertexDirty=-1,u._transformID=-1,u._roundPixels=s.X.ROUND_PIXELS,u.batchUvs=null,u}return h(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===a.lg.TRIANGLES&&n.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var i=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[i]),t.plugins[i].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry.buffers[0],e=t.data,n=t._updateID;if(n!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var i=this.transform.worldTransform,r=i.a,a=i.b,o=i.c,u=i.d,l=i.tx,h=i.ty,c=this.vertexData,f=0;f<c.length/2;f++){var d=e[2*f],p=e[2*f+1];c[2*f]=r*d+o*p+l,c[2*f+1]=a*d+u*p+h}if(this._roundPixels){var v=s.X.RESOLUTION;for(f=0;f<c.length;++f)c[f]=Math.round((c[f]*v|0)/v)}this.vertexDirty=n}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new c(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,f);for(var e=this.geometry.getBuffer("aVertexPosition").data,n=d.points,i=this.geometry.getIndex().data,r=i.length,a=4===this.drawMode?3:1,o=0;o+2<r;o+=a){var s=2*i[o],u=2*i[o+1],l=2*i[o+2];if(n[0]=e[s],n[1]=e[s+1],n[2]=e[u],n[3]=e[u+1],n[4]=e[l],n[5]=e[l+1],d.contains(f.x,f.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(o.W2),v=function(t){function e(e,n){var a=this,o={uSampler:e,alpha:1,uTextureMatrix:r.y3.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(o,n.uniforms),(a=t.call(this,n.program||i.$r.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o)||this)._colorDirty=!1,a.uvMatrix=new i.UX(e),a.batchable=void 0===n.program,a.pluginName=n.pluginName,a.tint=n.tint,a.alpha=n.alpha,a}return h(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;(0,u.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(i.ex),_=function(t){function e(e,n,r){var o=t.call(this)||this,s=new i.lW(e),u=new i.lW(n,!0),l=new i.lW(r,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,a.vK.FLOAT).addAttribute("aTextureCoord",u,2,!1,a.vK.FLOAT).addIndex(l),o._updateId=-1,o}return h(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(i.ZX)},6267:function(t,e,n){"use strict";n.d(e,{R:function(){return i}});n(7042),n(2772),n(561);var i=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,n,i,r,a,o,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this,l=u.name,h=u.items;this._aliasCount++;for(var c=0,f=h.length;c<f;c++)h[c][l](t,e,n,i,r,a,o,s);return h===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(i.prototype,{dispatch:{value:i.prototype.emit},run:{value:i.prototype.emit}})},1863:function(t,e,n){"use strict";n.d(e,{t:function(){return F},X:function(){return B}});n(4723);var i=/iPhone/i,r=/iPod/i,a=/iPad/i,o=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,l=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,h=/Silk/i,c=/Windows Phone/i,f=/\bWindows(?:.+)ARM\b/i,d=/BlackBerry/i,p=/BB10/i,v=/Opera Mini/i,_=/\b(CriOS|Chrome)(?:.+)Mobile/i,m=/Mobile(?:.+)Firefox\b/i,y=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};var g,b,x,w,E,S,k,T,A,R,I,C,P,M,O,D,N,L,F=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=e.userAgent,g=n.split("[FBAN");void 0!==g[1]&&(n=g[0]),void 0!==(g=n.split("Twitter"))[1]&&(n=g[0]);var b=function(t){return function(e){return e.test(t)}}(n),x={apple:{phone:b(i)&&!b(c),ipod:b(r),tablet:!b(i)&&(b(a)||y(e))&&!b(c),universal:b(o),device:(b(i)||b(r)||b(a)||b(o)||y(e))&&!b(c)},amazon:{phone:b(l),tablet:!b(l)&&b(h),device:b(l)||b(h)},android:{phone:!b(c)&&b(l)||!b(c)&&b(s),tablet:!b(c)&&!b(l)&&!b(s)&&(b(h)||b(u)),device:!b(c)&&(b(l)||b(h)||b(s)||b(u))||b(/\bokhttp\b/i)},windows:{phone:b(c),tablet:b(f),device:b(c)||b(f)},other:{blackberry:b(d),blackberry10:b(p),opera:b(v),firefox:b(m),chrome:b(_),device:b(d)||b(p)||b(v)||b(m)||b(_)},any:!1,phone:!1,tablet:!1};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x}(self.navigator);!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(g||(g={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(b||(b={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(x||(x={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(w||(w={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(E||(E={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(S||(S={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(k||(k={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(T||(T={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(A||(A={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(R||(R={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(I||(I={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(C||(C={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(P||(P={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(M||(M={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(O||(O={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(D||(D={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(N||(N={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(L||(L={}));var B={MIPMAP_TEXTURES:C.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(F.tablet||F.phone){var n;if(F.apple.device)if(n=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(n[1],10)<11&&(e=!1);if(F.android.device)if(n=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(n[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:O.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:I.CLAMP,SCALE_MODE:R.LINEAR,PRECISION_VERTEX:D.HIGH,PRECISION_FRAGMENT:F.apple.device?D.HIGH:D.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!F.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},9734:function(t,e,n){"use strict";n.r(e),n.d(e,{Filter:function(){return D},Filterable:function(){return T},Sound:function(){return I},SoundLibrary:function(){return M},SoundLoader:function(){return y},SoundSprite:function(){return w},filters:function(){return N},htmlaudio:function(){return O},sound:function(){return V},utils:function(){return B},webaudio:function(){return L}});n(9601),n(5306),n(3123),n(2772),n(1539),n(9714),n(4747),n(7042),n(8264),n(9575),n(3371),n(8674),n(561),n(9826),n(1249),n(6992),n(4197),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016),n(3290);var i,r=n(1516),a=n(6603),o=n(4175),s=n(6448);function u(){return i}var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var c=function(){return(c=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},f=["mp3","ogg","oga","opus","mpeg","wav","m4a","aiff","wma","mid","caf"],d={};function p(t){var e=c({m4a:"audio/mp4",oga:"audio/ogg",opus:'audio/ogg; codecs="opus"',caf:'audio/x-caf; codecs="opus"'},t||{}),n=document.createElement("audio"),i={},r=/^no$/;f.forEach((function(t){var a=n.canPlayType("audio/"+t).replace(r,""),o=e[t]?n.canPlayType(e[t]).replace(r,""):"";i[t]=!!a||!!o})),Object.assign(d,i)}p();var v=/\.(\{([^\}]+)\})(\?.*)?$/;function _(t){var e=v,n="string"==typeof t?t:t.url;if(!e.test(n))return n;for(var i=e.exec(n),r=i[2].split(","),a=r[r.length-1],o=0,s=r.length;o<s;o++){var u=r[o];if(d[u]){a=u;break}}var l=n.replace(i[1],a);if("string"!=typeof t){var h=t;h.extension=a,h.url=l}return l}var m,y=function(){function t(){}return t.add=function(){t.setLegacy(u().useLegacy)},t.setLegacy=function(t){var e=f;t?e.forEach((function(t){r.kC.setExtensionXhrType(t,r.kC.XHR_RESPONSE_TYPE.DEFAULT),r.kC.setExtensionLoadType(t,r.kC.LOAD_TYPE.AUDIO)})):e.forEach((function(t){r.kC.setExtensionXhrType(t,r.kC.XHR_RESPONSE_TYPE.BUFFER),r.kC.setExtensionLoadType(t,r.kC.LOAD_TYPE.XHR)}))},t.pre=function(t,e){_(t),e()},t.use=function(t,e){t.data&&f.indexOf(t.extension)>-1?t.sound=u().add(t.name,{loaded:e,preload:!0,url:t.url,source:t.data}):e()},t}(),g=0,b=function(t){function e(e){var n=t.call(this)||this;return n.id=g++,n.init(e),n}return h(e,t),e.prototype.set=function(t,e){if(void 0===this[t])throw new Error("Property with name "+t+" does not exist.");switch(t){case"speed":this.speed=e;break;case"volume":this.volume=e;break;case"paused":this.paused=e;break;case"loop":this.loop=e;break;case"muted":this.muted=e}return this},Object.defineProperty(e.prototype,"progress",{get:function(){return this._source.currentTime/this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),e.prototype._onPlay=function(){this._playing=!0},e.prototype._onPause=function(){this._playing=!1},e.prototype.init=function(t){this._playing=!1,this._duration=t.source.duration;var e=this._source=t.source.cloneNode(!1);e.src=t.parent.url,e.onplay=this._onPlay.bind(this),e.onpause=this._onPause.bind(this),t.context.on("refresh",this.refresh,this),t.context.on("refreshPaused",this.refreshPaused,this),this._media=t},e.prototype._internalStop=function(){this._source&&this._playing&&(this._source.onended=null,this._source.pause())},e.prototype.stop=function(){this._internalStop(),this._source&&this.emit("stop")},Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var n=t.volume*(t.muted?0:1),i=e.volume*(e.muted?0:1),r=this._volume*(this._muted?0:1);this._source.volume=r*n*i,this._source.playbackRate=this._speed*t.speed*e.speed},e.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,n=this._paused||e.paused||t.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._source.currentTime,end:this._end,volume:this._volume,speed:this._speed,loop:this._loop})),this.emit("pause",n))},e.prototype.play=function(t){var n=this,i=t.start,r=t.end,a=t.speed,s=t.loop,u=t.volume,l=t.muted;this._speed=a,this._volume=u,this._loop=!!s,this._muted=l,this.refresh(),this.loop&&null!==r&&(this.loop=!1),this._start=i,this._end=r||this._duration,this._start=Math.max(0,this._start-e.PADDING),this._end=Math.min(this._end+e.PADDING,this._duration),this._source.onloadedmetadata=function(){n._source&&(n._source.currentTime=i,n._source.onloadedmetadata=null,n.emit("progress",i,n._duration),o.vB.shared.add(n._onUpdate,n))},this._source.onended=this._onComplete.bind(this),this._source.play(),this.emit("start")},e.prototype._onUpdate=function(){this.emit("progress",this.progress,this._duration),this._source.currentTime>=this._end&&!this._source.loop&&this._onComplete()},e.prototype._onComplete=function(){o.vB.shared.remove(this._onUpdate,this),this._internalStop(),this.emit("progress",1,this._duration),this.emit("end",this)},e.prototype.destroy=function(){o.vB.shared.remove(this._onUpdate,this),this.removeAllListeners();var t=this._source;t&&(t.onended=null,t.onplay=null,t.onpause=null,this._internalStop()),this._source=null,this._speed=1,this._volume=1,this._loop=!1,this._end=null,this._start=0,this._duration=0,this._playing=!1,this._pausedReal=!1,this._paused=!1,this._muted=!1,this._media&&(this._media.context.off("refresh",this.refresh,this),this._media.context.off("refreshPaused",this.refreshPaused,this),this._media=null)},e.prototype.toString=function(){return"[HTMLAudioInstance id="+this.id+"]"},e.PADDING=.1,e}(a.EventEmitter),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return h(e,t),e.prototype.init=function(t){this.parent=t,this._source=t.options.source||new Audio,t.url&&(this._source.src=t.url)},e.prototype.create=function(){return new b(this)},Object.defineProperty(e.prototype,"isPlayable",{get:function(){return!!this._source&&4===this._source.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._source.duration},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.removeAllListeners(),this.parent=null,this._source&&(this._source.src="",this._source.load(),this._source=null)},Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),e.prototype.load=function(t){var e=this._source,n=this.parent;if(4!==e.readyState)if(n.url){e.src=n.url;var i=function(){o(),n.isLoaded=!0;var e=n.autoPlayStart();t&&t(null,n,e)},r=function(){o(),t&&t(new Error("Sound loading has been aborted"))},a=function(){o();var n="Failed to load audio element (code: "+e.error.code+")";t&&t(new Error(n))},o=function(){e.removeEventListener("canplaythrough",i),e.removeEventListener("load",i),e.removeEventListener("abort",r),e.removeEventListener("error",a)};e.addEventListener("canplaythrough",i,!1),e.addEventListener("load",i,!1),e.addEventListener("abort",r,!1),e.addEventListener("error",a,!1),e.load()}else t(new Error("sound.url or sound.source must be set"));else{n.isLoaded=!0;var s=n.autoPlayStart();t&&setTimeout((function(){t(null,n,s)}),0)}},e}(a.EventEmitter),w=function(){function t(t,e){this.parent=t,Object.assign(this,e),this.duration=this.end-this.start}return t.prototype.play=function(t){return this.parent.play({complete:t,speed:this.speed||this.parent.speed,end:this.end,start:this.start,loop:this.loop})},t.prototype.destroy=function(){this.parent=null},t}(),E=function(){function t(){}return t.setParamValue=function(t,e){if(t.setValueAtTime){var n=u().context;t.setValueAtTime(e,n.audioContext.currentTime)}else t.value=e;return e},t}(),S=0,k=function(t){function e(e){var n=t.call(this)||this;return n.id=S++,n._media=null,n._paused=!1,n._muted=!1,n._elapsed=0,n.init(e),n}return h(e,t),e.prototype.set=function(t,e){if(void 0===this[t])throw new Error("Property with name "+t+" does not exist.");switch(t){case"speed":this.speed=e;break;case"volume":this.volume=e;break;case"muted":this.muted=e;break;case"loop":this.loop=e;break;case"paused":this.paused=e}return this},e.prototype.stop=function(){this._source&&(this._internalStop(),this.emit("stop"))},Object.defineProperty(e.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh(),this._update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){if(this._source){var t=this._media.context,e=this._media.parent;this._source.loop=this._loop||e.loop;var n=t.volume*(t.muted?0:1),i=e.volume*(e.muted?0:1),r=this._volume*(this._muted?0:1);E.setParamValue(this._gain.gain,r*i*n),E.setParamValue(this._source.playbackRate,this._speed*e.speed*t.speed)}},e.prototype.refreshPaused=function(){var t=this._media.context,e=this._media.parent,n=this._paused||e.paused||t.paused;n!==this._pausedReal&&(this._pausedReal=n,n?(this._internalStop(),this.emit("paused")):(this.emit("resumed"),this.play({start:this._elapsed%this._duration,end:this._end,speed:this._speed,loop:this._loop,volume:this._volume})),this.emit("pause",n))},e.prototype.play=function(t){var e=t.start,n=t.end,i=t.speed,r=t.loop,a=t.volume,o=t.muted;this._paused=!1;var s=this._media.nodes.cloneBufferSource(),u=s.source,l=s.gain;this._source=u,this._gain=l,this._speed=i,this._volume=a,this._loop=!!r,this._muted=o,this.refresh();var h=this._source.buffer.duration;this._duration=h,this._end=n,this._lastUpdate=this._now(),this._elapsed=e,this._source.onended=this._onComplete.bind(this),this._loop?(this._source.loopEnd=n,this._source.loopStart=e,this._source.start(0,e)):n?this._source.start(0,e,n-e):this._source.start(0,e),this.emit("start"),this._update(!0),this.enableTicker(!0)},e.prototype.enableTicker=function(t){o.vB.shared.remove(this._updateListener,this),t&&o.vB.shared.add(this._updateListener,this)},Object.defineProperty(e.prototype,"progress",{get:function(){return this._progress},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this.removeAllListeners(),this._internalStop(),this._gain&&(this._gain.disconnect(),this._gain=null),this._media&&(this._media.context.events.off("refresh",this.refresh,this),this._media.context.events.off("refreshPaused",this.refreshPaused,this),this._media=null),this._end=null,this._speed=1,this._volume=1,this._loop=!1,this._elapsed=0,this._duration=0,this._paused=!1,this._muted=!1,this._pausedReal=!1},e.prototype.toString=function(){return"[WebAudioInstance id="+this.id+"]"},e.prototype._now=function(){return this._media.context.audioContext.currentTime},e.prototype._updateListener=function(){this._update()},e.prototype._update=function(t){if(void 0===t&&(t=!1),this._source){var e=this._now(),n=e-this._lastUpdate;if(n>0||t){var i=this._source.playbackRate.value;this._elapsed+=n*i,this._lastUpdate=e;var r=this._duration,a=void 0;if(this._source.loopStart){var o=this._source.loopEnd-this._source.loopStart;a=(this._source.loopStart+this._elapsed%o)/r}else a=this._elapsed%r/r;this._progress=a,this.emit("progress",this._progress,r)}}},e.prototype.init=function(t){this._media=t,t.context.events.on("refresh",this.refresh,this),t.context.events.on("refreshPaused",this.refreshPaused,this)},e.prototype._internalStop=function(){this._source&&(this.enableTicker(!1),this._source.onended=null,this._source.stop(0),this._source.disconnect(),this._source.buffer=null,this._source=null)},e.prototype._onComplete=function(){this._source&&(this.enableTicker(!1),this._source.onended=null,this._source.disconnect(),this._source.buffer=null),this._source=null,this._progress=1,this.emit("progress",1,this._duration),this.emit("end",this)},e}(a.EventEmitter),T=function(){function t(t,e){this._output=e,this._input=t}return Object.defineProperty(t.prototype,"destination",{get:function(){return this._input},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._filters},set:function(t){var e=this;if(this._filters&&(this._filters.forEach((function(t){t&&t.disconnect()})),this._filters=null,this._input.connect(this._output)),t&&t.length){this._filters=t.slice(0),this._input.disconnect();var n=null;t.forEach((function(t){null===n?e._input.connect(t.destination):n.connect(t.destination),n=t})),n.connect(this._output)}},enumerable:!1,configurable:!0}),t.prototype.destroy=function(){this.filters=null,this._input=null,this._output=null},t}(),A=function(t){function e(e){var n=this,i=e.audioContext,r=i.createBufferSource(),a=i.createGain(),o=i.createAnalyser();return r.connect(o),o.connect(a),a.connect(e.destination),(n=t.call(this,o,a)||this).context=e,n.bufferSource=r,n.gain=a,n.analyser=o,n}return h(e,t),Object.defineProperty(e.prototype,"script",{get:function(){return this._script||(this._script=this.context.audioContext.createScriptProcessor(e.BUFFER_SIZE),this._script.connect(this.context.destination)),this._script},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.bufferSource.disconnect(),this._script&&this._script.disconnect(),this.gain.disconnect(),this.analyser.disconnect(),this.bufferSource=null,this._script=null,this.gain=null,this.analyser=null,this.context=null},e.prototype.cloneBufferSource=function(){var t=this.bufferSource,e=this.context.audioContext.createBufferSource();e.buffer=t.buffer,E.setParamValue(e.playbackRate,t.playbackRate.value),e.loop=t.loop;var n=this.context.audioContext.createGain();return e.connect(n),n.connect(this.destination),{source:e,gain:n}},Object.defineProperty(e.prototype,"bufferSize",{get:function(){return this.script.bufferSize},enumerable:!1,configurable:!0}),e.BUFFER_SIZE=0,e}(T),R=function(){function t(){}return t.prototype.init=function(t){this.parent=t,this._nodes=new A(this.context),this._source=this._nodes.bufferSource,this.source=t.options.source},t.prototype.destroy=function(){this.parent=null,this._nodes.destroy(),this._nodes=null,this._source.buffer=null,this._source=null,this.source=null},t.prototype.create=function(){return new k(this)},Object.defineProperty(t.prototype,"context",{get:function(){return this.parent.context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlayable",{get:function(){return!!this._source&&!!this._source.buffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this._nodes.filters},set:function(t){this._nodes.filters=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._source.buffer.duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buffer",{get:function(){return this._source.buffer},set:function(t){this._source.buffer=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nodes",{get:function(){return this._nodes},enumerable:!1,configurable:!0}),t.prototype.load=function(t){this.source?this._decode(this.source,t):this.parent.url?this._loadUrl(t):t&&t(new Error("sound.url or sound.source must be set"))},t.prototype._loadUrl=function(t){var e=this,n=new XMLHttpRequest,i=this.parent.url;n.open("GET",i,!0),n.responseType="arraybuffer",n.onload=function(){e.source=n.response,e._decode(n.response,t)},n.send()},t.prototype._decode=function(t,e){var n=this;this.parent.context.decode(t,(function(t,i){if(t)e&&e(t);else{n.parent.isLoaded=!0,n.buffer=i;var r=n.parent.autoPlayStart();e&&e(null,n.parent,r)}}))},t}(),I=function(){function t(t,e){this.media=t,this.options=e,this._instances=[],this._sprites={},this.media.init(this);var n=e.complete;this._autoPlayOptions=n?{complete:n}:null,this.isLoaded=!1,this.isPlaying=!1,this.autoPlay=e.autoPlay,this.singleInstance=e.singleInstance,this.preload=e.preload||this.autoPlay,this.url=e.url,this.speed=e.speed,this.volume=e.volume,this.loop=e.loop,e.sprites&&this.addSprites(e.sprites),this.preload&&this._preload(e.loaded)}return t.from=function(e){var n={};return"string"==typeof e?n.url=e:e instanceof ArrayBuffer||e instanceof HTMLAudioElement?n.source=e:n=e,(n=c({autoPlay:!1,singleInstance:!1,url:null,source:null,preload:!1,volume:1,speed:1,complete:null,loaded:null,loop:!1},n)).url&&(n.url=_(n.url)),Object.freeze(n),new t(u().useLegacy?new x:new R,n)},Object.defineProperty(t.prototype,"context",{get:function(){return u().context},enumerable:!1,configurable:!0}),t.prototype.pause=function(){return this.isPlaying=!1,this.paused=!0,this},t.prototype.resume=function(){return this.isPlaying=this._instances.length>0,this.paused=!1,this},Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},set:function(t){this._paused=t,this.refreshPaused()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speed",{get:function(){return this._speed},set:function(t){this._speed=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filters",{get:function(){return this.media.filters},set:function(t){this.media.filters=t},enumerable:!1,configurable:!0}),t.prototype.addSprites=function(t,e){if("object"==typeof t){var n={};for(var i in t)n[i]=this.addSprites(i,t[i]);return n}var r=new w(this,e);return this._sprites[t]=r,r},t.prototype.destroy=function(){this._removeInstances(),this.removeSprites(),this.media.destroy(),this.media=null,this._sprites=null,this._instances=null},t.prototype.removeSprites=function(t){if(t){var e=this._sprites[t];void 0!==e&&(e.destroy(),delete this._sprites[t])}else for(var n in this._sprites)this.removeSprites(n);return this},Object.defineProperty(t.prototype,"isPlayable",{get:function(){return this.isLoaded&&this.media&&this.media.isPlayable},enumerable:!1,configurable:!0}),t.prototype.stop=function(){if(!this.isPlayable)return this.autoPlay=!1,this._autoPlayOptions=null,this;this.isPlaying=!1;for(var t=this._instances.length-1;t>=0;t--)this._instances[t].stop();return this},t.prototype.play=function(t,e){var n,i=this;if("string"==typeof t?n={sprite:a=t,loop:this.loop,complete:e}:"function"==typeof t?(n={}).complete=t:n=t,(n=c({complete:null,loaded:null,sprite:null,end:null,start:0,volume:1,speed:1,muted:!1,loop:!1},n||{})).sprite){var r=n.sprite,a=this._sprites[r];n.start=a.start,n.end=a.end,n.speed=a.speed||1,n.loop=a.loop||n.loop,delete n.sprite}if(n.offset&&(n.start=n.offset),!this.isLoaded)return new Promise((function(t,e){i.autoPlay=!0,i._autoPlayOptions=n,i._preload((function(i,r,a){i?e(i):(n.loaded&&n.loaded(i,r,a),t(a))}))}));this.singleInstance&&this._removeInstances();var o=this._createInstance();return this._instances.push(o),this.isPlaying=!0,o.once("end",(function(){n.complete&&n.complete(i),i._onComplete(o)})),o.once("stop",(function(){i._onComplete(o)})),o.play(n),o},t.prototype.refresh=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refresh()},t.prototype.refreshPaused=function(){for(var t=this._instances.length,e=0;e<t;e++)this._instances[e].refreshPaused()},Object.defineProperty(t.prototype,"volume",{get:function(){return this._volume},set:function(t){this._volume=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"muted",{get:function(){return this._muted},set:function(t){this._muted=t,this.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.refresh()},enumerable:!1,configurable:!0}),t.prototype._preload=function(t){this.media.load(t)},Object.defineProperty(t.prototype,"instances",{get:function(){return this._instances},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sprites",{get:function(){return this._sprites},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this.media.duration},enumerable:!1,configurable:!0}),t.prototype.autoPlayStart=function(){var t;return this.autoPlay&&(t=this.play(this._autoPlayOptions)),t},t.prototype._removeInstances=function(){for(var t=this._instances.length-1;t>=0;t--)this._poolInstance(this._instances[t]);this._instances.length=0},t.prototype._onComplete=function(t){if(this._instances){var e=this._instances.indexOf(t);e>-1&&this._instances.splice(e,1),this.isPlaying=this._instances.length>0}this._poolInstance(t)},t.prototype._createInstance=function(){if(t._pool.length>0){var e=t._pool.pop();return e.init(this.media),e}return this.media.create()},t.prototype._poolInstance=function(e){e.destroy(),t._pool.indexOf(e)<0&&t._pool.push(e)},t._pool=[],t}(),C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=1,e.muted=!1,e.volume=1,e.paused=!1,e}return h(e,t),e.prototype.refresh=function(){this.emit("refresh")},e.prototype.refreshPaused=function(){this.emit("refreshPaused")},Object.defineProperty(e.prototype,"filters",{get:function(){return null},set:function(t){},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audioContext",{get:function(){return null},enumerable:!1,configurable:!0}),e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this.paused},e.prototype.destroy=function(){this.removeAllListeners()},e}(a.EventEmitter),P=function(t){function e(){var n=this,i=window,r=new e.AudioContext,o=r.createDynamicsCompressor(),s=r.createAnalyser();return s.connect(o),o.connect(r.destination),(n=t.call(this,s,o)||this)._ctx=r,n._offlineCtx=new e.OfflineAudioContext(1,2,i.OfflineAudioContext?r.sampleRate:44100),n._unlocked=!1,n.compressor=o,n.analyser=s,n.events=new a.EventEmitter,n.volume=1,n.speed=1,n.muted=!1,n.paused=!1,"running"!==r.state&&(n._unlock(),n._unlock=n._unlock.bind(n),document.addEventListener("mousedown",n._unlock,!0),document.addEventListener("touchstart",n._unlock,!0),document.addEventListener("touchend",n._unlock,!0)),n}return h(e,t),e.prototype._unlock=function(){this._unlocked||(this.playEmptySound(),"running"===this._ctx.state&&(document.removeEventListener("mousedown",this._unlock,!0),document.removeEventListener("touchend",this._unlock,!0),document.removeEventListener("touchstart",this._unlock,!0),this._unlocked=!0))},e.prototype.playEmptySound=function(){var t=this._ctx.createBufferSource();t.buffer=this._ctx.createBuffer(1,1,22050),t.connect(this._ctx.destination),t.start(0,0,0),"suspended"===t.context.state&&t.context.resume()},Object.defineProperty(e,"AudioContext",{get:function(){var t=window;return t.AudioContext||t.webkitAudioContext||null},enumerable:!1,configurable:!0}),Object.defineProperty(e,"OfflineAudioContext",{get:function(){var t=window;return t.OfflineAudioContext||t.webkitOfflineAudioContext||null},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this._ctx;void 0!==e.close&&e.close(),this.events.removeAllListeners(),this.analyser.disconnect(),this.compressor.disconnect(),this.analyser=null,this.compressor=null,this.events=null,this._offlineCtx=null,this._ctx=null},Object.defineProperty(e.prototype,"audioContext",{get:function(){return this._ctx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offlineContext",{get:function(){return this._offlineCtx},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){t&&"running"===this._ctx.state?this._ctx.suspend():t||"suspended"!==this._ctx.state||this._ctx.resume(),this._paused=t},enumerable:!1,configurable:!0}),e.prototype.refresh=function(){this.events.emit("refresh")},e.prototype.refreshPaused=function(){this.events.emit("refreshPaused")},e.prototype.toggleMute=function(){return this.muted=!this.muted,this.refresh(),this.muted},e.prototype.togglePause=function(){return this.paused=!this.paused,this.refreshPaused(),this._paused},e.prototype.decode=function(t,e){var n=function(t){e(new Error(t.message||"Unable to decode file"))},i=this._offlineCtx.decodeAudioData(t,(function(t){e(null,t)}),n);i&&i.catch(n)},e}(T),M=function(){function t(){this.init()}return t.prototype.init=function(){return this.supported&&(this._webAudioContext=new P),this._htmlAudioContext=new C,this._sounds={},this.useLegacy=!this.supported,this},Object.defineProperty(t.prototype,"context",{get:function(){return this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"filtersAll",{get:function(){return this.useLegacy?[]:this._context.filters},set:function(t){this.useLegacy||(this._context.filters=t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supported",{get:function(){return null!==P.AudioContext},enumerable:!1,configurable:!0}),t.prototype.add=function(t,e){if("object"==typeof t){var n={};for(var i in t){var r=this._getOptions(t[i],e);n[i]=this.add(i,r)}return n}if(e instanceof I)return this._sounds[t]=e,e;var a=this._getOptions(e),o=I.from(a);return this._sounds[t]=o,o},t.prototype._getOptions=function(t,e){var n;return n="string"==typeof t?{url:t}:t instanceof ArrayBuffer||t instanceof HTMLAudioElement?{source:t}:t,c(c({},n),e||{})},Object.defineProperty(t.prototype,"useLegacy",{get:function(){return this._useLegacy},set:function(t){y.setLegacy(t),this._useLegacy=t,this._context=!t&&this.supported?this._webAudioContext:this._htmlAudioContext},enumerable:!1,configurable:!0}),t.prototype.remove=function(t){return this.exists(t,!0),this._sounds[t].destroy(),delete this._sounds[t],this},Object.defineProperty(t.prototype,"volumeAll",{get:function(){return this._context.volume},set:function(t){this._context.volume=t,this._context.refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"speedAll",{get:function(){return this._context.speed},set:function(t){this._context.speed=t,this._context.refresh()},enumerable:!1,configurable:!0}),t.prototype.togglePauseAll=function(){return this._context.togglePause()},t.prototype.pauseAll=function(){return this._context.paused=!0,this._context.refreshPaused(),this},t.prototype.resumeAll=function(){return this._context.paused=!1,this._context.refreshPaused(),this},t.prototype.toggleMuteAll=function(){return this._context.toggleMute()},t.prototype.muteAll=function(){return this._context.muted=!0,this._context.refresh(),this},t.prototype.unmuteAll=function(){return this._context.muted=!1,this._context.refresh(),this},t.prototype.removeAll=function(){for(var t in this._sounds)this._sounds[t].destroy(),delete this._sounds[t];return this},t.prototype.stopAll=function(){for(var t in this._sounds)this._sounds[t].stop();return this},t.prototype.exists=function(t,e){return void 0===e&&(e=!1),!!this._sounds[t]},t.prototype.find=function(t){return this.exists(t,!0),this._sounds[t]},t.prototype.play=function(t,e){return this.find(t).play(e)},t.prototype.stop=function(t){return this.find(t).stop()},t.prototype.pause=function(t){return this.find(t).pause()},t.prototype.resume=function(t){return this.find(t).resume()},t.prototype.volume=function(t,e){var n=this.find(t);return void 0!==e&&(n.volume=e),n.volume},t.prototype.speed=function(t,e){var n=this.find(t);return void 0!==e&&(n.speed=e),n.speed},t.prototype.duration=function(t){return this.find(t).duration},t.prototype.close=function(){return this.removeAll(),this._sounds=null,this._webAudioContext&&(this._webAudioContext.destroy(),this._webAudioContext=null),this._htmlAudioContext&&(this._htmlAudioContext.destroy(),this._htmlAudioContext=null),this._context=null,this},t}(),O={HTMLAudioContext:C,HTMLAudioMedia:x,HTMLAudioInstance:b},D=function(){function t(t,e){this.init(t,e)}return t.prototype.init=function(t,e){this.destination=t,this.source=e||t},t.prototype.connect=function(t){this.source.connect(t)},t.prototype.disconnect=function(){this.source.disconnect()},t.prototype.destroy=function(){this.disconnect(),this.destination=null,this.source=null},t}(),N={Filter:D,EqualizerFilter:function(t){function e(n,i,r,a,o,s,l,h,c,f){void 0===n&&(n=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===l&&(l=0),void 0===h&&(h=0),void 0===c&&(c=0),void 0===f&&(f=0);var d=this;if(!u().useLegacy){var p=[{f:e.F32,type:"lowshelf",gain:n},{f:e.F64,type:"peaking",gain:i},{f:e.F125,type:"peaking",gain:r},{f:e.F250,type:"peaking",gain:a},{f:e.F500,type:"peaking",gain:o},{f:e.F1K,type:"peaking",gain:s},{f:e.F2K,type:"peaking",gain:l},{f:e.F4K,type:"peaking",gain:h},{f:e.F8K,type:"peaking",gain:c},{f:e.F16K,type:"highshelf",gain:f}].map((function(t){var e=u().context.audioContext.createBiquadFilter();return e.type=t.type,E.setParamValue(e.Q,1),e.frequency.value=t.f,E.setParamValue(e.gain,t.gain),e}));(d=t.call(this,p[0],p[p.length-1])||this).bands=p,d.bandsMap={};for(var v=0;v<d.bands.length;v++){var _=d.bands[v];v>0&&d.bands[v-1].connect(_),d.bandsMap[_.frequency.value]=_}return d}d=t.call(this,null)||this}return h(e,t),e.prototype.setGain=function(t,e){if(void 0===e&&(e=0),!this.bandsMap[t])throw new Error("No band found for frequency "+t);E.setParamValue(this.bandsMap[t].gain,e)},e.prototype.getGain=function(t){if(!this.bandsMap[t])throw new Error("No band found for frequency "+t);return this.bandsMap[t].gain.value},Object.defineProperty(e.prototype,"f32",{get:function(){return this.getGain(e.F32)},set:function(t){this.setGain(e.F32,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"f64",{get:function(){return this.getGain(e.F64)},set:function(t){this.setGain(e.F64,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"f125",{get:function(){return this.getGain(e.F125)},set:function(t){this.setGain(e.F125,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"f250",{get:function(){return this.getGain(e.F250)},set:function(t){this.setGain(e.F250,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"f500",{get:function(){return this.getGain(e.F500)},set:function(t){this.setGain(e.F500,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"f1k",{get:function(){return this.getGain(e.F1K)},set:function(t){this.setGain(e.F1K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"f2k",{get:function(){return this.getGain(e.F2K)},set:function(t){this.setGain(e.F2K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"f4k",{get:function(){return this.getGain(e.F4K)},set:function(t){this.setGain(e.F4K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"f8k",{get:function(){return this.getGain(e.F8K)},set:function(t){this.setGain(e.F8K,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"f16k",{get:function(){return this.getGain(e.F16K)},set:function(t){this.setGain(e.F16K,t)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.bands.forEach((function(t){E.setParamValue(t.gain,0)}))},e.prototype.destroy=function(){this.bands.forEach((function(t){t.disconnect()})),this.bands=null,this.bandsMap=null},e.F32=32,e.F64=64,e.F125=125,e.F250=250,e.F500=500,e.F1K=1e3,e.F2K=2e3,e.F4K=4e3,e.F8K=8e3,e.F16K=16e3,e}(D),DistortionFilter:function(t){function e(e){void 0===e&&(e=0);var n=this;if(!u().useLegacy){var i=u().context.audioContext.createWaveShaper();return(n=t.call(this,i)||this)._distortion=i,n.amount=e,n}n=t.call(this,null)||this}return h(e,t),Object.defineProperty(e.prototype,"amount",{get:function(){return this._amount},set:function(t){t*=1e3,this._amount=t;for(var e,n=44100,i=new Float32Array(n),r=Math.PI/180,a=0;a<n;++a)e=2*a/n-1,i[a]=(3+t)*e*20*r/(Math.PI+t*Math.abs(e));this._distortion.curve=i,this._distortion.oversample="4x"},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){this._distortion=null,t.prototype.destroy.call(this)},e}(D),StereoFilter:function(t){function e(e){void 0===e&&(e=0);var n=this;if(!u().useLegacy){var i,r,a,o=u().context.audioContext;return o.createStereoPanner?a=i=o.createStereoPanner():((r=o.createPanner()).panningModel="equalpower",a=r),(n=t.call(this,a)||this)._stereo=i,n._panner=r,n.pan=e,n}n=t.call(this,null)||this}return h(e,t),Object.defineProperty(e.prototype,"pan",{get:function(){return this._pan},set:function(t){this._pan=t,this._stereo?E.setParamValue(this._stereo.pan,t):this._panner.setPosition(t,0,1-Math.abs(t))},enumerable:!1,configurable:!0}),e.prototype.destroy=function(){t.prototype.destroy.call(this),this._stereo=null,this._panner=null},e}(D),ReverbFilter:function(t){function e(e,n,i){void 0===e&&(e=3),void 0===n&&(n=2),void 0===i&&(i=!1);var r=this;if(!u().useLegacy)return(r=t.call(this,null)||this)._seconds=r._clamp(e,1,50),r._decay=r._clamp(n,0,100),r._reverse=i,r._rebuild(),r;r=t.call(this,null)||this}return h(e,t),e.prototype._clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},Object.defineProperty(e.prototype,"seconds",{get:function(){return this._seconds},set:function(t){this._seconds=this._clamp(t,1,50),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"decay",{get:function(){return this._decay},set:function(t){this._decay=this._clamp(t,0,100),this._rebuild()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reverse",{get:function(){return this._reverse},set:function(t){this._reverse=t,this._rebuild()},enumerable:!1,configurable:!0}),e.prototype._rebuild=function(){for(var t,e=u().context.audioContext,n=e.sampleRate,i=n*this._seconds,r=e.createBuffer(2,i,n),a=r.getChannelData(0),o=r.getChannelData(1),s=0;s<i;s++)t=this._reverse?i-s:s,a[s]=(2*Math.random()-1)*Math.pow(1-t/i,this._decay),o[s]=(2*Math.random()-1)*Math.pow(1-t/i,this._decay);var l=u().context.audioContext.createConvolver();l.buffer=r,this.init(l)},e}(D),MonoFilter:function(t){function e(){var e=this;if(!u().useLegacy){var n=u().context.audioContext,i=n.createChannelSplitter(),r=n.createChannelMerger();return r.connect(i),(e=t.call(this,r,i)||this)._merger=r,e}e=t.call(this,null)||this}return h(e,t),e.prototype.destroy=function(){this._merger.disconnect(),this._merger=null,t.prototype.destroy.call(this)},e}(D),TelephoneFilter:function(t){function e(){if(!u().useLegacy){var e=u().context.audioContext,n=e.createBiquadFilter(),i=e.createBiquadFilter(),r=e.createBiquadFilter(),a=e.createBiquadFilter();return n.type="lowpass",E.setParamValue(n.frequency,2e3),i.type="lowpass",E.setParamValue(i.frequency,2e3),r.type="highpass",E.setParamValue(r.frequency,500),a.type="highpass",E.setParamValue(a.frequency,500),n.connect(i),i.connect(r),r.connect(a),t.call(this,n,a)||this}t.call(this,null)}return h(e,t),e}(D)},L={WebAudioMedia:R,WebAudioInstance:k,WebAudioNodes:A,WebAudioContext:P,WebAudioUtils:E},F=0,B={playOnce:function(t,e){var n="alias"+F++;return u().add(n,{url:t,preload:!0,autoPlay:!0,loaded:function(t){t&&(u().remove(n),e&&e(t))},complete:function(){u().remove(n),e&&e(null)}}),n},render:function(t,e){var n=document.createElement("canvas");e=c({width:512,height:128,fill:"black"},e||{}),n.width=e.width,n.height=e.height;var i=s.VL.from(n);if(!(t.media instanceof R))return i;var r=t.media,a=n.getContext("2d");a.fillStyle=e.fill;for(var o=r.buffer.getChannelData(0),u=Math.ceil(o.length/e.width),l=e.height/2,h=0;h<e.width;h++){for(var f=1,d=-1,p=0;p<u;p++){var v=o[h*u+p];v<f&&(f=v),v>d&&(d=v)}a.fillRect(h,(1+f)*l,1,Math.max(1,(d-f)*l))}return i},resolveUrl:_,sineTone:function(t,e){void 0===t&&(t=200),void 0===e&&(e=1);var n=I.from({singleInstance:!0});if(!(n.media instanceof R))return n;for(var i=n.media,r=n.context.audioContext.createBuffer(1,48e3*e,48e3),a=r.getChannelData(0),o=0;o<a.length;o++){var s=t*(o/r.sampleRate)*Math.PI;a[o]=2*Math.sin(s)}return i.buffer=r,n.isLoaded=!0,n},supported:d,extensions:f,validateFormats:p},V=(m=new M,i=m,m);r.aN.registerPlugin(y)},5166:function(t,e,n){"use strict";n.d(e,{K:function(){return s}});var i=n(6448),r=n(5009),a=n(4175),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var s=function(t){function e(e,n){void 0===n&&(n=!0);var r=t.call(this,e[0]instanceof i.xE?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=n,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(a.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(a.vB.shared.add(this.update,this,a.uF.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.xE.from(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(i.xE.from(t[r]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof i.xE)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(a.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(a.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(r.j)},5009:function(t,e,n){"use strict";n.d(e,{j:function(){return f}});n(6992),n(9575),n(1539),n(8255),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016),n(4197),n(3210);var i=n(7397),r=n(6448),a=n(6993),o=n(7274),s=n(1863),u=n(6603),l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var h=new o.E9,c=new Uint16Array([0,1,2,0,2,3]),f=function(t){function e(e){var n=t.call(this)||this;return n._anchor=new o.AB(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=i.T$.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||r.xE.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=c,n.pluginName="batch",n.isSprite=!0,n._roundPixels=s.X.ROUND_PIXELS,n}return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,u.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,u.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,n=e.a,i=e.b,r=e.c,a=e.d,o=e.tx,u=e.ty,l=this.vertexData,h=t.trim,c=t.orig,f=this._anchor,d=0,p=0,v=0,_=0;if(h?(d=(p=h.x-f._x*c.width)+h.width,v=(_=h.y-f._y*c.height)+h.height):(d=(p=-f._x*c.width)+c.width,v=(_=-f._y*c.height)+c.height),l[0]=n*p+r*_+o,l[1]=a*_+i*p+u,l[2]=n*d+r*_+o,l[3]=a*_+i*d+u,l[4]=n*d+r*v+o,l[5]=a*v+i*d+u,l[6]=n*p+r*v+o,l[7]=a*v+i*p+u,this._roundPixels)for(var m=s.X.RESOLUTION,y=0;y<l.length;++y)l[y]=Math.round((l[y]*m|0)/m)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,i=this._anchor,r=this.transform.worldTransform,a=r.a,o=r.b,s=r.c,u=r.d,l=r.tx,h=r.ty,c=-i._x*n.width,f=c+n.width,d=-i._y*n.height,p=d+n.height;e[0]=a*c+s*d+l,e[1]=u*d+o*c+h,e[2]=a*f+s*d+l,e[3]=u*d+o*f+h,e[4]=a*f+s*p+l,e[5]=u*p+o*f+h,e[6]=a*c+s*p+l,e[7]=u*p+o*c+h},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new o.Ae),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,h);var e=this._texture.orig.width,n=this._texture.orig.height,i=-e*this.anchor.x,r=0;return h.x>=i&&h.x<i+e&&(r=-n*this.anchor.y,h.y>=r&&h.y<r+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null},e.from=function(t,n){return new e(t instanceof r.xE?t:r.xE.from(t,n))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,u.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,u.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||r.xE.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(a.W2)},3151:function(t,e,n){"use strict";n.d(e,{c:function(){return s},o:function(){return u}});n(5306),n(2479);var i=n(7274),r=n(6448),a=n(6603),o=n(1516),s=function(){function t(t,e,n){void 0===n&&(n=null),this._texture=t instanceof r.xE?t:null,this.baseTexture=t instanceof r.VL?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,n=(0,a.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,a=t.BATCH_SIZE;n-e<a&&n<this._frameKeys.length;){var o=this._frameKeys[n],s=this._frames[o],u=s.frame;if(u){var l=null,h=null,c=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,f=new i.Ae(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);l=s.rotated?new i.Ae(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.h)/this.resolution,Math.floor(u.w)/this.resolution):new i.Ae(Math.floor(u.x)/this.resolution,Math.floor(u.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(h=new i.Ae(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution)),this.textures[o]=new r.xE(this.baseTexture,l,f,h,s.rotated?2:0,s.anchor),r.xE.addToCache(this.textures[o],o)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var n=0;n<t[e].length;n++){var i=t[e][n];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var n in void 0===t&&(t=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),u=function(){function t(){}return t.use=function(e,n){var i,r,u=this,l=e.name+"_image";if(e.data&&e.type===o.kC.TYPE.JSON&&e.data.frames&&!u.resources[l]){var h=null===(r=null===(i=e.data)||void 0===i?void 0:i.meta)||void 0===r?void 0:r.related_multi_packs;if(Array.isArray(h))for(var c=function(t){if("string"!=typeof t)return"continue";var n=t.replace(".json",""),i=a.url.resolve(e.url.replace(u.baseUrl,""),t);if(u.resources[n]||Object.values(u.resources).some((function(t){return a.url.format(a.url.parse(t.url))===i})))return"continue";var r={crossOrigin:e.crossOrigin,loadType:o.kC.LOAD_TYPE.XHR,xhrType:o.kC.XHR_RESPONSE_TYPE.JSON,parentResource:e};u.add(n,i,r)},f=0,d=h;f<d.length;f++){c(d[f])}var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},v=t.getResourcePath(e,u.baseUrl);u.add(l,v,p,(function(t){if(t.error)n(t.error);else{var i=new s(t.texture,e.data,e.url);i.parse((function(){e.spritesheet=i,e.textures=i.textures,n()}))}}))}else n()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:a.url.resolve(t.url.replace(e,""),t.data.meta.image)},t}()},1538:function(t,e,n){"use strict";n.d(e,{M_:function(){return i},xv:function(){return g},_A:function(){return _},pn:function(){return f}});n(3123),n(3210),n(2772),n(5306),n(7042),n(8702),n(3290),n(1038),n(9601);var i,r=n(5009),a=n(6448),o=n(1863),s=n(7274),u=n(6603),l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(i||(i={}));var h={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},c=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],f=function(){function t(t){this.styleID=0,this.reset(),v(this,t,t)}return t.prototype.clone=function(){var e={};return v(e,this,h),new t(e)},t.prototype.reset=function(){v(this,h,h)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=p(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=p(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=p(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var i=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&c.indexOf(i)<0&&(i='"'+i+'"'),e[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function d(t){return"number"==typeof t?(0,u.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function p(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=d(t[e]);return t}return d(t)}function v(t,e,n){for(var i in n)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}var _=function(){function t(t,e,n,i,r,a,o,s,u){this.text=t,this.style=e,this.width=n,this.height=i,this.lines=r,this.lineWidths=a,this.lineHeight=o,this.maxLineWidth=s,this.fontProperties=u}return t.measureText=function(e,n,i,r){void 0===r&&(r=t._canvas),i=null==i?n.wordWrap:i;var a=n.toFontString(),o=t.measureFont(a);0===o.fontSize&&(o.fontSize=n.fontSize,o.ascent=n.fontSize);var s=r.getContext("2d");s.font=a;for(var u=(i?t.wordWrap(e,n,r):e).split(/(?:\r\n|\r|\n)/),l=new Array(u.length),h=0,c=0;c<u.length;c++){var f=s.measureText(u[c]).width+(u[c].length-1)*n.letterSpacing;l[c]=f,h=Math.max(h,f)}var d=h+n.strokeThickness;n.dropShadow&&(d+=n.dropShadowDistance);var p=n.lineHeight||o.fontSize+n.strokeThickness,v=Math.max(p,o.fontSize+n.strokeThickness)+(u.length-1)*(p+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new t(e,n,d,v,u,l,p+n.leading,h,o)},t.wordWrap=function(e,n,i){void 0===i&&(i=t._canvas);for(var r=i.getContext("2d"),a=0,o="",s="",u=Object.create(null),l=n.letterSpacing,h=n.whiteSpace,c=t.collapseSpaces(h),f=t.collapseNewlines(h),d=!c,p=n.wordWrapWidth+l,v=t.tokenize(e),_=0;_<v.length;_++){var m=v[_];if(t.isNewline(m)){if(!f){s+=t.addLine(o),d=!c,o="",a=0;continue}m=" "}if(c){var y=t.isBreakingSpace(m),g=t.isBreakingSpace(o[o.length-1]);if(y&&g)continue}var b=t.getFromCache(m,l,u,r);if(b>p)if(""!==o&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(m,n.breakWords))for(var x=t.wordWrapSplit(m),w=0;w<x.length;w++){for(var E=x[w],S=1;x[w+S];){var k=x[w+S],T=E[E.length-1];if(t.canBreakChars(T,k,m,w,n.breakWords))break;E+=k,S++}w+=E.length-1;var A=t.getFromCache(E,l,u,r);A+a>p&&(s+=t.addLine(o),d=!1,o="",a=0),o+=E,a+=A}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var R=_===v.length-1;s+=t.addLine(m,!R),d=!1,o="",a=0}else b+a>p&&(d=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(m)||d)&&(o+=m,a+=b)}return s+=t.addLine(o,!1)},t.addLine=function(e,n){return void 0===n&&(n=!0),e=t.trimRight(e),e=n?e+"\n":e},t.getFromCache=function(t,e,n,i){var r=n[t];if("number"!=typeof r){var a=t.length*e;r=i.measureText(t).width+a,n[t]=r}return r},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var n=e.length-1;n>=0;n--){var i=e[n];if(!t.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,n){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],i="";if("string"!=typeof e)return n;for(var r=0;r<e.length;r++){var a=e[r],o=e[r+1];t.isBreakingSpace(a,o)||t.isNewline(a)?(""!==i&&(n.push(i),i=""),n.push(a)):i+=a}return""!==i&&n.push(i),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,i,r){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={ascent:0,descent:0,fontSize:0},i=t._canvas,r=t._context;r.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(r.measureText(a).width),s=Math.ceil(r.measureText(t.BASELINE_SYMBOL).width),u=Math.ceil(t.HEIGHT_MULTIPLIER*s);s=s*t.BASELINE_MULTIPLIER|0,i.width=o,i.height=u,r.fillStyle="#f00",r.fillRect(0,0,o,u),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(a,0,s);var l=r.getImageData(0,0,o,u).data,h=l.length,c=4*o,f=0,d=0,p=!1;for(f=0;f<s;++f){for(var v=0;v<c;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d+=c}for(n.ascent=s-f,d=h-c,p=!1,f=u;f>s;--f){for(v=0;v<c;v+=4)if(255!==l[d+v]){p=!0;break}if(p)break;d-=c}return n.descent=f-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),m=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();m.width=m.height=10,_._canvas=m,_._context=m.getContext("2d"),_._fonts={},_.METRICS_STRING="|\xc9q\xc5",_.BASELINE_SYMBOL="M",_.BASELINE_MULTIPLIER=1.4,_.HEIGHT_MULTIPLIER=2,_._newlines=[10,13],_._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var y={texture:!0,children:!1,baseTexture:!0},g=function(t){function e(e,n,i){var r=this,u=!1;i||(i=document.createElement("canvas"),u=!0),i.width=3,i.height=3;var l=a.xE.from(i);return l.orig=new s.Ae,l.trim=new s.Ae,(r=t.call(this,l)||this)._ownCanvas=u,r.canvas=i,r.context=r.canvas.getContext("2d"),r._resolution=o.X.RESOLUTION,r._autoResolution=!0,r._text=null,r._style=null,r._styleListener=null,r._font="",r.text=e,r.style=n,r.localStyleID=-1,r}return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.updateText=function(t){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!t){this._font=this._style.toFontString();var i,r,a=this.context,o=_.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=o.width,l=o.height,h=o.lines,c=o.lineHeight,f=o.lineWidths,d=o.maxLineWidth,p=o.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*n.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,l)+2*n.padding)*this._resolution),a.scale(this._resolution,this._resolution),a.clearRect(0,0,this.canvas.width,this.canvas.height),a.font=this._font,a.lineWidth=n.strokeThickness,a.textBaseline=n.textBaseline,a.lineJoin=n.lineJoin,a.miterLimit=n.miterLimit;for(var v=n.dropShadow?2:1,m=0;m<v;++m){var y=n.dropShadow&&0===m,g=y?Math.ceil(Math.max(1,l)+2*n.padding):0,b=g*this._resolution;if(y){a.fillStyle="black",a.strokeStyle="black";var x=n.dropShadowColor,w=(0,u.hex2rgb)("number"==typeof x?x:(0,u.string2hex)(x));a.shadowColor="rgba("+255*w[0]+","+255*w[1]+","+255*w[2]+","+n.dropShadowAlpha+")",a.shadowBlur=n.dropShadowBlur,a.shadowOffsetX=Math.cos(n.dropShadowAngle)*n.dropShadowDistance,a.shadowOffsetY=Math.sin(n.dropShadowAngle)*n.dropShadowDistance+b}else a.fillStyle=this._generateFillStyle(n,h,o),a.strokeStyle=n.stroke,a.shadowColor="black",a.shadowBlur=0,a.shadowOffsetX=0,a.shadowOffsetY=0;var E=(c-p.fontSize)/2;(!e.nextLineHeightBehavior||c-p.fontSize<0)&&(E=0);for(var S=0;S<h.length;S++)i=n.strokeThickness/2,r=n.strokeThickness/2+S*c+p.ascent+E,"right"===n.align?i+=d-f[S]:"center"===n.align&&(i+=(d-f[S])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(h[S],i+n.padding,r+n.padding-g,!0),n.fill&&this.drawLetterSpacing(h[S],i+n.padding,r+n.padding-g)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n,i){void 0===i&&(i=!1);var r=this._style.letterSpacing;if(0!==r)for(var a=e,o=Array.from?Array.from(t):t.split(""),s=this.context.measureText(t).width,u=0,l=0;l<o.length;++l){var h=o[l];i?this.context.strokeText(h,a,n):this.context.fillText(h,a,n),a+=s-(u=this.context.measureText(t.substring(l+1)).width)+r,s=u}else i?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,u.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,i=this._style,r=i.trim?0:i.padding,a=n.baseTexture;n.trim.width=n._frame.width=Math.ceil(t.width/this._resolution),n.trim.height=n._frame.height=Math.ceil(t.height/this._resolution),n.trim.x=-r,n.trim.y=-r,n.orig.width=n._frame.width-2*r,n.orig.height=n._frame.height-2*r,this._onTextureUpdate(),a.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,n){var r,a=t.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];var o=t.dropShadow?t.dropShadowDistance:0,s=t.padding||0,u=Math.ceil(this.canvas.width/this._resolution)-o-2*s,l=Math.ceil(this.canvas.height/this._resolution)-o-2*s,h=a.slice(),c=t.fillGradientStops.slice();if(!c.length)for(var f=h.length+1,d=1;d<f;++d)c.push(d/f);if(h.unshift(a[0]),c.unshift(0),h.push(a[a.length-1]),c.push(1),t.fillGradientType===i.LINEAR_VERTICAL){r=this.context.createLinearGradient(u/2,s,u/2,l+s);var p=(n.fontProperties.fontSize+t.strokeThickness)/l;for(d=0;d<e.length;d++)for(var v=n.lineHeight*d,_=0;_<h.length;_++){var m=0;m="number"==typeof c[_]?c[_]:_/h.length;var y=Math.min(1,Math.max(0,v/l+m*p));y=Number(y.toFixed(5)),r.addColorStop(y,h[_])}}else{r=this.context.createLinearGradient(s,l/2,u+s,l/2);var g=h.length+1,b=1;for(d=0;d<h.length;d++){var x=void 0;x="number"==typeof c[d]?c[d]:b/g,r.addColorStop(x,h[d]),b++}}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},y,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,u.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof f?t:new f(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e}(r.j)},4175:function(t,e,n){"use strict";n.d(e,{vB:function(){return o},Sb:function(){return s},uF:function(){return i}});n(4723),n(9601);var i,r=n(1863);r.X.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(i||(i={}));var a=function(){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=0),void 0===i&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=n,this.once=i}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),o=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new a(null,null,1/0),this.deltaMS=1/r.X.TARGET_FPMS,this.elapsedMS=1/r.X.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,n){return void 0===n&&(n=i.NORMAL),this._addListener(new a(t,e,n))},t.prototype.addOnce=function(t,e,n){return void 0===n&&(n=i.NORMAL),this._addListener(new a(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*r.X.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,r.X.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),s=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,i.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?o.shared:new o,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}()},6603:function(t,e,n){"use strict";n.r(e),n.d(e,{isMobile:function(){return i.t},EventEmitter:function(){return a.a},earcut:function(){return s.a},BaseTextureCache:function(){return X},CanvasRenderTarget:function(){return G},DATA_URI:function(){return z},ProgramCache:function(){return V},TextureCache:function(){return U},clearTextureCache:function(){return j},correctBlendMode:function(){return w},createIndicesForQuads:function(){return T},decomposeDataUri:function(){return q},deprecation:function(){return B},destroyTextureCache:function(){return Y},determineCrossOrigin:function(){return Z},getBufferType:function(){return A},getResolutionOfUrl:function(){return K},hex2rgb:function(){return m},hex2string:function(){return y},interleaveTypedArrays:function(){return I},isPow2:function(){return P},isWebGLSupported:function(){return v},log2:function(){return M},nextPow2:function(){return C},premultiplyBlendMode:function(){return x},premultiplyRgba:function(){return E},premultiplyTint:function(){return S},premultiplyTintToRgba:function(){return k},removeItems:function(){return O},rgb2hex:function(){return b},sayHello:function(){return p},sign:function(){return D},skipHello:function(){return d},string2hex:function(){return g},trimCanvas:function(){return H},uid:function(){return L},url:function(){return h}});n(2772),n(1539),n(9714),n(6992),n(9575),n(4197),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016),n(8255),n(9135),n(2472),n(5125),n(8264),n(561),n(3123);var i=n(1863),r=n(6729),a=n.n(r),o=n(9187),s=n.n(o),u=n(8575),l=n(7397),h={parse:u.Qc,format:u.WU,resolve:u.DB};i.X.RETINA_PREFIX=/@([0-9\.]+)x/,i.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var c,f=!1;function d(){f=!0}function p(t){var e;if(!f){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS 6.0.4 - \u2730 "+t+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=self.console).log.apply(e,n)}else self.console&&self.console.log("PixiJS 6.0.4 - "+t+" - http://www.pixijs.com/");f=!0}}function v(){return void 0===c&&(c=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:i.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!n||!n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,r}catch(t){return!1}}()),c}var _={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function m(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function y(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function g(t){return"string"==typeof t&&"#"===(t=_[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)}function b(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var x=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[l.T$.NORMAL_NPM]=l.T$.NORMAL,t[l.T$.ADD_NPM]=l.T$.ADD,t[l.T$.SCREEN_NPM]=l.T$.SCREEN,e[l.T$.NORMAL]=l.T$.NORMAL_NPM,e[l.T$.ADD]=l.T$.ADD_NPM,e[l.T$.SCREEN]=l.T$.SCREEN_NPM;var i=[];return i.push(e),i.push(t),i}();function w(t,e){return x[e?1:0][t]}function E(t,e,n,i){return n=n||new Float32Array(4),i||void 0===i?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function S(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,i=t>>8&255,r=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((i=i*e+.5|0)<<8)+(r=r*e+.5|0)}function k(t,e,n,i){return(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(i||void 0===i)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function T(t,e){void 0===e&&(e=null);var n=6*t;if((e=e||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+n);for(var i=0,r=0;i<n;i+=6,r+=4)e[i+0]=r+0,e[i+1]=r+1,e[i+2]=r+2,e[i+3]=r+0,e[i+4]=r+2,e[i+5]=r+3;return e}function A(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var R={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function I(t,e){for(var n=0,i=0,r={},a=0;a<t.length;a++)i+=e[a],n+=t[a].length;var o=new ArrayBuffer(4*n),s=null,u=0;for(a=0;a<t.length;a++){var l=e[a],h=t[a],c=A(h);r[c]||(r[c]=new R[c](o)),s=r[c];for(var f=0;f<h.length;f++){s[(f/l|0)*i+u+f%l]=h[f]}u+=l}return new Float32Array(o)}function C(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function P(t){return!(t&t-1||!t)}function M(t){var e=(t>65535?1:0)<<4,n=((t>>>=e)>255?1:0)<<3;return e|=n,e|=n=((t>>>=n)>15?1:0)<<2,(e|=n=((t>>>=n)>3?1:0)<<1)|(t>>>=n)>>1}function O(t,e,n){var i,r=t.length;if(!(e>=r||0===n)){var a=r-(n=e+n>r?r-e:n);for(i=e;i<a;++i)t[i]=t[i+n];t.length=a}}function D(t){return 0===t?0:t<0?-1:1}var N=0;function L(){return++N}var F={};function B(t,e,n){if(void 0===n&&(n=3),!F[e]){var i=(new Error).stack;void 0===i||(i=i.split("\n").splice(n).join("\n"),console.groupCollapsed),F[e]=!0}}var V={},U=Object.create(null),X=Object.create(null);function Y(){var t;for(t in U)U[t].destroy();for(t in X)X[t].destroy()}function j(){var t;for(t in U)delete U[t];for(t in X)delete X[t]}var G=function(){function t(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||i.X.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function H(t){var e,n,i,r=t.width,a=t.height,o=t.getContext("2d"),s=o.getImageData(0,0,r,a).data,u=s.length,l={top:null,left:null,right:null,bottom:null},h=null;for(e=0;e<u;e+=4)0!==s[e+3]&&(n=e/4%r,i=~~(e/4/r),null===l.top&&(l.top=i),(null===l.left||n<l.left)&&(l.left=n),(null===l.right||l.right<n)&&(l.right=n+1),(null===l.bottom||l.bottom<i)&&(l.bottom=i));return null!==l.top&&(r=l.right-l.left,a=l.bottom-l.top+1,h=o.getImageData(l.left,l.top,r,a)),{height:a,width:r,data:h}}var W,z=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function q(t){var e=z.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function Z(t,e){if(void 0===e&&(e=self.location),0===t.indexOf("data:"))return"";e=e||self.location,W||(W=document.createElement("a")),W.href=t;var n=h.parse(W.href),i=!n.port&&""===e.port||n.port===e.port;return n.hostname===e.hostname&&i&&n.protocol===e.protocol?"":"anonymous"}function K(t,e){var n=i.X.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==e?e:1}},3976:function(t,e,n){"use strict";n.d(e,{_Z:function(){return yt},ZP:function(){return yt}});n(5306),n(3123),n(3210),n(2772),n(4723),n(3475),n(1249),n(4747);var i,r,a,o,s,u,l,h=n(1501),c={},f=180/Math.PI,d=Math.PI/180,p=Math.atan2,v=/([A-Z])/g,_=/(?:left|right|width|margin|padding|x)/i,m=/[\s,\(]\S/,y={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},g=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},b=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},x=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},w=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},E=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},S=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},k=function(t,e,n){return t.style[e]=n},T=function(t,e,n){return t.style.setProperty(e,n)},A=function(t,e,n){return t._gsap[e]=n},R=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},I=function(t,e,n,i,r){var a=t._gsap;a.scaleX=a.scaleY=n,a.renderTransform(r,a)},C=function(t,e,n,i,r){var a=t._gsap;a[e]=n,a.renderTransform(r,a)},P="transform",M=P+"Origin",O=function(t,e){var n=r.createElementNS?r.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):r.createElement(t);return n.style?n:r.createElement(t)},D=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(v,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,L(n)||n,1)||""},N="O,Moz,ms,Ms,Webkit".split(","),L=function(t,e,n){var i=(e||s).style,r=5;if(t in i&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);r--&&!(N[r]+t in i););return r<0?null:(3===r?"ms":r>=0?N[r]:"")+t},F=function(){"undefined"!=typeof window&&window.document&&(i=window,r=i.document,a=r.documentElement,s=O("div")||{style:{}},O("div"),P=L(P),M=P+"Origin",s.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",l=!!L("perspective"),o=1)},B=function t(e){var n,i=O("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(a.appendChild(i),i.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return r&&(o?r.insertBefore(this,o):r.appendChild(this)),a.removeChild(i),this.style.cssText=s,n},V=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},U=function(t){var e;try{e=t.getBBox()}catch(n){e=B.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===B||(e=B.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+V(t,["x","cx","x1"])||0,y:+V(t,["y","cy","y1"])||0,width:0,height:0}},X=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!U(t))},Y=function(t,e){if(e){var n=t.style;e in c&&e!==M&&(e=P),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(v,"-$1").toLowerCase())):n.removeAttribute(e)}},j=function(t,e,n,i,r,a){var o=new h.Fo(t._pt,e,n,0,1,a?S:E);return t._pt=o,o.b=i,o.e=r,t._props.push(n),o},G={deg:1,rad:1,turn:1},H=function t(e,n,i,a){var o,u,l,f,d=parseFloat(i)||0,p=(i+"").trim().substr((d+"").length)||"px",v=s.style,m=_.test(n),y="svg"===e.tagName.toLowerCase(),g=(y?"client":"offset")+(m?"Width":"Height"),b=100,x="px"===a,w="%"===a;return a===p||!d||G[a]||G[p]?d:("px"!==p&&!x&&(d=t(e,n,i,"px")),f=e.getCTM&&X(e),!w&&"%"!==p||!c[n]&&!~n.indexOf("adius")?(v[m?"width":"height"]=b+(x?p:a),u=~n.indexOf("adius")||"em"===a&&e.appendChild&&!y?e:e.parentNode,f&&(u=(e.ownerSVGElement||{}).parentNode),u&&u!==r&&u.appendChild||(u=r.body),(l=u._gsap)&&w&&l.width&&m&&l.time===h.xr.time?(0,h.Pr)(d/l.width*b):((w||"%"===p)&&(v.position=D(e,"position")),u===e&&(v.position="static"),u.appendChild(s),o=s[g],u.removeChild(s),v.position="absolute",m&&w&&((l=(0,h.DY)(u)).time=h.xr.time,l.width=u[g]),(0,h.Pr)(x?o*d/b:o&&d?b/o*d:0))):(o=f?e.getBBox()[m?"width":"height"]:e[g],(0,h.Pr)(w?d/o*b:d/100*o)))},W=function(t,e,n,i){var r;return o||F(),e in y&&"transform"!==e&&~(e=y[e]).indexOf(",")&&(e=e.split(",")[0]),c[e]&&"transform"!==e?(r=it(t,i),r="transformOrigin"!==e?r[e]:rt(D(t,M))+" "+r.zOrigin+"px"):(!(r=t.style[e])||"auto"===r||i||~(r+"").indexOf("calc("))&&(r=K[e]&&K[e](t,e,n)||D(t,e)||(0,h.Ok)(t,e)||("opacity"===e?1:0)),n&&!~(r+"").trim().indexOf(" ")?H(t,e,r,n)+n:r},z=function(t,e,n,i){if(!n||"none"===n){var r=L(e,t,1),a=r&&D(t,r,1);a&&a!==n?(e=r,n=a):"borderColor"===e&&(n=D(t,"borderTopColor"))}var o,s,u,l,c,f,d,p,v,_,m,y,g=new h.Fo(this._pt,t.style,e,0,1,h.Ks),b=0,x=0;if(g.b=n,g.e=i,n+="","auto"===(i+="")&&(t.style[e]=i,i=D(t,e)||i,t.style[e]=n),o=[n,i],(0,h.kr)(o),i=o[1],u=(n=o[0]).match(h.d4)||[],(i.match(h.d4)||[]).length){for(;s=h.d4.exec(i);)d=s[0],v=i.substring(b,s.index),c?c=(c+1)%5:"rgba("!==v.substr(-5)&&"hsla("!==v.substr(-5)||(c=1),d!==(f=u[x++]||"")&&(l=parseFloat(f)||0,m=f.substr((l+"").length),(y="="===d.charAt(1)?+(d.charAt(0)+"1"):0)&&(d=d.substr(2)),p=parseFloat(d),_=d.substr((p+"").length),b=h.d4.lastIndex-_.length,_||(_=_||h.Fc.units[e]||m,b===i.length&&(i+=_,g.e+=_)),m!==_&&(l=H(t,e,f,_)||0),g._pt={_next:g._pt,p:v||1===x?v:",",s:l,c:y?y*p:p-l,m:c&&c<4||"zIndex"===e?Math.round:0});g.c=b<i.length?i.substring(b,i.length):""}else g.r="display"===e&&"none"===i?S:E;return h.bQ.test(i)&&(g.e=0),this._pt=g,g},q={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Z=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,i,r,a=e.t,o=a.style,s=e.u,u=a._gsap;if("all"===s||!0===s)o.cssText="",i=1;else for(r=(s=s.split(",")).length;--r>-1;)n=s[r],c[n]&&(i=1,n="transformOrigin"===n?M:P),Y(a,n);i&&(Y(a,P),u&&(u.svg&&a.removeAttribute("transform"),it(a,1),u.uncache=1))}},K={clearProps:function(t,e,n,i,r){if("isFromStart"!==r.data){var a=t._pt=new h.Fo(t._pt,e,n,0,0,Z);return a.u=i,a.pr=-10,a.tween=r,t._props.push(n),1}}},$=[1,0,0,1,0,0],Q={},J=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},tt=function(t){var e=D(t,P);return J(e)?$:e.substr(7).match(h.SI).map(h.Pr)},et=function(t,e){var n,i,r,o,s=t._gsap||(0,h.DY)(t),u=t.style,l=tt(t);return s.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=t.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?$:l:(l!==$||t.offsetParent||t===a||s.svg||(r=u.display,u.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,i=t.nextSibling,a.appendChild(t)),l=tt(t),r?u.display=r:Y(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):a.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},nt=function(t,e,n,i,r,a){var o,s,u,l=t._gsap,h=r||et(t,!0),c=l.xOrigin||0,f=l.yOrigin||0,d=l.xOffset||0,p=l.yOffset||0,v=h[0],_=h[1],m=h[2],y=h[3],g=h[4],b=h[5],x=e.split(" "),w=parseFloat(x[0])||0,E=parseFloat(x[1])||0;n?h!==$&&(s=v*y-_*m)&&(u=w*(-_/s)+E*(v/s)-(v*b-_*g)/s,w=w*(y/s)+E*(-m/s)+(m*b-y*g)/s,E=u):(w=(o=U(t)).x+(~x[0].indexOf("%")?w/100*o.width:w),E=o.y+(~(x[1]||x[0]).indexOf("%")?E/100*o.height:E)),i||!1!==i&&l.smooth?(g=w-c,b=E-f,l.xOffset=d+(g*v+b*m)-g,l.yOffset=p+(g*_+b*y)-b):l.xOffset=l.yOffset=0,l.xOrigin=w,l.yOrigin=E,l.smooth=!!i,l.origin=e,l.originIsAbsolute=!!n,t.style[M]="0px 0px",a&&(j(a,l,"xOrigin",c,w),j(a,l,"yOrigin",f,E),j(a,l,"xOffset",d,l.xOffset),j(a,l,"yOffset",p,l.yOffset)),t.setAttribute("data-svg-origin",w+" "+E)},it=function(t,e){var n=t._gsap||new h.l1(t);if("x"in n&&!e&&!n.uncache)return n;var i,r,a,o,s,u,c,v,_,m,y,g,b,x,w,E,S,k,T,A,R,I,C,O,N,L,F,B,V,U,Y,j,G=t.style,H=n.scaleX<0,W="px",z="deg",q=D(t,M)||"0";return i=r=a=u=c=v=_=m=y=0,o=s=1,n.svg=!(!t.getCTM||!X(t)),x=et(t,n.svg),n.svg&&(O=!n.uncache&&!e&&t.getAttribute("data-svg-origin"),nt(t,O||q,!!O||n.originIsAbsolute,!1!==n.smooth,x)),g=n.xOrigin||0,b=n.yOrigin||0,x!==$&&(k=x[0],T=x[1],A=x[2],R=x[3],i=I=x[4],r=C=x[5],6===x.length?(o=Math.sqrt(k*k+T*T),s=Math.sqrt(R*R+A*A),u=k||T?p(T,k)*f:0,(_=A||R?p(A,R)*f+u:0)&&(s*=Math.abs(Math.cos(_*d))),n.svg&&(i-=g-(g*k+b*A),r-=b-(g*T+b*R))):(j=x[6],U=x[7],F=x[8],B=x[9],V=x[10],Y=x[11],i=x[12],r=x[13],a=x[14],c=(w=p(j,V))*f,w&&(O=I*(E=Math.cos(-w))+F*(S=Math.sin(-w)),N=C*E+B*S,L=j*E+V*S,F=I*-S+F*E,B=C*-S+B*E,V=j*-S+V*E,Y=U*-S+Y*E,I=O,C=N,j=L),v=(w=p(-A,V))*f,w&&(E=Math.cos(-w),Y=R*(S=Math.sin(-w))+Y*E,k=O=k*E-F*S,T=N=T*E-B*S,A=L=A*E-V*S),u=(w=p(T,k))*f,w&&(O=k*(E=Math.cos(w))+T*(S=Math.sin(w)),N=I*E+C*S,T=T*E-k*S,C=C*E-I*S,k=O,I=N),c&&Math.abs(c)+Math.abs(u)>359.9&&(c=u=0,v=180-v),o=(0,h.Pr)(Math.sqrt(k*k+T*T+A*A)),s=(0,h.Pr)(Math.sqrt(C*C+j*j)),w=p(I,C),_=Math.abs(w)>2e-4?w*f:0,y=Y?1/(Y<0?-Y:Y):0),n.svg&&(O=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!J(D(t,P)),O&&t.setAttribute("transform",O))),Math.abs(_)>90&&Math.abs(_)<270&&(H?(o*=-1,_+=u<=0?180:-180,u+=u<=0?180:-180):(s*=-1,_+=_<=0?180:-180)),n.x=i-((n.xPercent=i&&(n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+W,n.y=r-((n.yPercent=r&&(n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-r)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+W,n.z=a+W,n.scaleX=(0,h.Pr)(o),n.scaleY=(0,h.Pr)(s),n.rotation=(0,h.Pr)(u)+z,n.rotationX=(0,h.Pr)(c)+z,n.rotationY=(0,h.Pr)(v)+z,n.skewX=_+z,n.skewY=m+z,n.transformPerspective=y+W,(n.zOrigin=parseFloat(q.split(" ")[2])||0)&&(G[M]=rt(q)),n.xOffset=n.yOffset=0,n.force3D=h.Fc.force3D,n.renderTransform=n.svg?ct:l?ht:ot,n.uncache=0,n},rt=function(t){return(t=t.split(" "))[0]+" "+t[1]},at=function(t,e,n){var i=(0,h.Wy)(e);return(0,h.Pr)(parseFloat(e)+parseFloat(H(t,"x",n+"px",i)))+i},ot=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ht(t,e)},st="0deg",ut="0px",lt=") ",ht=function(t,e){var n=e||this,i=n.xPercent,r=n.yPercent,a=n.x,o=n.y,s=n.z,u=n.rotation,l=n.rotationY,h=n.rotationX,c=n.skewX,f=n.skewY,p=n.scaleX,v=n.scaleY,_=n.transformPerspective,m=n.force3D,y=n.target,g=n.zOrigin,b="",x="auto"===m&&t&&1!==t||!0===m;if(g&&(h!==st||l!==st)){var w,E=parseFloat(l)*d,S=Math.sin(E),k=Math.cos(E);E=parseFloat(h)*d,w=Math.cos(E),a=at(y,a,S*w*-g),o=at(y,o,-Math.sin(E)*-g),s=at(y,s,k*w*-g+g)}_!==ut&&(b+="perspective("+_+lt),(i||r)&&(b+="translate("+i+"%, "+r+"%) "),(x||a!==ut||o!==ut||s!==ut)&&(b+=s!==ut||x?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+lt),u!==st&&(b+="rotate("+u+lt),l!==st&&(b+="rotateY("+l+lt),h!==st&&(b+="rotateX("+h+lt),c===st&&f===st||(b+="skew("+c+", "+f+lt),1===p&&1===v||(b+="scale("+p+", "+v+lt),y.style[P]=b||"translate(0, 0)"},ct=function(t,e){var n,i,r,a,o,s=e||this,u=s.xPercent,l=s.yPercent,c=s.x,f=s.y,p=s.rotation,v=s.skewX,_=s.skewY,m=s.scaleX,y=s.scaleY,g=s.target,b=s.xOrigin,x=s.yOrigin,w=s.xOffset,E=s.yOffset,S=s.forceCSS,k=parseFloat(c),T=parseFloat(f);p=parseFloat(p),v=parseFloat(v),(_=parseFloat(_))&&(v+=_=parseFloat(_),p+=_),p||v?(p*=d,v*=d,n=Math.cos(p)*m,i=Math.sin(p)*m,r=Math.sin(p-v)*-y,a=Math.cos(p-v)*y,v&&(_*=d,o=Math.tan(v-_),r*=o=Math.sqrt(1+o*o),a*=o,_&&(o=Math.tan(_),n*=o=Math.sqrt(1+o*o),i*=o)),n=(0,h.Pr)(n),i=(0,h.Pr)(i),r=(0,h.Pr)(r),a=(0,h.Pr)(a)):(n=m,a=y,i=r=0),(k&&!~(c+"").indexOf("px")||T&&!~(f+"").indexOf("px"))&&(k=H(g,"x",c,"px"),T=H(g,"y",f,"px")),(b||x||w||E)&&(k=(0,h.Pr)(k+b-(b*n+x*r)+w),T=(0,h.Pr)(T+x-(b*i+x*a)+E)),(u||l)&&(o=g.getBBox(),k=(0,h.Pr)(k+u/100*o.width),T=(0,h.Pr)(T+l/100*o.height)),o="matrix("+n+","+i+","+r+","+a+","+k+","+T+")",g.setAttribute("transform",o),S&&(g.style[P]=o)},ft=function(t,e,n,i,r,a){var o,s,u=360,l=(0,h.r9)(r),c=parseFloat(r)*(l&&~r.indexOf("rad")?f:1),d=a?c*a:c-i,p=i+d+"deg";return l&&("short"===(o=r.split("_")[1])&&(d%=u)!==d%180&&(d+=d<0?u:-360),"cw"===o&&d<0?d=(d+36e9)%u-~~(d/u)*u:"ccw"===o&&d>0&&(d=(d-36e9)%u-~~(d/u)*u)),t._pt=s=new h.Fo(t._pt,e,n,i,d,b),s.e=p,s.u="deg",t._props.push(n),s},dt=function(t,e){for(var n in e)t[n]=e[n];return t},pt=function(t,e,n){var i,r,a,o,s,u,l,f=dt({},n._gsap),d=n.style;for(r in f.svg?(a=n.getAttribute("transform"),n.setAttribute("transform",""),d[P]=e,i=it(n,1),Y(n,P),n.setAttribute("transform",a)):(a=getComputedStyle(n)[P],d[P]=e,i=it(n,1),d[P]=a),c)(a=f[r])!==(o=i[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(s=(0,h.Wy)(a)!==(l=(0,h.Wy)(o))?H(n,r,a,l):parseFloat(a),u=parseFloat(o),t._pt=new h.Fo(t._pt,i,r,s,u-s,g),t._pt.u=l||0,t._props.push(r));dt(i,f)};(0,h.fS)("padding,margin,Width,Radius",(function(t,e){var n="Top",i="Right",r="Bottom",a="Left",o=(e<3?[n,i,r,a]:[n+a,n+i,r+i,r+a]).map((function(n){return e<2?t+n:"border"+n+t}));K[e>1?"border"+t:t]=function(t,e,n,i,r){var a,s;if(arguments.length<4)return a=o.map((function(e){return W(t,e,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(i+"").split(" "),s={},o.forEach((function(t,e){return s[t]=a[e]=a[e]||a[(e-1)/2|0]})),t.init(e,s,r)}}));var vt,_t,mt,yt={name:"css",register:F,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,i,r){var a,s,u,l,f,d,p,v,_,b,E,S,k,T,A,R,I,C,M,O=this._props,D=t.style,N=n.vars.startAt;for(p in o||F(),e)if("autoRound"!==p&&(s=e[p],!h.$i[p]||!(0,h.if)(p,e,n,i,t,r)))if(f=typeof s,d=K[p],"function"===f&&(f=typeof(s=s.call(n,i,t,r))),"string"===f&&~s.indexOf("random(")&&(s=(0,h.UI)(s)),d)d(this,t,p,s,n)&&(A=1);else if("--"===p.substr(0,2))a=(getComputedStyle(t).getPropertyValue(p)+"").trim(),s+="",h.GN.lastIndex=0,h.GN.test(a)||(v=(0,h.Wy)(a),_=(0,h.Wy)(s)),_?v!==_&&(a=H(t,p,a,_)+_):v&&(s+=v),this.add(D,"setProperty",a,s,i,r,0,0,p);else if("undefined"!==f){if(N&&p in N?(a="function"==typeof N[p]?N[p].call(n,i,t,r):N[p],p in h.Fc.units&&!(0,h.Wy)(a)&&(a+=h.Fc.units[p]),"="===(a+"").charAt(1)&&(a=W(t,p))):a=W(t,p),l=parseFloat(a),(b="string"===f&&"="===s.charAt(1)?+(s.charAt(0)+"1"):0)&&(s=s.substr(2)),u=parseFloat(s),p in y&&("autoAlpha"===p&&(1===l&&"hidden"===W(t,"visibility")&&u&&(l=0),j(this,D,"visibility",l?"inherit":"hidden",u?"inherit":"hidden",!u)),"scale"!==p&&"transform"!==p&&~(p=y[p]).indexOf(",")&&(p=p.split(",")[0])),E=p in c)if(S||((k=t._gsap).renderTransform&&!e.parseTransform||it(t,e.parseTransform),T=!1!==e.smoothOrigin&&k.smooth,(S=this._pt=new h.Fo(this._pt,D,P,0,1,k.renderTransform,k,0,-1)).dep=1),"scale"===p)this._pt=new h.Fo(this._pt,k,"scaleY",k.scaleY,b?b*u:u-k.scaleY),O.push("scaleY",p),p+="X";else{if("transformOrigin"===p){I=void 0,C=void 0,M=void 0,I=(R=s).split(" "),C=I[0],M=I[1]||"50%","top"!==C&&"bottom"!==C&&"left"!==M&&"right"!==M||(R=C,C=M,M=R),I[0]=q[C]||C,I[1]=q[M]||M,s=I.join(" "),k.svg?nt(t,s,0,T,0,this):((_=parseFloat(s.split(" ")[2])||0)!==k.zOrigin&&j(this,k,"zOrigin",k.zOrigin,_),j(this,D,p,rt(a),rt(s)));continue}if("svgOrigin"===p){nt(t,s,1,T,0,this);continue}if(p in Q){ft(this,k,p,l,s,b);continue}if("smoothOrigin"===p){j(this,k,"smooth",k.smooth,s);continue}if("force3D"===p){k[p]=s;continue}if("transform"===p){pt(this,s,t);continue}}else p in D||(p=L(p)||p);if(E||(u||0===u)&&(l||0===l)&&!m.test(s)&&p in D)u||(u=0),(v=(a+"").substr((l+"").length))!==(_=(0,h.Wy)(s)||(p in h.Fc.units?h.Fc.units[p]:v))&&(l=H(t,p,a,_)),this._pt=new h.Fo(this._pt,E?k:D,p,l,b?b*u:u-l,E||"px"!==_&&"zIndex"!==p||!1===e.autoRound?g:w),this._pt.u=_||0,v!==_&&(this._pt.b=a,this._pt.r=x);else if(p in D)z.call(this,t,p,a,s);else{if(!(p in t)){(0,h.lC)(p,s);continue}this.add(t,p,t[p],s,i,r)}O.push(p)}A&&(0,h.JV)(this)},get:W,aliases:y,getSetter:function(t,e,n){var i=y[e];return i&&i.indexOf(",")<0&&(e=i),e in c&&e!==M&&(t._gsap.x||W(t,"x"))?n&&u===n?"scale"===e?R:A:(u=n||{})&&("scale"===e?I:C):t.style&&!(0,h.m2)(t.style[e])?k:~e.indexOf("-")?T:(0,h.S5)(t,e)},core:{_removeProperty:Y,_getMatrix:et}};h.p8.utils.checkPrefix=L,vt="x,y,z,scale,scaleX,scaleY,xPercent,yPercent",_t="rotation,rotationX,rotationY,skewX,skewY",mt=(0,h.fS)(vt+","+_t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){c[t]=1})),(0,h.fS)(_t,(function(t){h.Fc.units[t]="deg",Q[t]=1})),y[mt[13]]=vt+","+_t,(0,h.fS)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");y[e[1]]=mt[e[0]]})),(0,h.fS)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){h.Fc.units[t]="px"})),h.p8.registerPlugin(yt)},7442:function(t,e,n){"use strict";n.d(e,{ZP:function(){return a}});var i=n(1501),r=n(3976),a=i.ZP.registerPlugin(r.ZP)||i.ZP;a.core.Tween},1501:function(t,e,n){"use strict";n.d(e,{l1:function(){return Ge},Fo:function(){return _n},p8:function(){return bn},ZP:function(){return bn},Wy:function(){return ae},Ok:function(){return Et},SI:function(){return tt},d4:function(){return et},r9:function(){return j},m2:function(){return W},Ks:function(){return hn},bQ:function(){return it},fS:function(){return St},JV:function(){return vn},kr:function(){return Ce},UI:function(){return _e},if:function(){return Ke},$i:function(){return _t},xr:function(){return Pe},Fc:function(){return O},Pr:function(){return kt},lC:function(){return lt},S5:function(){return sn},DY:function(){return wt},GN:function(){return Re}});n(8264),n(9575),n(1539),n(561),n(4747),n(3123),n(2772),n(7042),n(4723),n(3210),n(2707),n(6992),n(3948),n(5827),n(1249),n(5306),n(4603),n(9714),n(3475),n(4986),n(5069),n(8674);function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var a,o,s,u,l,h,c,f,d,p,v,_,m,y,g,b,x,w,E,S,k,T,A,R,I,C,P,M,O={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},D={duration:.5,overwrite:!1,delay:0},N=1e8,L=1e-8,F=2*Math.PI,B=F/4,V=0,U=Math.sqrt,X=Math.cos,Y=Math.sin,j=function(t){return"string"==typeof t},G=function(t){return"function"==typeof t},H=function(t){return"number"==typeof t},W=function(t){return void 0===t},z=function(t){return"object"==typeof t},q=function(t){return!1!==t},Z=function(){return"undefined"!=typeof window},K=function(t){return G(t)||j(t)},$="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Q=Array.isArray,J=/(?:-?\.?\d|\.)+/gi,tt=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,et=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,nt=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,it=/[+-]=-?[.\d]+/,rt=/[#\-+.]*\b[a-z\d-=+%.]+/gi,at=/[\d.+\-=]+(?:e[-+]\d*)*/i,ot={},st={},ut=function(t){return(st=Dt(t,ot))&&bn},lt=function(t,e){},ht=function(t,e){return!e&&void 0},ct=function(t,e){return t&&(ot[t]=e)&&st&&(st[t]=e)||ot},ft=function(){return 0},dt={},pt=[],vt={},_t={},mt={},yt=30,gt=[],bt="",xt=function(t){var e,n,i=t[0];if(z(i)||G(i)||(t=[t]),!(e=(i._gsap||{}).harness)){for(n=gt.length;n--&&!gt[n].targetTest(i););e=gt[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Ge(t[n],e)))||t.splice(n,1);return t},wt=function(t){return t._gsap||xt(le(t))[0]._gsap},Et=function(t,e,n){return(n=t[e])&&G(n)?t[e]():W(n)&&t.getAttribute&&t.getAttribute(e)||n},St=function(t,e){return(t=t.split(",")).forEach(e)||t},kt=function(t){return Math.round(1e5*t)/1e5||0},Tt=function(t,e){for(var n=e.length,i=0;t.indexOf(e[i])<0&&++i<n;);return i<n},At=function(t,e,n){var i,r=H(t[1]),a=(r?2:1)+(e<2?0:1),o=t[a];if(r&&(o.duration=t[1]),o.parent=n,e){for(i=o;n&&!("immediateRender"in i);)i=n.vars.defaults||{},n=q(n.vars.inherit)&&n.parent;o.immediateRender=q(i.immediateRender),e<2?o.runBackwards=1:o.startAt=t[a-1]}return o},Rt=function(){var t,e,n=pt.length,i=pt.slice(0);for(vt={},pt.length=0,t=0;t<n;t++)(e=i[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},It=function(t,e,n,i){pt.length&&Rt(),t.render(e,n,i),pt.length&&Rt()},Ct=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(rt).length<2?e:j(t)?t.trim():t},Pt=function(t){return t},Mt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Ot=function(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])},Dt=function(t,e){for(var n in e)t[n]=e[n];return t},Nt=function t(e,n){for(var i in n)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(e[i]=z(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},Lt=function(t,e){var n,i={};for(n in t)n in e||(i[n]=t[n]);return i},Ft=function(t){var e=t.parent||o,n=t.keyframes?Ot:Mt;if(q(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},Bt=function(t,e,n,i){void 0===n&&(n="_first"),void 0===i&&(i="_last");var r=e._prev,a=e._next;r?r._next=a:t[n]===e&&(t[n]=a),a?a._prev=r:t[i]===e&&(t[i]=r),e._next=e._prev=e.parent=null},Vt=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Ut=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Xt=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Yt=function t(e){return!e||e._ts&&t(e.parent)},jt=function(t){return t._repeat?Gt(t._tTime,t=t.duration()+t._rDelay)*t:0},Gt=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},Ht=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Wt=function(t){return t._end=kt(t._start+(t._tDur/Math.abs(t._ts||t._rts||L)||0))},zt=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=kt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Wt(t),n._dirty||Ut(n,t)),t},qt=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=Ht(t.rawTime(),e),(!e._dur||re(0,e.totalDuration(),n)-e._tTime>L)&&e.render(n,!0)),Ut(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Zt=function(t,e,n,i){return e.parent&&Vt(e),e._start=kt(n+e._delay),e._end=kt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,i,r){void 0===n&&(n="_first"),void 0===i&&(i="_last");var a,o=t[i];if(r)for(a=e[r];o&&o[r]>a;)o=o._prev;o?(e._next=o._next,o._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[i]=e,e._prev=o,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,i||qt(t,e),t},Kt=function(t,e){return(ot.ScrollTrigger||lt("scrollTrigger",e))&&ot.ScrollTrigger.create(e,t)},$t=function(t,e,n,i){return $e(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&c!==Pe.frame?(pt.push(t),t._lazy=[e,i],1):void 0:1},Qt=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},Jt=function(t,e,n,i){var r=t._repeat,a=kt(e)||0,o=t._tTime/t._tDur;return o&&!i&&(t._time*=a/t._dur),t._dur=a,t._tDur=r?r<0?1e10:kt(a*(r+1)+t._rDelay*r):a,o&&!i?zt(t,t._tTime=t._tDur*o):t.parent&&Wt(t),n||Ut(t.parent,t),t},te=function(t){return t instanceof We?Ut(t):Jt(t,t._dur)},ee={_start:0,endTime:ft},ne=function t(e,n){var i,r,a=e.labels,o=e._recent||ee,s=e.duration()>=N?o.endTime(!1):e._dur;return j(n)&&(isNaN(n)||n in a)?"<"===(i=n.charAt(0))||">"===i?("<"===i?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0):(i=n.indexOf("="))<0?(n in a||(a[n]=s),a[n]):(r=+(n.charAt(i-1)+n.substr(i+1)),i>1?t(e,n.substr(0,i-1))+r:s+r):null==n?s:+n},ie=function(t,e){return t||0===t?e(t):e},re=function(t,e,n){return n<t?t:n>e?e:n},ae=function(t){if("string"!=typeof t)return"";var e=at.exec(t);return e?t.substr(e.index+e[0].length):""},oe=[].slice,se=function(t,e){return t&&z(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&z(t[0]))&&!t.nodeType&&t!==s},ue=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var i;return j(t)&&!e||se(t,1)?(i=n).push.apply(i,le(t)):n.push(t)}))||n},le=function(t,e){return!j(t)||e||!u&&Me()?Q(t)?ue(t,e):se(t)?oe.call(t,0):t?[t]:[]:oe.call(l.querySelectorAll(t),0)},he=function(t){return t.sort((function(){return.5-Math.random()}))},ce=function(t){if(G(t))return t;var e=z(t)?t:{each:t},n=Ve(e.ease),i=e.from||0,r=parseFloat(e.base)||0,a={},o=i>0&&i<1,s=isNaN(i)||o,u=e.axis,l=i,h=i;return j(i)?l=h={center:.5,edges:.5,end:1}[i]||0:!o&&s&&(l=i[0],h=i[1]),function(t,o,c){var f,d,p,v,_,m,y,g,b,x=(c||e).length,w=a[x];if(!w){if(!(b="auto"===e.grid?0:(e.grid||[1,N])[1])){for(y=-N;y<(y=c[b++].getBoundingClientRect().left)&&b<x;);b--}for(w=a[x]=[],f=s?Math.min(b,x)*l-.5:i%b,d=s?x*h/b-.5:i/b|0,y=0,g=N,m=0;m<x;m++)p=m%b-f,v=d-(m/b|0),w[m]=_=u?Math.abs("y"===u?v:p):U(p*p+v*v),_>y&&(y=_),_<g&&(g=_);"random"===i&&he(w),w.max=y-g,w.min=g,w.v=x=(parseFloat(e.amount)||parseFloat(e.each)*(b>x?x-1:u?"y"===u?x/b:b:Math.max(b,x/b))||0)*("edges"===i?-1:1),w.b=x<0?r-x:r,w.u=ae(e.amount||e.each)||0,n=n&&x<0?Fe(n):n}return x=(w[t]-w.min)/w.max||0,kt(w.b+(n?n(x):x)*w.v)+w.u}},fe=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){var i=Math.round(parseFloat(n)/t)*t*e;return(i-i%1)/e+(H(n)?0:ae(n))}},de=function(t,e){var n,i,r=Q(t);return!r&&z(t)&&(n=r=t.radius||N,t.values?(t=le(t.values),(i=!H(t[0]))&&(n*=n)):t=fe(t.increment)),ie(e,r?G(t)?function(e){return i=t(e),Math.abs(i-e)<=n?i:e}:function(e){for(var r,a,o=parseFloat(i?e.x:e),s=parseFloat(i?e.y:0),u=N,l=0,h=t.length;h--;)(r=i?(r=t[h].x-o)*r+(a=t[h].y-s)*a:Math.abs(t[h]-o))<u&&(u=r,l=h);return l=!n||u<=n?t[l]:e,i||l===e||H(e)?l:l+ae(e)}:fe(t))},pe=function(t,e,n,i){return ie(Q(t)?!e:!0===n?!!(n=0):!i,(function(){return Q(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*i)/i}))},ve=function(t,e,n){return ie(n,(function(n){return t[~~e(n)]}))},_e=function(t){for(var e,n,i,r,a=0,o="";~(e=t.indexOf("random(",a));)i=t.indexOf(")",e),r="["===t.charAt(e+7),n=t.substr(e+7,i-e-7).match(r?rt:J),o+=t.substr(a,e-a)+pe(r?n:+n[0],r?0:+n[1],+n[2]||1e-5),a=i+1;return o+t.substr(a,t.length-a)},me=function(t,e,n,i,r){var a=e-t,o=i-n;return ie(r,(function(e){return n+((e-t)/a*o||0)}))},ye=function(t,e,n){var i,r,a,o=t.labels,s=N;for(i in o)(r=o[i]-e)<0==!!n&&r&&s>(r=Math.abs(r))&&(a=i,s=r);return a},ge=function(t,e,n){var i,r,a=t.vars,o=a[e];if(o)return i=a[e+"Params"],r=a.callbackScope||t,n&&pt.length&&Rt(),i?o.apply(r,i):o.call(r)},be=function(t){return Vt(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&ge(t,"onInterrupt"),t},xe=function(t){var e=(t=!t.name&&t.default||t).name,n=G(t),i=e&&!n&&t.init?function(){this._props=[]}:t,r={init:ft,render:cn,add:Ze,kill:dn,modifier:fn,rawVars:0},a={targetTest:0,get:0,getSetter:sn,aliases:{},register:0};if(Me(),t!==i){if(_t[e])return;Mt(i,Mt(Lt(t,r),a)),Dt(i.prototype,Dt(r,Lt(t,a))),_t[i.prop=e]=i,t.targetTest&&(gt.push(i),dt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ct(e,i),t.register&&t.register(bn,i,_n)},we=255,Ee={aqua:[0,we,we],lime:[0,we,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,we],navy:[0,0,128],white:[we,we,we],olive:[128,128,0],yellow:[we,we,0],orange:[we,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[we,0,0],pink:[we,192,203],cyan:[0,we,we],transparent:[we,we,we,0]},Se=function(t,e,n){return(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)*we+.5|0},ke=function(t,e,n){var i,r,a,o,s,u,l,h,c,f,d=t?H(t)?[t>>16,t>>8&we,t&we]:0:Ee.black;if(!d){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),Ee[t])d=Ee[t];else if("#"===t.charAt(0)){if(t.length<6&&(i=t.charAt(1),r=t.charAt(2),a=t.charAt(3),t="#"+i+i+r+r+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(d=parseInt(t.substr(1,6),16))>>16,d>>8&we,d&we,parseInt(t.substr(7),16)/255];d=[(t=parseInt(t.substr(1),16))>>16,t>>8&we,t&we]}else if("hsl"===t.substr(0,3))if(d=f=t.match(J),e){if(~t.indexOf("="))return d=t.match(tt),n&&d.length<4&&(d[3]=1),d}else o=+d[0]%360/360,s=+d[1]/100,i=2*(u=+d[2]/100)-(r=u<=.5?u*(s+1):u+s-u*s),d.length>3&&(d[3]*=1),d[0]=Se(o+1/3,i,r),d[1]=Se(o,i,r),d[2]=Se(o-1/3,i,r);else d=t.match(J)||Ee.transparent;d=d.map(Number)}return e&&!f&&(i=d[0]/we,r=d[1]/we,a=d[2]/we,u=((l=Math.max(i,r,a))+(h=Math.min(i,r,a)))/2,l===h?o=s=0:(c=l-h,s=u>.5?c/(2-l-h):c/(l+h),o=l===i?(r-a)/c+(r<a?6:0):l===r?(a-i)/c+2:(i-r)/c+4,o*=60),d[0]=~~(o+.5),d[1]=~~(100*s+.5),d[2]=~~(100*u+.5)),n&&d.length<4&&(d[3]=1),d},Te=function(t){var e=[],n=[],i=-1;return t.split(Re).forEach((function(t){var r=t.match(et)||[];e.push.apply(e,r),n.push(i+=r.length+1)})),e.c=n,e},Ae=function(t,e,n){var i,r,a,o,s="",u=(t+s).match(Re),l=e?"hsla(":"rgba(",h=0;if(!u)return t;if(u=u.map((function(t){return(t=ke(t,e,1))&&l+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(a=Te(t),(i=n.c).join(s)!==a.c.join(s)))for(o=(r=t.replace(Re,"1").split(et)).length-1;h<o;h++)s+=r[h]+(~i.indexOf(h)?u.shift()||l+"0,0,0,0)":(a.length?a:u.length?u:n).shift());if(!r)for(o=(r=t.split(Re)).length-1;h<o;h++)s+=r[h]+u[h];return s+r[o]},Re=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in Ee)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ie=/hsl[a]?\(/,Ce=function(t){var e,n=t.join(" ");if(Re.lastIndex=0,Re.test(n))return e=Ie.test(n),t[1]=Ae(t[1],e),t[0]=Ae(t[0],e,Te(t[1])),!0},Pe=(b=Date.now,x=500,w=33,E=b(),S=E,T=k=1e3/240,R=function t(e){var n,i,r,a,o=b()-S,s=!0===e;if(o>x&&(E+=o-w),((n=(r=(S+=o)-E)-T)>0||s)&&(a=++m.frame,y=r-1e3*m.time,m.time=r/=1e3,T+=n+(n>=k?4:k-n),i=1),s||(p=v(t)),i)for(g=0;g<A.length;g++)A[g](r,y,a,e)},m={time:0,frame:0,tick:function(){R(!0)},deltaRatio:function(t){return y/(1e3/(t||60))},wake:function(){h&&(!u&&Z()&&(s=u=window,l=s.document||{},ot.gsap=bn,(s.gsapVersions||(s.gsapVersions=[])).push(bn.version),ut(st||s.GreenSockGlobals||!s.gsap&&s||{}),_=s.requestAnimationFrame),p&&m.sleep(),v=_||function(t){return setTimeout(t,T-1e3*m.time+1|0)},d=1,R(2))},sleep:function(){(_?s.cancelAnimationFrame:clearTimeout)(p),d=0,v=ft},lagSmoothing:function(t,e){x=t||1e8,w=Math.min(e,x,0)},fps:function(t){k=1e3/(t||240),T=1e3*m.time+k},add:function(t){A.indexOf(t)<0&&A.push(t),Me()},remove:function(t){var e;~(e=A.indexOf(t))&&A.splice(e,1)&&g>=e&&g--},_listeners:A=[]}),Me=function(){return!d&&Pe.wake()},Oe={},De=/^[\d.\-M][\d.\-,\s]/,Ne=/["']/g,Le=function(t){for(var e,n,i,r={},a=t.substr(1,t.length-3).split(":"),o=a[0],s=1,u=a.length;s<u;s++)n=a[s],e=s!==u-1?n.lastIndexOf(","):n.length,i=n.substr(0,e),r[o]=isNaN(i)?i.replace(Ne,"").trim():+i,o=n.substr(e+1).trim();return r},Fe=function(t){return function(e){return 1-t(1-e)}},Be=function t(e,n){for(var i,r=e._first;r;)r instanceof We?t(r,n):!r.vars.yoyoEase||r._yoyo&&r._repeat||r._yoyo===n||(r.timeline?t(r.timeline,n):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=n)),r=r._next},Ve=function(t,e){return t&&(G(t)?t:Oe[t]||function(t){var e=(t+"").split("("),n=Oe[e[0]];return n&&e.length>1&&n.config?n.config.apply(null,~t.indexOf("{")?[Le(e[1])]:function(t){var e=t.indexOf("(")+1,n=t.indexOf(")"),i=t.indexOf("(",e);return t.substring(e,~i&&i<n?t.indexOf(")",n+1):n)}(t).split(",").map(Ct)):Oe._CE&&De.test(t)?Oe._CE("",t):n}(t))||e},Ue=function(t,e,n,i){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===i&&(i=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var r,a={easeIn:e,easeOut:n,easeInOut:i};return St(t,(function(t){for(var e in Oe[t]=ot[t]=a,Oe[r=t.toLowerCase()]=n,a)Oe[r+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Oe[t+"."+e]=a[e]})),a},Xe=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Ye=function t(e,n,i){var r=n>=1?n:1,a=(i||(e?.3:.45))/(n<1?n:1),o=a/F*(Math.asin(1/r)||0),s=function(t){return 1===t?1:r*Math.pow(2,-10*t)*Y((t-o)*a)+1},u="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:Xe(s);return a=F/a,u.config=function(n,i){return t(e,n,i)},u},je=function t(e,n){void 0===n&&(n=1.70158);var i=function(t){return t?--t*t*((n+1)*t+n)+1:0},r="out"===e?i:"in"===e?function(t){return 1-i(1-t)}:Xe(i);return r.config=function(n){return t(e,n)},r};St("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Ue(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Oe.Linear.easeNone=Oe.none=Oe.Linear.easeIn,Ue("Elastic",Ye("in"),Ye("out"),Ye()),I=7.5625,P=1/(C=2.75),Ue("Bounce",(function(t){return 1-M(1-t)}),M=function(t){return t<P?I*t*t:t<.7272727272727273?I*Math.pow(t-1.5/C,2)+.75:t<.9090909090909092?I*(t-=2.25/C)*t+.9375:I*Math.pow(t-2.625/C,2)+.984375}),Ue("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Ue("Circ",(function(t){return-(U(1-t*t)-1)})),Ue("Sine",(function(t){return 1===t?1:1-X(t*B)})),Ue("Back",je("in"),je("out"),je()),Oe.SteppedEase=Oe.steps=ot.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,i=t+(e?0:1),r=e?1:0;return function(t){return((i*re(0,.99999999,t)|0)+r)*n}}},D.ease=Oe["quad.out"],St("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return bt+=t+","+t+"Params,"}));var Ge=function(t,e){this.id=V++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:Et,this.set=e?e.getSetter:sn},He=function(){function t(t,e){var n=t.parent||o;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Jt(this,+t.duration,1,1),this.data=t.data,d||Pe.wake(),n&&Zt(n,this,e||0===e?e:n._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Jt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Me(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(zt(this,t),!n._dp||n.parent||qt(n,this);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Zt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&Math.abs(this._zTime)===L||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),It(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+jt(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+jt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Gt(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?Ht(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,Xt(this.totalTime(re(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Me(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=L)&&Math.abs(this._zTime)!==L))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Zt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(q(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Ht(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,te(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,te(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(ne(this,t),q(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,q(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-L))},e.eventCallback=function(t,e,n){var i=this.vars;return arguments.length>1?(e?(i[t]=e,n&&(i[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete i[t],this):i[t]},e.then=function(t){var e=this;return new Promise((function(n){var i=G(t)?t:Pt,r=function(){var t=e.then;e.then=null,G(i)&&(i=i(e))&&(i.then||i===e)&&(e.then=t),n(i),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?r():e._prom=r}))},e.kill=function(){be(this)},t}();Mt(He.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var We=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e,n)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=q(e.sortChildren),r.parent&&qt(r.parent,i(r)),e.scrollTrigger&&Kt(i(r),e.scrollTrigger),r}r(e,t);var n=e.prototype;return n.to=function(t,e,n){return new en(t,At(arguments,0,this),ne(this,H(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new en(t,At(arguments,1,this),ne(this,H(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,i){return new en(t,At(arguments,2,this),ne(this,H(e)?arguments[4]:i)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Ft(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new en(t,e,ne(this,n),1),this},n.call=function(t,e,n){return Zt(this,en.delayedCall(0,t,e),ne(this,n))},n.staggerTo=function(t,e,n,i,r,a,o){return n.duration=e,n.stagger=n.stagger||i,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new en(t,n,ne(this,r)),this},n.staggerFrom=function(t,e,n,i,r,a,o){return n.runBackwards=1,Ft(n).immediateRender=q(n.immediateRender),this.staggerTo(t,e,n,i,r,a,o)},n.staggerFromTo=function(t,e,n,i,r,a,o,s){return i.startAt=n,Ft(i).immediateRender=q(i.immediateRender),this.staggerTo(t,e,i,r,a,o,s)},n.render=function(t,e,n){var i,r,a,s,u,l,h,c,f,d,p,v,_=this._time,m=this._dirty?this.totalDuration():this._tDur,y=this._dur,g=this!==o&&t>m-L&&t>=0?m:t<L?0:t,b=this._zTime<0!=t<0&&(this._initted||!y);if(g!==this._tTime||n||b){if(_!==this._time&&y&&(g+=this._time-_,t+=this._time-_),i=g,f=this._start,l=!(c=this._ts),b&&(y||(_=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(p=this._yoyo,u=y+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*u+t,e,n);if(i=kt(g%u),g===m?(s=this._repeat,i=y):((s=~~(g/u))&&s===g/u&&(i=y,s--),i>y&&(i=y)),d=Gt(this._tTime,u),!_&&this._tTime&&d!==s&&(d=s),p&&1&s&&(i=y-i,v=1),s!==d&&!this._lock){var x=p&&1&d,w=x===(p&&1&s);if(s<d&&(x=!x),_=x?0:y,this._lock=1,this.render(_||(v?0:kt(s*u)),e,!y)._lock=0,!e&&this.parent&&ge(this,"onRepeat"),this.vars.repeatRefresh&&!v&&(this.invalidate()._lock=1),_&&_!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(y=this._dur,m=this._tDur,w&&(this._lock=2,_=x?y:-1e-4,this.render(_,!0)),this._lock=0,!this._ts&&!l)return this;Be(this,v)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(h=function(t,e,n){var i;if(n>e)for(i=t._first;i&&i._start<=n;){if(!i._dur&&"isPause"===i.data&&i._start>e)return i;i=i._next}else for(i=t._last;i&&i._start>=n;){if(!i._dur&&"isPause"===i.data&&i._start<e)return i;i=i._prev}}(this,kt(_),kt(i)))&&(g-=i-(i=h._start)),this._tTime=g,this._time=i,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,_=0),!_&&i&&!e&&ge(this,"onStart"),i>=_&&t>=0)for(r=this._first;r;){if(a=r._next,(r._act||i>=r._start)&&r._ts&&h!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(i-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(i-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){h=0,a&&(g+=this._zTime=-1e-8);break}}r=a}else{r=this._last;for(var E=t<0?t:i;r;){if(a=r._prev,(r._act||E<=r._end)&&r._ts&&h!==r){if(r.parent!==this)return this.render(t,e,n);if(r.render(r._ts>0?(E-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(E-r._start)*r._ts,e,n),i!==this._time||!this._ts&&!l){h=0,a&&(g+=this._zTime=E?-1e-8:L);break}}r=a}}if(h&&!e&&(this.pause(),h.render(i>=_?0:-1e-8)._zTime=i>=_?1:-1,this._ts))return this._start=f,Wt(this),this.render(t,e,n);this._onUpdate&&!e&&ge(this,"onUpdate",!0),(g===m&&m>=this.totalDuration()||!g&&_)&&(f!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||((t||!y)&&(g===m&&this._ts>0||!g&&this._ts<0)&&Vt(this,1),e||t<0&&!_||!g&&!_||(ge(this,g===m?"onComplete":"onReverseComplete",!0),this._prom&&!(g<m&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(H(e)||(e=ne(this,e)),!(t instanceof He)){if(Q(t))return t.forEach((function(t){return n.add(t,e)})),this;if(j(t))return this.addLabel(t,e);if(!G(t))return this;t=en.delayedCall(0,t)}return this!==t?Zt(this,t,e):this},n.getChildren=function(t,e,n,i){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===i&&(i=-N);for(var r=[],a=this._first;a;)a._start>=i&&(a instanceof en?e&&r.push(a):(n&&r.push(a),t&&r.push.apply(r,a.getChildren(!0,e,n)))),a=a._next;return r},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return j(t)?this.removeLabel(t):G(t)?this.killTweensOf(t):(Bt(this,t),t===this._recent&&(this._recent=this._last),Ut(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=kt(Pe.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=ne(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var i=en.delayedCall(0,e||ft,n);return i.data="isPause",this._hasPause=1,Zt(this,i,ne(this,t))},n.removePause=function(t){var e=this._first;for(t=ne(this,t);e;)e._start===t&&"isPause"===e.data&&Vt(e),e=e._next},n.killTweensOf=function(t,e,n){for(var i=this.getTweensOf(t,n),r=i.length;r--;)ze!==i[r]&&i[r].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,i=[],r=le(t),a=this._first,o=H(e);a;)a instanceof en?Tt(a._targets,r)&&(o?(!ze||a._initted&&a._ts)&&a.globalTime(0)<=e&&a.globalTime(a.totalDuration())>e:!e||a.isActive())&&i.push(a):(n=a.getTweensOf(r,e)).length&&i.push.apply(i,n),a=a._next;return i},n.tweenTo=function(t,e){e=e||{};var n=this,i=ne(n,t),r=e,a=r.startAt,o=r.onStart,s=r.onStartParams,u=r.immediateRender,l=en.to(n,Mt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:e.duration||Math.abs((i-(a&&"time"in a?a.time:n._time))/n.timeScale())||L,onStart:function(){n.pause();var t=e.duration||Math.abs((i-n._time)/n.timeScale());l._dur!==t&&Jt(l,t,0,1).render(l._time,!0,!0),o&&o.apply(l,s||[])}},e));return u?l.render(0):l},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Mt({startAt:{time:ne(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),ye(this,ne(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),ye(this,ne(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+L)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var i,r=this._first,a=this.labels;r;)r._start>=n&&(r._start+=t,r._end+=t),r=r._next;if(e)for(i in a)a[i]>=n&&(a[i]+=t);return Ut(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Ut(this)},n.totalDuration=function(t){var e,n,i,r=0,a=this,s=a._last,u=N;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){for(i=a.parent;s;)e=s._prev,s._dirty&&s.totalDuration(),(n=s._start)>u&&a._sort&&s._ts&&!a._lock?(a._lock=1,Zt(a,s,n-s._delay,1)._lock=0):u=n,n<0&&s._ts&&(r-=n,(!i&&!a._dp||i&&i.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),u=0),s._end>r&&s._ts&&(r=s._end),s=e;Jt(a,a===o&&a._time>r?a._time:r,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(t){if(o._ts&&(It(o,Ht(t,o)),c=Pe.frame),Pe.frame>=yt){yt+=O.autoSleep||120;var e=o._first;if((!e||!e._ts)&&O.autoSleep&&Pe._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||Pe.sleep()}}},e}(He);Mt(We.prototype,{_lock:0,_hasPause:0,_forcing:0});var ze,qe=function(t,e,n,i,r,a,o){var s,u,l,h,c,f,d,p,v=new _n(this._pt,t,e,0,1,hn,null,r),_=0,m=0;for(v.b=n,v.e=i,n+="",(d=~(i+="").indexOf("random("))&&(i=_e(i)),a&&(a(p=[n,i],t,e),n=p[0],i=p[1]),u=n.match(nt)||[];s=nt.exec(i);)h=s[0],c=i.substring(_,s.index),l?l=(l+1)%5:"rgba("===c.substr(-5)&&(l=1),h!==u[m++]&&(f=parseFloat(u[m-1])||0,v._pt={_next:v._pt,p:c||1===m?c:",",s:f,c:"="===h.charAt(1)?parseFloat(h.substr(2))*("-"===h.charAt(0)?-1:1):parseFloat(h)-f,m:l&&l<4?Math.round:0},_=nt.lastIndex);return v.c=_<i.length?i.substring(_,i.length):"",v.fp=o,(it.test(i)||d)&&(v.e=0),this._pt=v,v},Ze=function(t,e,n,i,r,a,o,s,u){G(i)&&(i=i(r||0,t,a));var l,h=t[e],c="get"!==n?n:G(h)?u?t[e.indexOf("set")||!G(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():h,f=G(h)?u?an:rn:nn;if(j(i)&&(~i.indexOf("random(")&&(i=_e(i)),"="===i.charAt(1)&&(i=parseFloat(c)+parseFloat(i.substr(2))*("-"===i.charAt(0)?-1:1)+(ae(c)||0))),c!==i)return isNaN(c*i)?(!h&&!(e in t)&&lt(e,i),qe.call(this,t,e,c,i,f,s||O.stringFilter,u)):(l=new _n(this._pt,t,e,+c||0,i-(c||0),"boolean"==typeof h?ln:un,0,f),u&&(l.fp=u),o&&l.modifier(o,this,t),this._pt=l)},Ke=function(t,e,n,i,r,a){var o,s,u,l;if(_t[t]&&!1!==(o=new _t[t]).init(r,o.rawVars?e[t]:function(t,e,n,i,r){if(G(t)&&(t=Qe(t,r,e,n,i)),!z(t)||t.style&&t.nodeType||Q(t)||$(t))return j(t)?Qe(t,r,e,n,i):t;var a,o={};for(a in t)o[a]=Qe(t[a],r,e,n,i);return o}(e[t],i,r,a,n),n,i,a)&&(n._pt=s=new _n(n._pt,r,t,0,1,o.render,o,0,o.priority),n!==f))for(u=n._ptLookup[n._targets.indexOf(r)],l=o._props.length;l--;)u[o._props[l]]=s;return o},$e=function t(e,n){var i,r,s,u,l,h,c,f,d,p,v,_,m,y=e.vars,g=y.ease,b=y.startAt,x=y.immediateRender,w=y.lazy,E=y.onUpdate,S=y.onUpdateParams,k=y.callbackScope,T=y.runBackwards,A=y.yoyoEase,R=y.keyframes,I=y.autoRevert,C=e._dur,P=e._startAt,M=e._targets,O=e.parent,N=O&&"nested"===O.data?O.parent._targets:M,F="auto"===e._overwrite&&!a,B=e.timeline;if(B&&(!R||!g)&&(g="none"),e._ease=Ve(g,D.ease),e._yEase=A?Fe(Ve(!0===A?g:A,D.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),!B){if(_=(f=M[0]?wt(M[0]).harness:0)&&y[f.prop],i=Lt(y,dt),P&&P.render(-1,!0).kill(),b)if(Vt(e._startAt=en.set(M,Mt({data:"isStart",overwrite:!1,parent:O,immediateRender:!0,lazy:q(w),startAt:null,delay:0,onUpdate:E,onUpdateParams:S,callbackScope:k,stagger:0},b))),x){if(n>0)I||(e._startAt=0);else if(C&&!(n<0&&P))return void(n&&(e._zTime=n))}else!1===I&&(e._startAt=0);else if(T&&C)if(P)!I&&(e._startAt=0);else if(n&&(x=!1),s=Mt({overwrite:!1,data:"isFromStart",lazy:x&&q(w),immediateRender:x,stagger:0,parent:O},i),_&&(s[f.prop]=_),Vt(e._startAt=en.set(M,s)),x){if(!n)return}else t(e._startAt,L);for(e._pt=0,w=C&&q(w)||w&&!C,r=0;r<M.length;r++){if(c=(l=M[r])._gsap||xt(M)[r]._gsap,e._ptLookup[r]=p={},vt[c.id]&&pt.length&&Rt(),v=N===M?r:N.indexOf(l),f&&!1!==(d=new f).init(l,_||i,e,v,N)&&(e._pt=u=new _n(e._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach((function(t){p[t]=u})),d.priority&&(h=1)),!f||_)for(s in i)_t[s]&&(d=Ke(s,i,e,v,l,N))?d.priority&&(h=1):p[s]=u=Ze.call(e,l,s,"get",i[s],v,N,0,y.stringFilter);e._op&&e._op[r]&&e.kill(l,e._op[r]),F&&e._pt&&(ze=e,o.killTweensOf(l,p,e.globalTime(0)),m=!e.parent,ze=0),e._pt&&w&&(vt[c.id]=1)}h&&vn(e),e._onInit&&e._onInit(e)}e._from=!B&&!!y.runBackwards,e._onUpdate=E,e._initted=(!e._op||e._pt)&&!m},Qe=function(t,e,n,i,r){return G(t)?t.call(e,n,i,r):j(t)&&~t.indexOf("random(")?_e(t):t},Je=bt+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",tn=(Je+",id,stagger,delay,duration,paused,scrollTrigger").split(","),en=function(t){function e(e,n,r,s){var u;"number"==typeof n&&(r.duration=n,n=r,r=null);var l,h,c,f,d,p,v,_,m=(u=t.call(this,s?n:Ft(n),r)||this).vars,y=m.duration,g=m.delay,b=m.immediateRender,x=m.stagger,w=m.overwrite,E=m.keyframes,S=m.defaults,k=m.scrollTrigger,T=m.yoyoEase,A=u.parent,R=(Q(e)||$(e)?H(e[0]):"length"in n)?[e]:le(e);if(u._targets=R.length?xt(R):ht(0,!O.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=w,E||x||K(y)||K(g)){if(n=u.vars,(l=u.timeline=new We({data:"nested",defaults:S||{}})).kill(),l.parent=l._dp=i(u),l._start=0,E)Mt(l.vars.defaults,{ease:"none"}),E.forEach((function(t){return l.to(R,t,">")}));else{if(f=R.length,v=x?ce(x):ft,z(x))for(d in x)~Je.indexOf(d)&&(_||(_={}),_[d]=x[d]);for(h=0;h<f;h++){for(d in c={},n)tn.indexOf(d)<0&&(c[d]=n[d]);c.stagger=0,T&&(c.yoyoEase=T),_&&Dt(c,_),p=R[h],c.duration=+Qe(y,i(u),h,p,R),c.delay=(+Qe(g,i(u),h,p,R)||0)-u._delay,!x&&1===f&&c.delay&&(u._delay=g=c.delay,u._start+=g,c.delay=0),l.to(p,c,v(h,p,R))}l.duration()?y=g=0:u.timeline=0}y||u.duration(y=l.duration())}else u.timeline=0;return!0!==w||a||(ze=i(u),o.killTweensOf(R),ze=0),A&&qt(A,i(u)),(b||!y&&!E&&u._start===kt(A._time)&&q(b)&&Yt(i(u))&&"nested"!==A.data)&&(u._tTime=-1e-8,u.render(Math.max(0,-g))),k&&Kt(i(u),k),u}r(e,t);var n=e.prototype;return n.render=function(t,e,n){var i,r,a,o,s,u,l,h,c,f=this._time,d=this._tDur,p=this._dur,v=t>d-L&&t>=0?d:t<L?0:t;if(p){if(v!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(i=v,h=this.timeline,this._repeat){if(o=p+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,n);if(i=kt(v%o),v===d?(a=this._repeat,i=p):((a=~~(v/o))&&a===v/o&&(i=p,a--),i>p&&(i=p)),(u=this._yoyo&&1&a)&&(c=this._yEase,i=p-i),s=Gt(this._tTime,o),i===f&&!n&&this._initted)return this;a!==s&&(h&&this._yEase&&Be(h,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(kt(o*a),!0).invalidate()._lock=0))}if(!this._initted){if($t(this,t<0?t:i,n,e))return this._tTime=0,this;if(p!==this._dur)return this.render(t,e,n)}for(this._tTime=v,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(c||this._ease)(i/p),this._from&&(this.ratio=l=1-l),i&&!f&&!e&&ge(this,"onStart"),r=this._pt;r;)r.r(l,r.d),r=r._next;h&&h.render(t<0?t:!i&&u?-1e-8:h._dur*l,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),ge(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!e&&this.parent&&ge(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!p)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Vt(this,1),e||t<0&&!f||!v&&!f||(ge(this,v===d?"onComplete":"onReverseComplete",!0),this._prom&&!(v<d&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,i){var r,a,o,s=t.ratio,u=e<0||!e&&(!t._start&&Qt(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,l=t._rDelay,h=0;if(l&&t._repeat&&(h=re(0,t._tDur,e),a=Gt(h,l),o=Gt(t._tTime,l),t._yoyo&&1&a&&(u=1-u),a!==o&&(s=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==s||i||t._zTime===L||!e&&t._zTime){if(!t._initted&&$t(t,e,i,n))return;for(o=t._zTime,t._zTime=e||(n?L:0),n||(n=e&&!o),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=h,r=t._pt;r;)r.r(u,r.d),r=r._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&ge(t,"onUpdate"),h&&t._repeat&&!n&&t.parent&&ge(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&Vt(t,1),n||(ge(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?be(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ze&&!0!==ze.vars.overwrite)._first||be(this),this.parent&&n!==this.timeline.totalDuration()&&Jt(this,this._dur*this.timeline._tDur/n,0,1),this}var i,r,a,o,s,u,l,h=this._targets,c=t?le(t):h,f=this._ptLookup,d=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,i=n===e.length;i&&n--&&t[n]===e[n];);return n<0}(h,c))return"all"===e&&(this._pt=0),be(this);for(i=this._op=this._op||[],"all"!==e&&(j(e)&&(s={},St(e,(function(t){return s[t]=1})),e=s),e=function(t,e){var n,i,r,a,o=t[0]?wt(t[0]).harness:0,s=o&&o.aliases;if(!s)return e;for(i in n=Dt({},e),s)if(i in n)for(r=(a=s[i].split(",")).length;r--;)n[a[r]]=n[i];return n}(h,e)),l=h.length;l--;)if(~c.indexOf(h[l]))for(s in r=f[l],"all"===e?(i[l]=e,o=r,a={}):(a=i[l]=i[l]||{},o=e),o)(u=r&&r[s])&&("kill"in u.d&&!0!==u.d.kill(s)||Bt(this,u,"_pt"),delete r[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&d&&be(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,At(arguments,1))},e.delayedCall=function(t,n,i,r){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:r})},e.fromTo=function(t,n,i){return new e(t,At(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return o.killTweensOf(t,e,n)},e}(He);Mt(en.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),St("staggerTo,staggerFrom,staggerFromTo",(function(t){en[t]=function(){var e=new We,n=oe.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var nn=function(t,e,n){return t[e]=n},rn=function(t,e,n){return t[e](n)},an=function(t,e,n,i){return t[e](i.fp,n)},on=function(t,e,n){return t.setAttribute(e,n)},sn=function(t,e){return G(t[e])?rn:W(t[e])&&t.setAttribute?on:nn},un=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},ln=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},hn=function(t,e){var n=e._pt,i="";if(!t&&e.b)i=e.b;else if(1===t&&e.e)i=e.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+i,n=n._next;i+=e.c}e.set(e.t,e.p,i,e)},cn=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},fn=function(t,e,n,i){for(var r,a=this._pt;a;)r=a._next,a.p===i&&a.modifier(t,e,n),a=r},dn=function(t){for(var e,n,i=this._pt;i;)n=i._next,i.p===t&&!i.op||i.op===t?Bt(this,i,"_pt"):i.dep||(e=1),i=n;return!e},pn=function(t,e,n,i){i.mSet(t,e,i.m.call(i.tween,n,i.mt),i)},vn=function(t){for(var e,n,i,r,a=t._pt;a;){for(e=a._next,n=i;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:r)?a._prev._next=a:i=a,(a._next=n)?n._prev=a:r=a,a=e}t._pt=i},_n=function(){function t(t,e,n,i,r,a,o,s,u){this.t=e,this.s=i,this.c=r,this.p=n,this.r=a||un,this.d=o||this,this.set=s||nn,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=pn,this.m=t,this.mt=n,this.tween=e},t}();St(bt+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return dt[t]=1})),ot.TweenMax=ot.TweenLite=en,ot.TimelineLite=ot.TimelineMax=We,o=new We({sortChildren:!1,defaults:D,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),O.stringFilter=Ce;var mn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return xe(t)}))},timeline:function(t){return new We(t)},getTweensOf:function(t,e){return o.getTweensOf(t,e)},getProperty:function(t,e,n,i){j(t)&&(t=le(t)[0]);var r=wt(t||{}).get,a=n?Pt:Ct;return"native"===n&&(n=""),t?e?a((_t[e]&&_t[e].get||r)(t,e,n,i)):function(e,n,i){return a((_t[e]&&_t[e].get||r)(t,e,n,i))}:t},quickSetter:function(t,e,n){if((t=le(t)).length>1){var i=t.map((function(t){return bn.quickSetter(t,e,n)})),r=i.length;return function(t){for(var e=r;e--;)i[e](t)}}t=t[0]||{};var a=_t[e],o=wt(t),s=o.harness&&(o.harness.aliases||{})[e]||e,u=a?function(e){var i=new a;f._pt=0,i.init(t,n?e+n:e,f,0,[t]),i.render(1,i),f._pt&&cn(1,f)}:o.set(t,s);return a?u:function(e){return u(t,s,n?e+n:e,o,1)}},isTweening:function(t){return o.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Ve(t.ease,D.ease)),Nt(D,t||{})},config:function(t){return Nt(O,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,i=t.plugins,r=t.defaults,a=t.extendTimeline;(i||"").split(",").forEach((function(t){return t&&!_t[t]&&!ot[t]&&ht()})),mt[e]=function(t,e,i){return n(le(t),Mt(e||{},r),i)},a&&(We.prototype[e]=function(t,n,i){return this.add(mt[e](t,z(n)?n:(i=n)&&{},this),i)})},registerEase:function(t,e){Oe[t]=Ve(e)},parseEase:function(t,e){return arguments.length?Ve(t,e):Oe},getById:function(t){return o.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,i,r=new We(t);for(r.smoothChildTiming=q(t.smoothChildTiming),o.remove(r),r._dp=0,r._time=r._tTime=o._time,n=o._first;n;)i=n._next,!e&&!n._dur&&n instanceof en&&n.vars.onComplete===n._targets[0]||Zt(r,n,n._start-n._delay),n=i;return Zt(o,r,0),r},utils:{wrap:function t(e,n,i){var r=n-e;return Q(e)?ve(e,t(0,e.length),n):ie(i,(function(t){return(r+(t-e)%r)%r+e}))},wrapYoyo:function t(e,n,i){var r=n-e,a=2*r;return Q(e)?ve(e,t(0,e.length-1),n):ie(i,(function(t){return e+((t=(a+(t-e)%a)%a||0)>r?a-t:t)}))},distribute:ce,random:pe,snap:de,normalize:function(t,e,n){return me(t,e,0,1,n)},getUnit:ae,clamp:function(t,e,n){return ie(n,(function(n){return re(t,e,n)}))},splitColor:ke,toArray:le,mapRange:me,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||ae(n))}},interpolate:function t(e,n,i,r){var a=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!a){var o,s,u,l,h,c=j(e),f={};if(!0===i&&(r=1)&&(i=null),c)e={p:e},n={p:n};else if(Q(e)&&!Q(n)){for(u=[],l=e.length,h=l-2,s=1;s<l;s++)u.push(t(e[s-1],e[s]));l--,a=function(t){t*=l;var e=Math.min(h,~~t);return u[e](t-e)},i=n}else r||(e=Dt(Q(e)?[]:{},e));if(!u){for(o in n)Ze.call(f,e,o,"get",n[o]);a=function(t){return cn(t,f)||(c?e.p:e)}}}return ie(i,a)},shuffle:he},install:ut,effects:mt,ticker:Pe,updateRoot:We.updateRoot,plugins:_t,globalTimeline:o,core:{PropTween:_n,globals:ct,Tween:en,Timeline:We,Animation:He,getCache:wt,_removeLinkedListItem:Bt,suppressOverwrites:function(t){return a=t}}};St("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return mn[t]=en[t]})),Pe.add(We.updateRoot),f=mn.to({},{duration:0});var yn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},gn=function(t,e){return{name:t,rawVars:1,init:function(t,n,i){i._onInit=function(t){var i,r;if(j(n)&&(i={},St(n,(function(t){return i[t]=1})),n=i),e){for(r in i={},n)i[r]=e(n[r]);n=i}!function(t,e){var n,i,r,a=t._targets;for(n in e)for(i=a.length;i--;)(r=t._ptLookup[i][n])&&(r=r.d)&&(r._pt&&(r=yn(r,n)),r&&r.modifier&&r.modifier(e[n],t,a[i],n))}(t,n)}}}},bn=mn.registerPlugin({name:"attr",init:function(t,e,n,i,r){var a,o;for(a in e)(o=this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],i,r,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},gn("roundProps",fe),gn("modifiers"),gn("snap",de))||mn;en.version=We.version=bn.version="3.6.1",h=1,Z()&&Me();Oe.Power0,Oe.Power1,Oe.Power2,Oe.Power3,Oe.Power4,Oe.Linear,Oe.Quad,Oe.Cubic,Oe.Quart,Oe.Quint,Oe.Strong,Oe.Elastic,Oe.Back,Oe.SteppedEase,Oe.Bounce,Oe.Sine,Oe.Expo,Oe.Circ},2398:function(t,e,n){"use strict";n.d(e,{p8:function(){return a}});var i=n(1501),r=n(3976),a=i.p8.registerPlugin(r._Z)||i.p8;a.core.Tween},8590:function(t,e,n){"use strict";n.d(e,{y:function(){return ft}});n(5743),n(9601),n(2772),n(489),n(2419);var i=n(4877),r=(n(2222),n(561),n(5069),n(6699),n(2023),n(2707),n(7042),n(1539),n(1038),n(2526),n(1817),n(6992),n(3948),n(4819),n(5003),n(7274)),a=n(2374),o=n.n(a),s=n(6993),u=n(4175);function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function h(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=m(t);if(e){var r=m(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}var x=function(){function t(e){y(this,t),this.parent=e,this.paused=!1}return b(t,[{key:"destroy",value:function(){}},{key:"down",value:function(t){return!1}},{key:"move",value:function(t){return!1}},{key:"up",value:function(t){return!1}},{key:"wheel",value:function(t){return!1}},{key:"update",value:function(t){}},{key:"resize",value:function(){}},{key:"reset",value:function(){}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}}]),t}();function w(t,e){return t?"function"==typeof t?t:"string"==typeof t?o()[t]:void 0:o()[e]}var E={removeOnInterrupt:!1,ease:"linear",time:1e3},S=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,n),i=e.call(this,t),n.prototype.__init.call(_(i)),n.prototype.__init2.call(_(i)),n.prototype.__init3.call(_(i)),n.prototype.__init4.call(_(i)),n.prototype.__init5.call(_(i)),n.prototype.__init6.call(_(i)),n.prototype.__init7.call(_(i)),i.options=Object.assign({},E,r),i.options.ease=w(i.options.ease),i.setupPosition(),i.setupZoom(),i.time=0,i}return b(n,[{key:"__init",value:function(){this.startWidth=null}},{key:"__init2",value:function(){this.startHeight=null}},{key:"__init3",value:function(){this.deltaWidth=null}},{key:"__init4",value:function(){this.deltaHeight=null}},{key:"__init5",value:function(){this.width=null}},{key:"__init6",value:function(){this.height=null}},{key:"__init7",value:function(){this.time=0}},{key:"setupPosition",value:function(){void 0!==this.options.position?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}},{key:"setupZoom",value:function(){this.width=null,this.height=null,void 0!==this.options.scale?this.width=this.parent.screenWidth/this.options.scale:void 0!==this.options.scaleX||void 0!==this.options.scaleY?(void 0!==this.options.scaleX&&(this.width=this.parent.screenWidth/this.options.scaleX),void 0!==this.options.scaleY&&(this.height=this.parent.screenHeight/this.options.scaleY)):(void 0!==this.options.width&&(this.width=this.options.width),void 0!==this.options.height&&(this.height=this.options.height)),null!==this.width&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),null!==this.height&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}},{key:"down",value:function(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}},{key:"complete",value:function(){this.parent.plugins.remove("animate"),null!==this.width&&this.parent.fitWidth(this.width,this.keepCenter,null===this.height),null!==this.height&&this.parent.fitHeight(this.height,this.keepCenter,null===this.width),this.keepCenter||this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}},{key:"update",value:function(t){if(!this.paused)if(this.time+=t,this.time>=this.options.time)this.complete();else{var e=new r.E9(this.parent.scale.x,this.parent.scale.y),n=this.options.ease(this.time,0,1,this.options.time);if(null!==this.width){var i=this.startWidth,a=this.deltaWidth;this.parent.fitWidth(i+a*n,this.keepCenter,null===this.height)}if(null!==this.height){var o=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(o+s*n,this.keepCenter,null===this.width)}if(null===this.width?this.parent.scale.x=this.parent.scale.y:null===this.height&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){var u=this.startX,l=this.startY,h=this.deltaX,c=this.deltaY,f=new r.E9(this.parent.x,this.parent.y);this.parent.moveCenter(u+h*n,l+c*n),this.parent.emit("moved",{viewport:this.parent,original:f,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:e,type:"animate"})}}}]),n}(x);function k(t){for(var e=void 0,n=t[0],i=1;i<t.length;){var r=t[i],a=t[i+1];if(i+=2,("optionalAccess"===r||"optionalCall"===r)&&null==n)return;"access"===r||"optionalAccess"===r?(e=n,n=a(n)):"call"!==r&&"optionalCall"!==r||(n=a((function(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=n).call.apply(t,[e].concat(r))})),e=void 0)}return n}var T={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null},A=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};y(this,n),(i=e.call(this,t)).options=Object.assign({},T,r),i.ease=w(i.options.ease,"easeInOutSine"),i.options.sides?"all"===i.options.sides?i.top=i.bottom=i.left=i.right=!0:"horizontal"===i.options.sides?(i.right=i.left=!0,i.top=i.bottom=!1):"vertical"===i.options.sides?(i.left=i.right=!1,i.top=i.bottom=!0):(i.top=-1!==i.options.sides.indexOf("top"),i.bottom=-1!==i.options.sides.indexOf("bottom"),i.left=-1!==i.options.sides.indexOf("left"),i.right=-1!==i.options.sides.indexOf("right")):i.left=i.top=i.right=i.bottom=!1;var a=i.options.underflow.toLowerCase();return"center"===a?(i.underflowX=0,i.underflowY=0):(i.underflowX=-1!==a.indexOf("left")?-1:-1!==a.indexOf("right")?1:0,i.underflowY=-1!==a.indexOf("top")?-1:-1!==a.indexOf("bottom")?1:0),i.reset(),i}return b(n,[{key:"isActive",value:function(){return null!==this.toX||null!==this.toY}},{key:"down",value:function(){return this.toX=this.toY=null,!1}},{key:"up",value:function(){return this.bounce(),!1}},{key:"update",value:function(t){if(!this.paused){if(this.bounce(),this.toX){var e=this.toX;e.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),e.time>=this.options.time?(this.parent.x=e.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(e.time,e.start,e.delta,this.options.time)}if(this.toY){var n=this.toY;n.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),n.time>=this.options.time?(this.parent.y=n.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(n.time,n.start,n.delta,this.options.time)}}}},{key:"calcUnderflowX",value:function(){var t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}},{key:"calcUnderflowY",value:function(){var t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}},{key:"oob",value:function(){var t=this.options.bounceBox;if(t){var e=void 0===t.x?0:t.x,n=void 0===t.y?0:t.y,i=void 0===t.width?this.parent.worldWidth:t.width,a=void 0===t.height?this.parent.worldHeight:t.height;return{left:this.parent.left<e,right:this.parent.right>i,top:this.parent.top<n,bottom:this.parent.bottom>a,topLeft:new r.E9(e*this.parent.scale.x,n*this.parent.scale.y),bottomRight:new r.E9(i*this.parent.scale.x-this.parent.screenWidth,a*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new r.E9(0,0),bottomRight:new r.E9(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}},{key:"bounce",value:function(){if(!this.paused){var t,e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.x&&e.percentChangeX===k([e,"access",function(t){return t.options},"optionalAccess",function(t){return t.friction}])||e.y&&e.percentChangeY===k([e,"access",function(t){return t.options},"optionalAccess",function(t){return t.friction}]))&&(((t=this.oob()).left&&this.left||t.right&&this.right)&&(e.percentChangeX=this.options.friction),(t.top&&this.top||t.bottom&&this.bottom)&&(e.percentChangeY=this.options.friction));var n=this.parent.plugins.get("drag",!0)||{},i=this.parent.plugins.get("pinch",!0)||{};if(e=e||{},!(k([n,"optionalAccess",function(t){return t.active}])||k([i,"optionalAccess",function(t){return t.active}])||this.toX&&this.toY||e.x&&e.y)){var r=(t=t||this.oob()).topLeft,a=t.bottomRight;if(!this.toX&&!e.x){var o=null;t.left&&this.left?o=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-r.x:t.right&&this.right&&(o=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x),null!==o&&this.parent.x!==o&&(this.toX={time:0,start:this.parent.x,delta:o-this.parent.x,end:o},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!e.y){var s=null;t.top&&this.top?s=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-r.y:t.bottom&&this.bottom&&(s=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y),null!==s&&this.parent.y!==s&&(this.toY={time:0,start:this.parent.y,delta:s-this.parent.y,end:s},this.parent.emit("bounce-y-start",this.parent))}}}}},{key:"reset",value:function(){this.toX=this.toY=null,this.bounce()}}]),n}(x),R={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"},I=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,n),(i=e.call(this,t)).options=Object.assign({},R,r),i.options.direction&&(i.options.left="x"===i.options.direction||"all"===i.options.direction||null,i.options.right="x"===i.options.direction||"all"===i.options.direction||null,i.options.top="y"===i.options.direction||"all"===i.options.direction||null,i.options.bottom="y"===i.options.direction||"all"===i.options.direction||null),i.parseUnderflow(),i.last={x:null,y:null,scaleX:null,scaleY:null},i.update(),i}return b(n,[{key:"parseUnderflow",value:function(){var t=this.options.underflow.toLowerCase();"none"===t?this.noUnderflow=!0:"center"===t?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=-1!==t.indexOf("left")?-1:-1!==t.indexOf("right")?1:0,this.underflowY=-1!==t.indexOf("top")?-1:-1!==t.indexOf("bottom")?1:0,this.noUnderflow=!1)}},{key:"move",value:function(){return this.update(),!1}},{key:"update",value:function(){if(!this.paused&&(this.parent.x!==this.last.x||this.parent.y!==this.last.y||this.parent.scale.x!==this.last.scaleX||this.parent.scale.y!==this.last.scaleY)){var t={x:this.parent.x,y:this.parent.y},e=this.parent.plugins.decelerate||{};if(null!==this.options.left||null!==this.options.right){var n=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:0!==this.parent.x&&(this.parent.x=0,n=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,n=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,n=!0)}else null!==this.options.left&&this.parent.left<(!0===this.options.left?0:this.options.left)&&(this.parent.x=-(!0===this.options.left?0:this.options.left)*this.parent.scale.x,e.x=0,n=!0),null!==this.options.right&&this.parent.right>(!0===this.options.right?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(!0===this.options.right?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,e.x=0,n=!0);n&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-x"})}if(null!==this.options.top||null!==this.options.bottom){var i=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:0!==this.parent.y&&(this.parent.y=0,i=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,i=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,i=!0)}else null!==this.options.top&&this.parent.top<(!0===this.options.top?0:this.options.top)&&(this.parent.y=-(!0===this.options.top?0:this.options.top)*this.parent.scale.y,e.y=0,i=!0),null!==this.options.bottom&&this.parent.bottom>(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(!0===this.options.bottom?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,e.y=0,i=!0);i&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}}},{key:"reset",value:function(){this.update()}}]),n}(x),C={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null},P=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,n),(i=e.call(this,t)).options=Object.assign({},C,r),i.clamp(),i}return b(n,[{key:"resize",value:function(){this.clamp()}},{key:"clamp",value:function(){if(!this.paused)if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){var t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight;if(null!==this.options.minWidth&&t<this.options.minWidth){var n=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxWidth&&t>this.options.maxWidth){var i=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/i,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.minHeight&&e<this.options.minHeight){var r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(null!==this.options.maxHeight&&e>this.options.maxHeight){var a=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/a,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){var o={x:null,y:null},s={x:null,y:null};if("number"==typeof this.options.minScale)o.x=this.options.minScale,o.y=this.options.minScale;else if(null!==this.options.minScale){var u=this.options.minScale;o.x=void 0===u.x?null:u.x,o.y=void 0===u.y?null:u.y}if("number"==typeof this.options.maxScale)s.x=this.options.maxScale,s.y=this.options.maxScale;else if(null!==this.options.maxScale){var l=this.options.maxScale;s.x=void 0===l.x?null:l.x,s.y=void 0===l.y?null:l.y}var h=this.parent.scale.x,c=this.parent.scale.y;null!==o.x&&h<o.x&&(h=o.x),null!==s.x&&h>s.x&&(h=s.x),null!==o.y&&c<o.y&&(c=o.y),null!==s.y&&c>s.y&&(c=s.y),h===this.parent.scale.x&&c===this.parent.scale.y||(this.parent.scale.set(h,c),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}},{key:"reset",value:function(){this.clamp()}}]),n}(x),M={friction:.98,bounce:.8,minSpeed:.01},O=16,D=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,n),(i=e.call(this,t)).options=Object.assign({},M,r),i.saved=[],i.timeSinceRelease=0,i.reset(),i.parent.on("moved",(function(t){return i.moved(t)})),i}return b(n,[{key:"down",value:function(){return this.saved=[],this.x=this.y=null,!1}},{key:"isActive",value:function(){return!(!this.x&&!this.y)}},{key:"move",value:function(){if(this.paused)return!1;var t=this.parent.input.count();return(1===t||t>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}},{key:"moved",value:function(t){if(this.saved.length){var e=this.saved[this.saved.length-1];"clamp-x"===t.type?e.x===t.original.x&&(e.x=this.parent.x):"clamp-y"===t.type&&e.y===t.original.y&&(e.y=this.parent.y)}}},{key:"up",value:function(){if(0===this.parent.input.count()&&this.saved.length){var t,e=performance.now(),n=h(this.saved);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.time>=e-100){var r=e-i.time;this.x=(this.parent.x-i.x)/r,this.y=(this.parent.y-i.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}}catch(t){n.e(t)}finally{n.f()}}return!1}},{key:"activate",value:function(t){void 0!==(t=t||{}).x&&(this.x=t.x,this.percentChangeX=this.options.friction),void 0!==t.y&&(this.y=t.y,this.percentChangeY=this.options.friction)}},{key:"update",value:function(t){if(!this.paused){var e=this.x||this.y,n=this.timeSinceRelease,i=this.timeSinceRelease+t;if(this.x){var r=this.percentChangeX,a=Math.log(r);this.parent.x+=this.x*O/a*(Math.pow(r,i/O)-Math.pow(r,n/O)),this.x*=Math.pow(this.percentChangeX,t/O)}if(this.y){var o=this.percentChangeY,s=Math.log(o);this.parent.y+=this.y*O/s*(Math.pow(o,i/O)-Math.pow(o,n/O)),this.y*=Math.pow(this.percentChangeY,t/O)}this.timeSinceRelease+=t,Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0),e&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}}},{key:"reset",value:function(){this.x=this.y=null}}]),n}(x),N={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20},L=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,n),(i=e.call(this,t)).options=Object.assign({},N,r),i.moved=!1,i.reverse=i.options.reverse?1:-1,i.xDirection=!i.options.direction||"all"===i.options.direction||"x"===i.options.direction,i.yDirection=!i.options.direction||"all"===i.options.direction||"y"===i.options.direction,i.keyIsPressed=!1,i.parseUnderflow(),i.mouseButtons(i.options.mouseButtons),i.options.keyToPress&&i.handleKeyPresses(i.options.keyToPress),i}return b(n,[{key:"handleKeyPresses",value:function(t){var e=this;window.addEventListener("keydown",(function(n){t.includes(n.code)&&(e.keyIsPressed=!0)})),window.addEventListener("keyup",(function(n){t.includes(n.code)&&(e.keyIsPressed=!1)}))}},{key:"mouseButtons",value:function(t){this.mouse=t&&"all"!==t?[-1!==t.indexOf("left"),-1!==t.indexOf("middle"),-1!==t.indexOf("right")]:[!0,!0,!0]}},{key:"parseUnderflow",value:function(){var t=this.options.underflow.toLowerCase();"center"===t?(this.underflowX=0,this.underflowY=0):(t.includes("left")?this.underflowX=-1:t.includes("right")?this.underflowX=1:this.underflowX=0,t.includes("top")?this.underflowY=-1:t.includes("bottom")?this.underflowY=1:this.underflowY=0)}},{key:"checkButtons",value:function(t){var e="mouse"===t.data.pointerType,n=this.parent.input.count();return!(!(1===n||n>1&&!this.parent.plugins.get("pinch",!0))||e&&!this.mouse[t.data.button])}},{key:"checkKeyPress",value:function(t){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&"touch"===t.data.pointerType}},{key:"down",value:function(t){return!(this.paused||!this.options.pressDrag)&&(this.checkButtons(t)&&this.checkKeyPress(t)?(this.last={x:t.data.global.x,y:t.data.global.y},this.current=t.data.pointerId,!0):(this.last=null,!1))}},{key:"active",get:function(){return this.moved}},{key:"move",value:function(t){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===t.data.pointerId){var e=t.data.global.x,n=t.data.global.y,i=this.parent.input.count();if(1===i||i>1&&!this.parent.plugins.get("pinch",!0)){var a=e-this.last.x,o=n-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(a)||this.yDirection&&this.parent.input.checkThreshold(o)){var s={x:e,y:n};return this.xDirection&&(this.parent.x+=(s.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(s.y-this.last.y)*this.options.factor),this.last=s,this.moved||this.parent.emit("drag-start",{event:t,screen:new r.E9(this.last.x,this.last.y),world:this.parent.toWorld(new r.E9(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}},{key:"up",value:function(t){if(this.paused)return!1;var e=this.parent.input.touches;if(1===e.length){var n=e[0];return n.last&&(this.last={x:n.last.x,y:n.last.y},this.current=n.id),this.moved=!1,!0}if(this.last&&this.moved){var i=new r.E9(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:t,screen:i,world:this.parent.toWorld(i),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}},{key:"wheel",value:function(t){if(this.paused)return!1;if(this.options.wheel){var e=this.parent.plugins.get("wheel",!0);if(!e){var n=t.deltaMode?this.options.lineHeight:1;return this.xDirection&&(this.parent.x+=t.deltaX*n*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=t.deltaY*n*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||t.preventDefault(),this.parent.options.stopPropagation&&t.stopPropagation(),!0}}return!1}},{key:"resume",value:function(){this.last=null,this.paused=!1}},{key:"clamp",value:function(){var t=this.parent.plugins.get("decelerate",!0)||{};if("y"!==this.options.clampWheel)if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if("x"!==this.options.clampWheel)if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}}]),n}(x),F={speed:0,acceleration:null,radius:null},B=function(t){f(n,t);var e=p(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return y(this,n),(r=e.call(this,t)).target=i,r.options=Object.assign({},F,a),r.velocity={x:0,y:0},r}return b(n,[{key:"update",value:function(t){if(!this.paused){var e=this.parent.center,n=this.target.x,i=this.target.y;if(this.options.radius){if(!(Math.sqrt(Math.pow(this.target.y-e.y,2)+Math.pow(this.target.x-e.x,2))>this.options.radius))return;var r=Math.atan2(this.target.y-e.y,this.target.x-e.x);n=this.target.x-Math.cos(r)*this.options.radius,i=this.target.y-Math.sin(r)*this.options.radius}var a=n-e.x,o=i-e.y;if(a||o)if(this.options.speed)if(this.options.acceleration){var s=Math.atan2(i-e.y,n-e.x),u=Math.sqrt(Math.pow(a,2)+Math.pow(o,2));if(u){var l=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);this.velocity=u>l?{x:Math.min(this.velocity.x+this.options.acceleration*t,this.options.speed),y:Math.min(this.velocity.y+this.options.acceleration*t,this.options.speed)}:{x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};var h=Math.cos(s)*this.velocity.x,c=Math.sin(s)*this.velocity.y,f=Math.abs(h)>Math.abs(a)?n:e.x+h,d=Math.abs(c)>Math.abs(o)?i:e.y+c;this.parent.moveCenter(f,d),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{var p=Math.atan2(i-e.y,n-e.x),v=Math.cos(p)*this.options.speed,_=Math.sin(p)*this.options.speed,m=Math.abs(v)>Math.abs(a)?n:e.x+v,y=Math.abs(_)>Math.abs(o)?i:e.y+_;this.parent.moveCenter(m,y),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(n,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}}]),n}(x),V={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1},U=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,n),(i=e.call(this,t)).options=Object.assign({},V,r),i.reverse=i.options.reverse?1:-1,i.radiusSquared="number"==typeof i.options.radius?Math.pow(i.options.radius,2):null,i.resize(),i}return b(n,[{key:"resize",value:function(){var t=this.options.distance;null!==t?(this.left=t,this.top=t,this.right=this.parent.worldScreenWidth-t,this.bottom=this.parent.worldScreenHeight-t):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=null===this.options.right?null:this.parent.worldScreenWidth-this.options.right,this.bottom=null===this.options.bottom?null:this.parent.worldScreenHeight-this.options.bottom)}},{key:"down",value:function(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}},{key:"move",value:function(t){if(this.paused)return!1;if("mouse"!==t.data.pointerType&&1!==t.data.identifier||!this.options.allowButtons&&0!==t.data.buttons)return!1;var e=t.data.global.x,n=t.data.global.y;if(this.radiusSquared){var i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-e,2)+Math.pow(i.y-n,2)>=this.radiusSquared){var r=Math.atan2(i.y-n,i.x-e);this.options.linear?(this.horizontal=Math.round(Math.cos(r))*this.options.speed*this.reverse*.06,this.vertical=Math.round(Math.sin(r))*this.options.speed*this.reverse*.06):(this.horizontal=Math.cos(r)*this.options.speed*this.reverse*.06,this.vertical=Math.sin(r)*this.options.speed*this.reverse*.06)}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else null!==this.left&&e<this.left?this.horizontal=Number(this.reverse)*this.options.speed*.06:null!==this.right&&e>this.right?this.horizontal=-1*this.reverse*this.options.speed*.06:(this.decelerateHorizontal(),this.horizontal=0),null!==this.top&&n<this.top?this.vertical=Number(this.reverse)*this.options.speed*.06:null!==this.bottom&&n>this.bottom?this.vertical=-1*this.reverse*this.options.speed*.06:(this.decelerateVertical(),this.vertical=0);return!1}},{key:"decelerateHorizontal",value:function(){var t=this.parent.plugins.get("decelerate",!0);this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}},{key:"decelerateVertical",value:function(){var t=this.parent.plugins.get("decelerate",!0);this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}},{key:"up",value:function(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}},{key:"update",value:function(){if(!this.paused&&(this.horizontal||this.vertical)){var t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}]),n}(x),X={noDrag:!1,percent:1,center:null,factor:1,axis:"all"},Y=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,n),i=e.call(this,t),n.prototype.__init.call(_(i)),n.prototype.__init2.call(_(i)),n.prototype.__init3.call(_(i)),i.options=Object.assign({},X,r),i}return b(n,[{key:"__init",value:function(){this.active=!1}},{key:"__init2",value:function(){this.pinching=!1}},{key:"__init3",value:function(){this.moved=!1}},{key:"down",value:function(){return this.parent.input.count()>=2&&(this.active=!0,!0)}},{key:"isAxisX",value:function(){return["all","x"].includes(this.options.axis)}},{key:"isAxisY",value:function(){return["all","y"].includes(this.options.axis)}},{key:"move",value:function(t){if(this.paused||!this.active)return!1;var e=t.data.global.x,n=t.data.global.y,i=this.parent.input.touches;if(i.length>=2){var r=i[0],a=i[1],o=r.last&&a.last?Math.sqrt(Math.pow(a.last.x-r.last.x,2)+Math.pow(a.last.y-r.last.y,2)):null;if(r.id===t.data.pointerId?r.last={x:e,y:n,data:t.data}:a.id===t.data.pointerId&&(a.last={x:e,y:n,data:t.data}),o){var s,u={x:r.last.x+(a.last.x-r.last.x)/2,y:r.last.y+(a.last.y-r.last.y)/2};this.options.center||(s=this.parent.toLocal(u));var l=Math.sqrt(Math.pow(a.last.x-r.last.x,2)+Math.pow(a.last.y-r.last.y,2)),h=(1-o/(l=0===l?l=1e-10:l))*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=h),this.isAxisY()&&(this.parent.scale.y+=h),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:u});var c=this.parent.plugins.get("clamp-zoom",!0);if(c&&c.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var f=this.parent.toGlobal(s);this.parent.x+=(u.x-f.x)*this.options.factor,this.parent.y+=(u.y-f.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(u.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(u.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=u,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}},{key:"up",value:function(){return!!(this.pinching&&this.parent.input.touches.length<=1)&&(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0)}}]),n}(x),j={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1},G=function(t){f(n,t);var e=p(n);function n(t,i,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return y(this,n),(a=e.call(this,t)).options=Object.assign({},j,o),a.ease=w(o.ease,"easeInOutSine"),a.x=i,a.y=r,a.options.forceStart&&a.snapStart(),a}return b(n,[{key:"snapStart",value:function(){this.percent=0,this.snapping={time:0};var t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit("snap-start",this.parent)}},{key:"wheel",value:function(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}},{key:"down",value:function(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}},{key:"up",value:function(){if(0===this.parent.input.count()){var t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}return!1}},{key:"update",value:function(t){if(!(this.paused||this.options.interrupt&&0!==this.parent.input.count()))if(this.snapping){var e,n,i,r=this.snapping;r.time+=t;var a=this.startX,o=this.startY,s=this.deltaX,u=this.deltaY;if(r.time>this.options.time)e=!0,n=a+s,i=o+u;else{var l=this.ease(r.time,0,1,this.options.time);n=a+s*l,i=o+u*l}this.options.topLeft?this.parent.moveCorner(n,i):this.parent.moveCenter(n,i),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),e&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{var h=this.options.topLeft?this.parent.corner:this.parent.center;h.x===this.x&&h.y===this.y||this.snapStart()}}}]),n}(x),H={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1},W=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,n),(i=e.call(this,t)).options=Object.assign({},H,r),i.ease=w(i.options.ease),i.xIndependent=!1,i.yIndependent=!1,i.xScale=0,i.yScale=0,i.options.width>0&&(i.xScale=t.screenWidth/i.options.width,i.xIndependent=!0),i.options.height>0&&(i.yScale=t.screenHeight/i.options.height,i.yIndependent=!0),i.xScale=i.xIndependent?i.xScale:i.yScale,i.yScale=i.yIndependent?i.yScale:i.xScale,0===i.options.time?(t.container.scale.x=i.xScale,t.container.scale.y=i.yScale,i.options.removeOnComplete&&i.parent.plugins.remove("snap-zoom")):r.forceStart&&i.createSnapping(),i}return b(n,[{key:"createSnapping",value:function(){var t=this.parent.worldScreenWidth,e=this.parent.worldScreenHeight,n=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:t,startY:e,deltaX:n-t,deltaY:i-e},this.parent.emit("snap-zoom-start",this.parent)}},{key:"resize",value:function(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}},{key:"wheel",value:function(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}},{key:"down",value:function(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}},{key:"update",value:function(t){var e;if(!this.paused&&(!this.options.interrupt||0===this.parent.input.count()))if(this.options.center||this.options.noMove||(e=this.parent.center),this.snapping){if(this.snapping){var n=this.snapping;if(n.time+=t,n.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{var i=this.snapping,r=this.ease(i.time,i.startX,i.deltaX,this.options.time),a=this.ease(i.time,i.startY,i.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/r,this.parent.scale.y=this.parent.screenHeight/a}var o=this.parent.plugins.get("clamp-zoom",!0);o&&o.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(e))}}else this.parent.scale.x===this.xScale&&this.parent.scale.y===this.yScale||this.createSnapping()}},{key:"resume",value:function(){this.snapping=null,l(m(n.prototype),"resume",this).call(this)}}]),n}(x),z={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all"},q=function(t){f(n,t);var e=p(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,n),(i=e.call(this,t)).options=Object.assign({},z,r),i}return b(n,[{key:"down",value:function(){return this.options.interrupt&&(this.smoothing=null),!1}},{key:"isAxisX",value:function(){return["all","x"].includes(this.options.axis)}},{key:"isAxisY",value:function(){return["all","y"].includes(this.options.axis)}},{key:"update",value:function(){if(this.smoothing){var t,e=this.smoothingCenter,n=this.smoothing;this.options.center||(t=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=n.x),this.isAxisY()&&(this.parent.scale.y+=n.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});var i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var r=this.parent.toGlobal(t);this.parent.x+=e.x-r.x,this.parent.y+=e.y-r.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}},{key:"wheel",value:function(t){if(!this.paused){var e=this.parent.input.getPointerPosition(t),n=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*n);if(this.options.smooth){var r={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+r.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+r.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=e}else{var a;this.options.center||(a=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});var o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{var s=this.parent.toGlobal(a);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}}return this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel",{wheel:{dx:t.deltaX,dy:t.deltaY,dz:t.deltaZ},event:t,viewport:this.parent}),!this.parent.options.passiveWheel||void 0}}}]),n}(x),Z=function(){function t(e){y(this,t),this.viewport=e,this.touches=[],this.addListeners()}return b(t,[{key:"addListeners",value:function(){var t=this;this.viewport.interactive=!0,this.viewport.forceHitArea||(this.viewport.hitArea=new r.Ae(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.on("pointerout",this.up,this),this.wheelFunction=function(e){return t.handleWheel(e)},this.viewport.options.divWheel.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}},{key:"destroy",value:function(){this.viewport.options.divWheel.removeEventListener("wheel",this.wheelFunction)}},{key:"down",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){if("mouse"===t.data.pointerType?this.isMouseDown=!0:this.get(t.data.pointerId)||this.touches.push({id:t.data.pointerId,last:null}),1===this.count()){this.last=t.data.global.clone();var e=this.viewport.plugins.get("decelerate",!0),n=this.viewport.plugins.get("bounce",!0);e&&e.isActive()||n&&n.isActive()?this.clickedAvailable=!1:this.clickedAvailable=!0}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:"clear",value:function(){this.isMouseDown=!1,this.touches=[],this.last=null}},{key:"checkThreshold",value:function(t){return Math.abs(t)>=this.viewport.threshold}},{key:"move",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){var e=this.viewport.plugins.move(t);if(this.clickedAvailable&&this.last){var n=t.data.global.x-this.last.x,i=t.data.global.y-this.last.y;(this.checkThreshold(n)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}e&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:"up",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible){"mouse"===t.data.pointerType&&(this.isMouseDown=!1),"mouse"!==t.data.pointerType&&this.remove(t.data.pointerId);var e=this.viewport.plugins.up(t);this.clickedAvailable&&0===this.count()&&this.last&&(this.viewport.emit("clicked",{event:t,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this}),this.clickedAvailable=!1),e&&this.viewport.options.stopPropagation&&t.stopPropagation()}}},{key:"getPointerPosition",value:function(t){var e=new r.E9;return this.viewport.options.interaction?this.viewport.options.interaction.mapPositionToPoint(e,t.clientX,t.clientY):(e.x=t.clientX,e.y=t.clientY),e}},{key:"handleWheel",value:function(t){if(!this.viewport.pause&&this.viewport.worldVisible&&(!this.viewport.options.interaction||this.viewport.options.interaction.interactionDOMElement===t.target)){var e=this.viewport.toLocal(this.getPointerPosition(t));if(this.viewport.left<=e.x&&e.x<=this.viewport.right&&this.viewport.top<=e.y&&e.y<=this.viewport.bottom)this.viewport.plugins.wheel(t)&&!this.viewport.options.passiveWheel&&t.preventDefault()}}},{key:"pause",value:function(){this.touches=[],this.isMouseDown=!1}},{key:"get",value:function(t){var e,n=h(this.touches);try{for(n.s();!(e=n.n()).done;){var i=e.value;if(i.id===t)return i}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"remove",value:function(t){for(var e=0;e<this.touches.length;e++)if(this.touches[e].id===t)return void this.touches.splice(e,1)}},{key:"count",value:function(){return(this.isMouseDown?1:0)+this.touches.length}}]),t}();function K(t){for(var e=void 0,n=t[0],i=1;i<t.length;){var r=t[i],a=t[i+1];if(i+=2,("optionalAccess"===r||"optionalCall"===r)&&null==n)return;"access"===r||"optionalAccess"===r?(e=n,n=a(n)):"call"!==r&&"optionalCall"!==r||(n=a((function(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(t=n).call.apply(t,[e].concat(r))})),e=void 0)}return n}var $=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"],Q=function(){function t(e){y(this,t),this.viewport=e,this.list=[],this.plugins={}}return b(t,[{key:"add",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$.length;this.plugins[t]=e;var i=$.indexOf(t);-1!==i&&$.splice(i,1),$.splice(n,0,t),this.sort()}},{key:"get",value:function(t,e){return e&&K([this,"access",function(t){return t.plugins},"access",function(e){return e[t]},"optionalAccess",function(t){return t.paused}])?null:this.plugins[t]}},{key:"update",value:function(t){var e,n=h(this.list);try{for(n.s();!(e=n.n()).done;){e.value.update(t)}}catch(t){n.e(t)}finally{n.f()}}},{key:"resize",value:function(){var t,e=h(this.list);try{for(e.s();!(t=e.n()).done;){t.value.resize()}}catch(t){e.e(t)}finally{e.f()}}},{key:"reset",value:function(){var t,e=h(this.list);try{for(e.s();!(t=e.n()).done;){t.value.reset()}}catch(t){e.e(t)}finally{e.f()}}},{key:"removeAll",value:function(){this.plugins={},this.sort()}},{key:"remove",value:function(t){this.plugins[t]&&(delete this.plugins[t],this.viewport.emit(`${t}-remove`),this.sort())}},{key:"pause",value:function(t){K([this,"access",function(t){return t.plugins},"access",function(e){return e[t]},"optionalAccess",function(t){return t.pause},"call",function(t){return t()}])}},{key:"resume",value:function(t){K([this,"access",function(t){return t.plugins},"access",function(e){return e[t]},"optionalAccess",function(t){return t.resume},"call",function(t){return t()}])}},{key:"sort",value:function(){this.list=[];var t,e=h($);try{for(e.s();!(t=e.n()).done;){var n=t.value;this.plugins[n]&&this.list.push(this.plugins[n])}}catch(t){e.e(t)}finally{e.f()}}},{key:"down",value:function(t){var e,n=!1,i=h(this.list);try{for(i.s();!(e=i.n()).done;){e.value.down(t)&&(n=!0)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"move",value:function(t){var e,n=!1,i=h(this.viewport.plugins.list);try{for(i.s();!(e=i.n()).done;){e.value.move(t)&&(n=!0)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"up",value:function(t){var e,n=!1,i=h(this.list);try{for(i.s();!(e=i.n()).done;){e.value.up(t)&&(n=!0)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"wheel",value:function(t){var e,n=!1,i=h(this.list);try{for(i.s();!(e=i.n()).done;){e.value.wheel(t)&&(n=!0)}}catch(t){i.e(t)}finally{i.f()}return n}}]),t}(),J={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,interaction:null,disableOnContextMenu:!1,ticker:u.vB.shared},tt=function(t){f(n,t);var e=p(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(this,n),(t=e.call(this)).options=Object.assign({},{divWheel:document.body},J,i),t.screenWidth=t.options.screenWidth,t.screenHeight=t.options.screenHeight,t._worldWidth=t.options.worldWidth,t._worldHeight=t.options.worldHeight,t.forceHitArea=t.options.forceHitArea,t.threshold=t.options.threshold,t.options.divWheel=t.options.divWheel||document.body,t.options.disableOnContextMenu&&(t.options.divWheel.oncontextmenu=function(t){return t.preventDefault()}),t.options.noTicker||(t.tickerFunction=function(){return t.update(t.options.ticker.elapsedMS)},t.options.ticker.add(t.tickerFunction)),t.input=new Z(_(t)),t.plugins=new Q(_(t)),t}return b(n,[{key:"destroy",value:function(t){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.input.destroy(),l(m(n.prototype),"destroy",this).call(this,t)}},{key:"update",value:function(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new r.Ae(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}},{key:"resize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.innerWidth,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;this.screenWidth=t,this.screenHeight=e,void 0!==n&&(this._worldWidth=n),void 0!==i&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}},{key:"worldWidth",get:function(){return this._worldWidth?this._worldWidth:this.width/this.scale.x},set:function(t){this._worldWidth=t,this.plugins.resize()}},{key:"worldHeight",get:function(){return this._worldHeight?this._worldHeight:this.height/this.scale.y},set:function(t){this._worldHeight=t,this.plugins.resize()}},{key:"getVisibleBounds",value:function(){return new r.Ae(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}},{key:"toWorld",value:function(t,e){return 2===arguments.length?this.toLocal(new r.E9(t,e)):this.toLocal(t)}},{key:"toScreen",value:function(t,e){return 2===arguments.length?this.toGlobal(new r.E9(t,e)):this.toGlobal(t)}},{key:"worldScreenWidth",get:function(){return this.screenWidth/this.scale.x}},{key:"worldScreenHeight",get:function(){return this.screenHeight/this.scale.y}},{key:"screenWorldWidth",get:function(){return this.worldWidth*this.scale.x}},{key:"screenWorldHeight",get:function(){return this.worldHeight*this.scale.y}},{key:"center",get:function(){return new r.E9(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)},set:function(t){this.moveCenter(t)}},{key:"moveCenter",value:function(){for(var t,e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];"number"==typeof i[0]?(t=i[0],e=i[1]):(t=i[0].x,e=i[0].y);var a=(this.worldScreenWidth/2-t)*this.scale.x,o=(this.worldScreenHeight/2-e)*this.scale.y;return this.x===a&&this.y===o||(this.position.set(a,o),this.plugins.reset(),this.dirty=!0),this}},{key:"corner",get:function(){return new r.E9(-this.x/this.scale.x,-this.y/this.scale.y)},set:function(t){this.moveCorner(t)}},{key:"moveCorner",value:function(){for(var t,e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return 1===i.length?(t=-i[0].x*this.scale.x,e=-i[0].y*this.scale.y):(t=-i[0]*this.scale.x,e=-i[1]*this.scale.y),t===this.x&&e===this.y||(this.position.set(t,e),this.plugins.reset(),this.dirty=!0),this}},{key:"screenWidthInWorldPixels",get:function(){return this.screenWidth/this.scale.x}},{key:"screenHeightInWorldPixels",get:function(){return this.screenHeight/this.scale.y}},{key:"findFitWidth",value:function(t){return this.screenWidth/t}},{key:"findFitHeight",value:function(t){return this.screenHeight/t}},{key:"findFit",value:function(t,e){var n=this.screenWidth/t,i=this.screenHeight/e;return Math.min(n,i)}},{key:"findCover",value:function(t,e){var n=this.screenWidth/t,i=this.screenHeight/e;return Math.max(n,i)}},{key:"fitWidth",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.worldWidth,n=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;n&&(t=this.center),this.scale.x=this.screenWidth/e,i&&(this.scale.y=this.scale.x);var a=this.plugins.get("clamp-zoom",!0);return!r&&a&&a.clamp(),n&&t&&this.moveCenter(t),this}},{key:"fitHeight",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.worldHeight,n=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;n&&(t=this.center),this.scale.y=this.screenHeight/e,i&&(this.scale.x=this.scale.y);var a=this.plugins.get("clamp-zoom",!0);return!r&&a&&a.clamp(),n&&t&&this.moveCenter(t),this}},{key:"fitWorld",value:function(t){var e;t&&(e=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;var n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),t&&e&&this.moveCenter(e),this}},{key:"fit",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.worldWidth,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.worldHeight;t&&(e=this.center),this.scale.x=this.screenWidth/n,this.scale.y=this.screenHeight/i,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;var r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),t&&e&&this.moveCenter(e),this}},{key:"setZoom",value:function(t,e){var n;e&&(n=this.center),this.scale.set(t);var i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),e&&n&&this.moveCenter(n),this}},{key:"zoomPercent",value:function(t,e){return this.setZoom(this.scale.x+this.scale.x*t,e)}},{key:"zoom",value:function(t,e){return this.fitWidth(t+this.worldScreenWidth,e),this}},{key:"scaled",get:function(){return this.scale.x},set:function(t){this.setZoom(t,!0)}},{key:"snapZoom",value:function(t){return this.plugins.add("snap-zoom",new W(this,t)),this}},{key:"OOB",value:function(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new r.E9(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}},{key:"right",get:function(){return-this.x/this.scale.x+this.worldScreenWidth},set:function(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}},{key:"left",get:function(){return-this.x/this.scale.x},set:function(t){this.x=-t*this.scale.x,this.plugins.reset()}},{key:"top",get:function(){return-this.y/this.scale.y},set:function(t){this.y=-t*this.scale.y,this.plugins.reset()}},{key:"bottom",get:function(){return-this.y/this.scale.y+this.worldScreenHeight},set:function(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}},{key:"dirty",get:function(){return!!this._dirty},set:function(t){this._dirty=t}},{key:"forceHitArea",get:function(){return this._forceHitArea},set:function(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new r.Ae(0,0,this.worldWidth,this.worldHeight))}},{key:"drag",value:function(t){return this.plugins.add("drag",new L(this,t)),this}},{key:"clamp",value:function(t){return this.plugins.add("clamp",new I(this,t)),this}},{key:"decelerate",value:function(t){return this.plugins.add("decelerate",new D(this,t)),this}},{key:"bounce",value:function(t){return this.plugins.add("bounce",new A(this,t)),this}},{key:"pinch",value:function(t){return this.plugins.add("pinch",new Y(this,t)),this}},{key:"snap",value:function(t,e,n){return this.plugins.add("snap",new G(this,t,e,n)),this}},{key:"follow",value:function(t,e){return this.plugins.add("follow",new B(this,t,e)),this}},{key:"wheel",value:function(t){return this.plugins.add("wheel",new q(this,t)),this}},{key:"animate",value:function(t){return this.plugins.add("animate",new S(this,t)),this}},{key:"clampZoom",value:function(t){return this.plugins.add("clamp-zoom",new P(this,t)),this}},{key:"mouseEdges",value:function(t){return this.plugins.add("mouse-edges",new U(this,t)),this}},{key:"pause",get:function(){return!!this._pause},set:function(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}},{key:"ensureVisible",value:function(t,e,n,i,r){r&&(n>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,n,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));var a=!1;t<this.left?(this.left=t,a=!0):t+n>this.right&&(this.right=t+n,a=!0),e<this.top?(this.top=e,a=!0):e+i>this.bottom&&(this.bottom=e+i,a=!0),a&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}]),n}(s.W2);function et(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function it(t,e){return(it=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=st(t);if(e){var r=st(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return at(this,n)}}function at(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?ot(t):e}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function st(t){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};var lt,ht=(function(t,e){(function(){var e,n;n=e={linear:function(t,e,n,i){return n*t/i+e},easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,n,i){return t===i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,n,i){return(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,i){var r,a,o;return o=1.70158,0===t||(t/=i),(a=0)||(a=.3*i),(r=n)<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)+e},easeOutElastic:function(t,e,n,i){var r,a,o;return o=1.70158,0===t||(t/=i),(a=0)||(a=.3*i),(r=n)<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*i-o)*(2*Math.PI)/a)+n+e},easeInOutElastic:function(t,e,n,i){var r,a,o;return o=1.70158,0===t||(t/=i/2),(a=0)||(a=i*(.3*1.5)),(r=n)<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*.5+n+e},easeInBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:function(t,n,i,r){return i-e.easeOutBounce(r-t,0,i,r)+n},easeOutBounce:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,n,i,r){return t<r/2?.5*e.easeInBounce(2*t,0,i,r)+n:.5*e.easeOutBounce(2*t-r,0,i,r)+.5*i+n}},t.exports=n}).call(ut)}(lt={exports:{}},lt.exports),lt.exports),ct={boxWidth:100,boxHeight:100,scrollbarSize:10,scrollbarBackground:14540253,scrollbarBackgroundAlpha:1,scrollbarForeground:8947848,scrollbarForegroundAlpha:1,dragScroll:!0,stopPropagation:!0,scrollbarOffsetHorizontal:0,scrollbarOffsetVertical:0,underflow:"top-left",fadeScrollbar:!1,fadeScrollbarTime:1e3,fadeScrollboxWait:3e3,fadeScrollboxEase:"easeInOutSine",passiveWheel:!1,clampWheel:!0},ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&it(t,e)}(o,t);var e,n,r,a=rt(o);function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(et(this,o),(t=a.call(this)).options=Object.assign({},ct,e),e.overflow&&(t.options.overflowX=t.options.overflowY=e.overflow),t.ease="function"==typeof t.options.fadeScrollboxEase?t.options.fadeScrollboxEase:ht[t.options.fadeScrollboxEase],t.content=t.addChild(new tt({passiveWheel:!1,stopPropagation:t.options.stopPropagation,screenWidth:t.options.boxWidth,screenHeight:t.options.boxHeight,interaction:t.options.interaction,divWheel:t.options.divWheel})),t.content.decelerate().on("moved",(function(){return t._drawScrollbars()})),e.ticker)t.options.ticker=e.ticker;else{var n,r=i;n=parseInt(/^(\d+)\./.exec(i.VERSION)[1])<5?r.ticker.shared:r.Ticker.shared,t.options.ticker=e.ticker||n}return t.scrollbar=t.addChild(new i.Graphics),t.scrollbar.interactive=!0,t.scrollbar.on("pointerdown",t.scrollbarDown,ot(t)),t.interactive=!0,t.on("pointermove",t.scrollbarMove,ot(t)),t.on("pointerup",t.scrollbarUp,ot(t)),t.on("pointercancel",t.scrollbarUp,ot(t)),t.on("pointerupoutside",t.scrollbarUp,ot(t)),t._maskContent=t.addChild(new i.Graphics),t.update(),t.options.noTicker||(t.tickerFunction=function(){return t.updateLoop(Math.min(t.options.ticker.elapsedMS,16.6667))},t.options.ticker.add(t.tickerFunction)),t}return e=o,(n=[{key:"scrollbarOffsetHorizontal",get:function(){return this.options.scrollbarOffsetHorizontal},set:function(t){this.options.scrollbarOffsetHorizontal=t}},{key:"scrollbarOffsetVertical",get:function(){return this.options.scrollbarOffsetVertical},set:function(t){this.options.scrollbarOffsetVertical=t}},{key:"disable",get:function(){return this._disabled},set:function(t){this._disabled!==t&&(this._disabled=t,this.update())}},{key:"stopPropagation",get:function(){return this.options.stopPropagation},set:function(t){this.options.stopPropagation=t}},{key:"dragScroll",get:function(){return this.options.dragScroll},set:function(t){this.options.dragScroll=t,t?this.content.drag():void 0!==this.content.removePlugin?this.content.removePlugin("drag"):this.content.plugins.remove("drag"),this.update()}},{key:"boxWidth",get:function(){return this.options.boxWidth},set:function(t){this.options.boxWidth=t,this.content.screenWidth=t,this.update()}},{key:"overflow",get:function(){return this.options.overflow},set:function(t){this.options.overflow=t,this.options.overflowX=t,this.options.overflowY=t,this.update()}},{key:"overflowX",get:function(){return this.options.overflowX},set:function(t){this.options.overflowX=t,this.update()}},{key:"overflowY",get:function(){return this.options.overflowY},set:function(t){this.options.overflowY=t,this.update()}},{key:"boxHeight",get:function(){return this.options.boxHeight},set:function(t){this.options.boxHeight=t,this.content.screenHeight=t,this.update()}},{key:"scrollbarSize",get:function(){return this.options.scrollbarSize},set:function(t){this.options.scrollbarSize=t}},{key:"contentWidth",get:function(){return this.options.boxWidth-(this.isScrollbarVertical?this.options.scrollbarSize:0)}},{key:"contentHeight",get:function(){return this.options.boxHeight-(this.isScrollbarHorizontal?this.options.scrollbarSize:0)}},{key:"isScrollbarVertical",get:function(){return this._isScrollbarVertical}},{key:"isScrollbarHorizontal",get:function(){return this._isScrollbarHorizontal}},{key:"scrollTop",get:function(){return this.content.top},set:function(t){this.content.top=t,this._drawScrollbars()}},{key:"scrollLeft",get:function(){return this.content.left},set:function(t){this.content.left=t,this._drawScrollbars()}},{key:"scrollWidth",get:function(){return this._scrollWidth||this.content.width},set:function(t){this._scrollWidth=t}},{key:"scrollHeight",get:function(){return this._scrollHeight||this.content.height},set:function(t){this._scrollHeight=t}},{key:"_drawScrollbars",value:function(){this._isScrollbarHorizontal="scroll"===this.overflowX||-1===["hidden","none"].indexOf(this.overflowX)&&this.scrollWidth>this.options.boxWidth,this._isScrollbarVertical="scroll"===this.overflowY||-1===["hidden","none"].indexOf(this.overflowY)&&this.scrollHeight>this.options.boxHeight,this.scrollbar.clear(),this.scrollWidth,this._isScrollbarVertical&&this.options.scrollbarSize,this.scrollHeight,this.isScrollbarHorizontal&&this.options.scrollbarSize;var t=this.scrollWidth+(this.isScrollbarVertical?this.options.scrollbarSize:0),e=this.scrollHeight+(this.isScrollbarHorizontal?this.options.scrollbarSize:0);this.scrollbarTop=this.content.top/e*this.boxHeight,this.scrollbarTop=this.scrollbarTop<0?0:this.scrollbarTop,this.scrollbarHeight=this.boxHeight/e*this.boxHeight,this.scrollbarHeight=this.scrollbarTop+this.scrollbarHeight>this.boxHeight?this.boxHeight-this.scrollbarTop:this.scrollbarHeight,this.scrollbarLeft=this.content.left/t*this.boxWidth,this.scrollbarLeft=this.scrollbarLeft<0?0:this.scrollbarLeft,this.scrollbarWidth=this.boxWidth/t*this.boxWidth,this.scrollbarWidth=this.scrollbarWidth+this.scrollbarLeft>this.boxWidth?this.boxWidth-this.scrollbarLeft:this.scrollbarWidth,this.isScrollbarVertical&&this.scrollbar.beginFill(this.options.scrollbarBackground,this.options.scrollbarBackgroundAlpha).drawRect(this.boxWidth-this.scrollbarSize+this.options.scrollbarOffsetVertical,0,this.scrollbarSize,this.boxHeight).endFill(),this.isScrollbarHorizontal&&this.scrollbar.beginFill(this.options.scrollbarBackground,this.options.scrollbarBackgroundAlpha).drawRect(0,this.boxHeight-this.scrollbarSize+this.options.scrollbarOffsetHorizontal,this.boxWidth,this.scrollbarSize).endFill(),this.isScrollbarVertical&&this.scrollbar.beginFill(this.options.scrollbarForeground,this.options.scrollbarForegroundAlpha).drawRect(this.boxWidth-this.scrollbarSize+this.options.scrollbarOffsetVertical,this.scrollbarTop,this.scrollbarSize,this.scrollbarHeight).endFill(),this.isScrollbarHorizontal&&this.scrollbar.beginFill(this.options.scrollbarForeground,this.options.scrollbarForegroundAlpha).drawRect(this.scrollbarLeft,this.boxHeight-this.scrollbarSize+this.options.scrollbarOffsetHorizontal,this.scrollbarWidth,this.scrollbarSize).endFill(),this.activateFade()}},{key:"_drawMask",value:function(){this._maskContent.beginFill(0).drawRect(0,0,this.boxWidth,this.boxHeight).endFill(),this.content.mask=this._maskContent}},{key:"update",value:function(){if(this.content.mask=null,this._maskContent.clear(),!this._disabled){this._drawScrollbars(),this._drawMask();var t=this.isScrollbarHorizontal&&this.isScrollbarVertical?"all":this.isScrollbarHorizontal?"x":"y";null!==t&&(this.options.dragScroll&&this.content.drag({clampWheel:this.options.clampWheel,direction:t}),this.content.clamp({direction:t,underflow:this.options.underflow}))}}},{key:"updateLoop",value:function(t){if(this.fade){if(this.fade.wait>0){if(this.fade.wait-=t,!(this.fade.wait<=0))return;t+=this.fade.wait}this.fade.duration+=t,this.fade.duration>=this.options.fadeScrollbarTime?(this.fade=null,this.scrollbar.alpha=0):this.scrollbar.alpha=this.ease(this.fade.duration,1,-1,this.options.fadeScrollbarTime),this.content.dirty=!0}}},{key:"dirty",get:function(){return this.content.dirty},set:function(t){this.content.dirty=t}},{key:"activateFade",value:function(){!this.fade&&this.options.fade&&(this.scrollbar.alpha=1,this.fade={wait:this.options.fadeScrollboxWait,duration:0})}},{key:"scrollbarDown",value:function(t){var e=this.toLocal(t.data.global);return this.isScrollbarHorizontal&&e.y>this.boxHeight-this.scrollbarSize?(e.x>=this.scrollbarLeft&&e.x<=this.scrollbarLeft+this.scrollbarWidth?this.pointerDown={type:"horizontal",last:e}:e.x>this.scrollbarLeft?(this.content.left+=this.content.worldScreenWidth,this.update()):(this.content.left-=this.content.worldScreenWidth,this.update()),void(this.options.stopPropagation&&t.stopPropagation())):this.isScrollbarVertical&&e.x>this.boxWidth-this.scrollbarSize?(e.y>=this.scrollbarTop&&e.y<=this.scrollbarTop+this.scrollbarWidth?this.pointerDown={type:"vertical",last:e}:e.y>this.scrollbarTop?(this.content.top+=this.content.worldScreenHeight,this.update()):(this.content.top-=this.content.worldScreenHeight,this.update()),void(this.options.stopPropagation&&t.stopPropagation())):void 0}},{key:"scrollbarMove",value:function(t){if(this.pointerDown){if("horizontal"===this.pointerDown.type){var e=this.toLocal(t.data.global),n=this.scrollWidth+(this.isScrollbarVertical?this.options.scrollbarSize:0);this.scrollbarLeft+=e.x-this.pointerDown.last.x,this.content.left=this.scrollbarLeft/this.boxWidth*n,this.pointerDown.last=e,this.update()}else if("vertical"===this.pointerDown.type){var i=this.toLocal(t.data.global),r=this.scrollHeight+(this.isScrollbarHorizontal?this.options.scrollbarSize:0);this.scrollbarTop+=i.y-this.pointerDown.last.y,this.content.top=this.scrollbarTop/this.boxHeight*r,this.pointerDown.last=i,this.update()}this.options.stopPropagation&&t.stopPropagation()}}},{key:"scrollbarUp",value:function(){this.pointerDown=null}},{key:"resize",value:function(t){this.options.boxWidth=void 0!==t.boxWidth?t.boxWidth:this.options.boxWidth,this.options.boxHeight=void 0!==t.boxHeight?t.boxHeight:this.options.boxHeight,t.scrollWidth&&(this.scrollWidth=t.scrollWidth),t.scrollHeight&&(this.scrollHeight=t.scrollHeight),this.content.resize(this.options.boxWidth,this.options.boxHeight,this.scrollWidth,this.scrollHeight),this.update()}},{key:"ensureVisible",value:function(t,e,n,i){this.content.ensureVisible(t,e,n,i),this._drawScrollbars()}}])&&nt(e.prototype,n),r&&nt(e,r),o}(i.Container)},1987:function(t,e,n){"use strict";n.r(e),n.d(e,{Animation:function(){return It},AnimationState:function(){return zt},AnimationStateAdapter:function(){return $t},AnimationStateData:function(){return Qt},AtlasAttachmentLoader:function(){return te},Attachment:function(){return _t},AttachmentTimeline:function(){return Ft},AttachmentType:function(){return o},BinaryInput:function(){return R},Bone:function(){return ae},BoneData:function(){return ee},BoundingBoxAttachment:function(){return yt},ClippingAttachment:function(){return gt},Color:function(){return Y},ColorTimeline:function(){return Nt},ConstraintData:function(){return oe},CurveTimeline:function(){return Ct},DebugUtils:function(){return q},DeformTimeline:function(){return Vt},DrawOrderTimeline:function(){return Xt},Event:function(){return se},EventData:function(){return ue},EventQueue:function(){return Kt},EventTimeline:function(){return Ut},EventType:function(){return Zt},IkConstraint:function(){return le},IkConstraintData:function(){return he},IkConstraintTimeline:function(){return Yt},IntSet:function(){return U},Interpolation:function(){return G},JitterEffect:function(){return St},MathUtils:function(){return j},MeshAttachment:function(){return bt},MixBlend:function(){return Tt},MixDirection:function(){return At},PathAttachment:function(){return xt},PathConstraint:function(){return fe},PathConstraintData:function(){return ce},PathConstraintMixTimeline:function(){return Wt},PathConstraintPositionTimeline:function(){return Gt},PathConstraintSpacingTimeline:function(){return Ht},PointAttachment:function(){return wt},Pool:function(){return Z},PositionMode:function(){return ne},Pow:function(){return H},PowOut:function(){return W},RegionAttachment:function(){return Et},RotateMode:function(){return re},RotateTimeline:function(){return Pt},ScaleTimeline:function(){return Ot},ShearTimeline:function(){return Dt},Skeleton:function(){return ve},SkeletonBinary:function(){return xe},SkeletonBounds:function(){return Se},SkeletonData:function(){return _e},SkeletonJson:function(){return ke},Skin:function(){return be},SkinEntry:function(){return ge},Slot:function(){return de},SlotData:function(){return me},SpacingMode:function(){return ie},Spine:function(){return Fr},SpineBase:function(){return it},SpineMesh:function(){return nt},SpineParser:function(){return Lr},SpineSprite:function(){return et},StringSet:function(){return X},SwirlEffect:function(){return kt},TextureAtlas:function(){return D},TextureAtlasPage:function(){return L},TextureAtlasRegion:function(){return F},TextureFilter:function(){return T},TextureRegion:function(){return M},TextureWrap:function(){return A},TimeKeeper:function(){return $},TimelineType:function(){return Rt},TrackEntry:function(){return qt},TransformConstraint:function(){return pe},TransformConstraintData:function(){return ye},TransformConstraintTimeline:function(){return jt},TransformMode:function(){return Jt},TranslateTimeline:function(){return Mt},TwoColorTimeline:function(){return Lt},Utils:function(){return z},Vector2:function(){return K},VertexAttachment:function(){return mt},WindowedMean:function(){return Q},filterFromString:function(){return I},settings:function(){return J},wrapFromString:function(){return C}});var i={};n.r(i),n.d(i,{Animation:function(){return It},AnimationState:function(){return zt},AnimationStateAdapter:function(){return $t},AnimationStateData:function(){return Qt},AtlasAttachmentLoader:function(){return te},Attachment:function(){return _t},AttachmentTimeline:function(){return Ft},Bone:function(){return ae},BoneData:function(){return ee},BoundingBoxAttachment:function(){return yt},ClippingAttachment:function(){return gt},ColorTimeline:function(){return Nt},ConstraintData:function(){return oe},CurveTimeline:function(){return Ct},DeformTimeline:function(){return Vt},DrawOrderTimeline:function(){return Xt},Event:function(){return se},EventData:function(){return ue},EventQueue:function(){return Kt},EventTimeline:function(){return Ut},EventType:function(){return Zt},IkConstraint:function(){return le},IkConstraintData:function(){return he},IkConstraintTimeline:function(){return Yt},JitterEffect:function(){return St},MeshAttachment:function(){return bt},MixBlend:function(){return Tt},MixDirection:function(){return At},PathAttachment:function(){return xt},PathConstraint:function(){return fe},PathConstraintData:function(){return ce},PathConstraintMixTimeline:function(){return Wt},PathConstraintPositionTimeline:function(){return Gt},PathConstraintSpacingTimeline:function(){return Ht},PointAttachment:function(){return wt},PositionMode:function(){return ne},RegionAttachment:function(){return Et},RotateMode:function(){return re},RotateTimeline:function(){return Pt},ScaleTimeline:function(){return Ot},ShearTimeline:function(){return Dt},Skeleton:function(){return ve},SkeletonBinary:function(){return xe},SkeletonBounds:function(){return Se},SkeletonData:function(){return _e},SkeletonJson:function(){return ke},Skin:function(){return be},SkinEntry:function(){return ge},Slot:function(){return de},SlotData:function(){return me},SpacingMode:function(){return ie},Spine:function(){return Ae},SwirlEffect:function(){return kt},TimelineType:function(){return Rt},TrackEntry:function(){return qt},TransformConstraint:function(){return pe},TransformConstraintData:function(){return ye},TransformConstraintTimeline:function(){return jt},TransformMode:function(){return Jt},TranslateTimeline:function(){return Mt},TwoColorTimeline:function(){return Lt},VertexAttachment:function(){return mt}});var r={};n.r(r),n.d(r,{Animation:function(){return Ke},AnimationState:function(){return vn},AnimationStateAdapter2:function(){return gn},AnimationStateData:function(){return bn},AtlasAttachmentLoader:function(){return wn},Attachment:function(){return Fe},AttachmentTimeline:function(){return an},Bone:function(){return An},BoneData:function(){return En},BoundingBoxAttachment:function(){return Ve},ClippingAttachment:function(){return Ue},ColorTimeline:function(){return nn},CurveTimeline:function(){return $e},DeformTimeline:function(){return sn},DrawOrderTimeline:function(){return ln},Event:function(){return Rn},EventData:function(){return In},EventQueue:function(){return yn},EventTimeline:function(){return un},EventType:function(){return mn},IkConstraint:function(){return Cn},IkConstraintData:function(){return Pn},IkConstraintTimeline:function(){return hn},JitterEffect:function(){return He},MeshAttachment:function(){return Xe},MixBlend:function(){return ze},MixDirection:function(){return qe},PathAttachment:function(){return Ye},PathConstraint:function(){return On},PathConstraintData:function(){return Mn},PathConstraintMixTimeline:function(){return pn},PathConstraintPositionTimeline:function(){return fn},PathConstraintSpacingTimeline:function(){return dn},PointAttachment:function(){return je},PositionMode:function(){return Sn},RegionAttachment:function(){return Ge},RotateMode:function(){return Tn},RotateTimeline:function(){return Qe},ScaleTimeline:function(){return tn},ShearTimeline:function(){return en},Skeleton:function(){return Ln},SkeletonBounds:function(){return Fn},SkeletonData:function(){return Bn},SkeletonJson:function(){return Yn},Skin:function(){return Xn},Slot:function(){return Dn},SlotData:function(){return Vn},SpacingMode:function(){return kn},Spine:function(){return Gn},SwirlEffect:function(){return We},TimelineType:function(){return Ze},TrackEntry:function(){return _n},TransformConstraint:function(){return Nn},TransformConstraintData:function(){return Un},TransformConstraintTimeline:function(){return cn},TransformMode:function(){return xn},TranslateTimeline:function(){return Je},TwoColorTimeline:function(){return rn},VertexAttachment:function(){return Be}});var a={};n.r(a),n.d(a,{AlphaTimeline:function(){return Ci},Animation:function(){return di},AnimationState:function(){return ji},AnimationStateAdapter:function(){return qi},AnimationStateData:function(){return Zi},AtlasAttachmentLoader:function(){return Ki},Attachment:function(){return ti},AttachmentTimeline:function(){return Oi},Bone:function(){return er},BoneData:function(){return $i},BoundingBoxAttachment:function(){return ni},ClippingAttachment:function(){return ii},ConstraintData:function(){return nr},CurveTimeline:function(){return vi},CurveTimeline1:function(){return _i},CurveTimeline2:function(){return mi},DeformTimeline:function(){return Ni},DrawOrderTimeline:function(){return Fi},Event:function(){return ir},EventData:function(){return rr},EventQueue:function(){return Wi},EventTimeline:function(){return Li},EventType:function(){return Hi},IkConstraint:function(){return ar},IkConstraintData:function(){return or},IkConstraintTimeline:function(){return Bi},JitterEffect:function(){return ui},MeshAttachment:function(){return ri},MixBlend:function(){return hi},MixDirection:function(){return ci},PathAttachment:function(){return ai},PathConstraint:function(){return ur},PathConstraintData:function(){return sr},PathConstraintMixTimeline:function(){return Yi},PathConstraintPositionTimeline:function(){return Ui},PathConstraintSpacingTimeline:function(){return Xi},PointAttachment:function(){return oi},PositionMode:function(){return Qi},Property:function(){return fi},RGB2Timeline:function(){return Mi},RGBA2Timeline:function(){return Pi},RGBATimeline:function(){return Ri},RGBTimeline:function(){return Ii},RegionAttachment:function(){return si},RotateMode:function(){return tr},RotateTimeline:function(){return yi},ScaleTimeline:function(){return wi},ScaleXTimeline:function(){return Ei},ScaleYTimeline:function(){return Si},ShearTimeline:function(){return ki},ShearXTimeline:function(){return Ti},ShearYTimeline:function(){return Ai},Skeleton:function(){return cr},SkeletonBinary:function(){return mr},SkeletonBounds:function(){return xr},SkeletonData:function(){return fr},SkeletonJson:function(){return wr},Skin:function(){return _r},SkinEntry:function(){return vr},Slot:function(){return lr},SlotData:function(){return dr},SpacingMode:function(){return Ji},Spine:function(){return Sr},SwirlEffect:function(){return li},Timeline:function(){return pi},TrackEntry:function(){return Gi},TransformConstraint:function(){return hr},TransformConstraintData:function(){return pr},TransformConstraintTimeline:function(){return Vi},TransformMode:function(){return zi},TranslateTimeline:function(){return gi},TranslateXTimeline:function(){return bi},TranslateYTimeline:function(){return xi},VertexAttachment:function(){return ei}});n(489),n(2419),n(8264),n(9575),n(1539),n(6992),n(2472),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016),n(2772),n(4986),n(5306);var o,s=n(1516),u=n(6448),l=(n(3948),n(3210),n(561),n(3123),n(4197),n(5109),n(2222),n(8255),n(7852),n(4819),n(5003),n(7397)),h=n(7274),c=n(6993),f=n(5009),d=n(3187),p=n(8215),v=n(6603);function _(t,e,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=w(t);if(e){var r=w(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return b(this,n)}}function b(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?x(t):e}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t,e,n){return e&&S(t.prototype,e),n&&S(t,n),t}!function(t){t[t.Region=0]="Region";t[t.BoundingBox=1]="BoundingBox";t[t.Mesh=2]="Mesh";t[t.LinkedMesh=3]="LinkedMesh";t[t.Path=4]="Path";t[t.Point=5]="Point";t[t.Clipping=6]="Clipping"}(o||(o={}));var T,A,R=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new DataView(e.buffer);E(this,t),this.strings=n,this.index=i,this.buffer=r}return k(t,[{key:"readByte",value:function(){return this.buffer.getInt8(this.index++)}},{key:"readUnsignedByte",value:function(){return this.buffer.getUint8(this.index++)}},{key:"readShort",value:function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t}},{key:"readInt32",value:function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t}},{key:"readInt",value:function(t){var e=this.readByte(),n=127&e;return 0!=(128&e)&&(n|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<28)))),t?n:n>>>1^-(1&n)}},{key:"readStringRef",value:function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]}},{key:"readString",value:function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var i=this.readByte();switch(i>>4){case 12:case 13:e+=String.fromCharCode((31&i)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&i)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(i),n++}}return e}},{key:"readFloat",value:function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t}},{key:"readBoolean",value:function(){return 0!=this.readByte()}}]),t}();function I(t){switch(t.toLowerCase()){case"nearest":return T.Nearest;case"linear":return T.Linear;case"mipmap":return T.MipMap;case"mipmapnearestnearest":return T.MipMapNearestNearest;case"mipmaplinearnearest":return T.MipMapLinearNearest;case"mipmapnearestlinear":return T.MipMapNearestLinear;case"mipmaplinearlinear":return T.MipMapLinearLinear;default:throw new Error(`Unknown texture filter ${t}`)}}function C(t){switch(t.toLowerCase()){case"mirroredtepeat":return A.MirroredRepeat;case"clamptoedge":return A.ClampToEdge;case"repeat":return A.Repeat;default:throw new Error(`Unknown texture wrap ${t}`)}}!function(t){t[t.Nearest=9728]="Nearest";t[t.Linear=9729]="Linear";t[t.MipMap=9987]="MipMap";t[t.MipMapNearestNearest=9984]="MipMapNearestNearest";t[t.MipMapLinearNearest=9985]="MipMapLinearNearest";t[t.MipMapNearestLinear=9986]="MipMapNearestLinear";t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(T||(T={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat";t[t.ClampToEdge=33071]="ClampToEdge";t[t.Repeat=10497]="Repeat"}(A||(A={}));var P,M=function(){function t(){E(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this)}return k(t,[{key:"__init",value:function(){this.size=null}},{key:"__init2",value:function(){this.names=null}},{key:"__init3",value:function(){this.values=null}},{key:"width",get:function(){var t=this.texture;return t.trim?t.trim.width:t.orig.width}},{key:"height",get:function(){var t=this.texture;return t.trim?t.trim.height:t.orig.height}},{key:"u",get:function(){return this.texture._uvs.x0}},{key:"v",get:function(){return this.texture._uvs.y0}},{key:"u2",get:function(){return this.texture._uvs.x2}},{key:"v2",get:function(){return this.texture._uvs.y2}},{key:"offsetX",get:function(){var t=this.texture;return t.trim?t.trim.x:0}},{key:"offsetY",get:function(){return this.spineOffsetY}},{key:"pixiOffsetY",get:function(){var t=this.texture;return t.trim?t.trim.y:0}},{key:"spineOffsetY",get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)}},{key:"originalWidth",get:function(){return this.texture.orig.width}},{key:"originalHeight",get:function(){return this.texture.orig.height}},{key:"x",get:function(){return this.texture.frame.x}},{key:"y",get:function(){return this.texture.frame.y}},{key:"rotate",get:function(){return 0!==this.texture.rotate}},{key:"degrees",get:function(){return(360-45*this.texture.rotate)%360}}]),t}(),O=function(){function t(){E(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this)}return k(t,[{key:"__init",value:function(){this.x=0}},{key:"__init2",value:function(){this.y=0}},{key:"__init3",value:function(){this.width=0}},{key:"__init4",value:function(){this.height=0}},{key:"__init5",value:function(){this.offsetX=0}},{key:"__init6",value:function(){this.offsetY=0}},{key:"__init7",value:function(){this.originalWidth=0}},{key:"__init8",value:function(){this.originalHeight=0}},{key:"__init9",value:function(){this.rotate=0}},{key:"__init10",value:function(){this.index=0}}]),t}(),D=function(){function t(e,n,i){E(this,t),t.prototype.__init11.call(this),t.prototype.__init12.call(this),e&&this.addSpineAtlas(e,n,i)}return k(t,[{key:"__init11",value:function(){this.pages=new Array}},{key:"__init12",value:function(){this.regions=new Array}},{key:"addTexture",value:function(t,e){for(var n=this.pages,i=null,r=0;r<n.length;r++)if(n[r].baseTexture===e.baseTexture){i=n[r];break}if(null===i){(i=new L).name="texturePage";var a=e.baseTexture;i.width=a.realWidth,i.height=a.realHeight,i.baseTexture=a,i.minFilter=i.magFilter=T.Nearest,i.uWrap=A.ClampToEdge,i.vWrap=A.ClampToEdge,n.push(i)}var o=new F;return o.name=t,o.page=i,o.texture=e,o.index=-1,this.regions.push(o),o}},{key:"addTextureHash",value:function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.addTexture(e&&-1!==n.indexOf(".")?n.substr(0,n.lastIndexOf(".")):n,t[n])}},{key:"addSpineAtlas",value:function(t,e,n){return this.load(t,e,n)}},{key:"load",value:function(t,e,n){var i=this;if(null==e)throw new Error("textureLoader cannot be null.");var r=new N(t),a=new Array(4),o=null,s={},c=null;s.size=function(){o.width=parseInt(a[1]),o.height=parseInt(a[2])},s.format=function(){},s.filter=function(){o.minFilter=I(a[1]),o.magFilter=I(a[2])},s.repeat=function(){-1!=a[1].indexOf("x")&&(o.uWrap=A.Repeat),-1!=a[1].indexOf("y")&&(o.vWrap=A.Repeat)},s.pma=function(){o.pma="true"==a[1]};for(var f={xy:function(){c.x=parseInt(a[1]),c.y=parseInt(a[2])},size:function(){c.width=parseInt(a[1]),c.height=parseInt(a[2])},bounds:function(){c.x=parseInt(a[1]),c.y=parseInt(a[2]),c.width=parseInt(a[3]),c.height=parseInt(a[4])},offset:function(){c.offsetX=parseInt(a[1]),c.offsetY=parseInt(a[2])},orig:function(){c.originalWidth=parseInt(a[1]),c.originalHeight=parseInt(a[2])},offsets:function(){c.offsetX=parseInt(a[1]),c.offsetY=parseInt(a[2]),c.originalWidth=parseInt(a[3]),c.originalHeight=parseInt(a[4])},rotate:function(){var t=a[1],e=0;e="true"==t.toLocaleLowerCase()?6:"false"==t.toLocaleLowerCase()?0:(720-parseFloat(t))%360/45,c.rotate=e},index:function(){c.index=parseInt(a[1])}},d=r.readLine();null!=d&&0==d.trim().length;)d=r.readLine();for(;null!=d&&0!=d.trim().length&&0!=r.readEntry(a,d);)d=r.readLine();!function t(){for(;;){if(null==d)return n&&n(i);if(0==d.trim().length)o=null,d=r.readLine();else{if(null===o){for((o=new L).name=d.trim();0!=r.readEntry(a,d=r.readLine());){var p=s[a[0]];p&&p()}i.pages.push(o),e(o.name,(function(e){if(null===e)return i.pages.splice(i.pages.indexOf(o),1),n&&n(null);o.baseTexture=e,o.pma&&(e.alphaMode=l.iw.PMA),e.valid||e.setSize(o.width,o.height),i.pages.push(o),o.setFilters(),o.width&&o.height||(o.width=e.realWidth,o.height=e.realHeight,!o.width||o.height),t()})),i.pages.push(o);break}c=new O;var v=new F;v.name=d,v.page=o;for(var _=null,m=null;;){var y=r.readEntry(a,d=r.readLine());if(0==y)break;var g=f[a[0]];if(g)g();else{null==_&&(_=[],m=[]),_.push(a[0]);for(var b=[],x=0;x<y;x++)b.push(parseInt(a[x+1]));m.push(b)}}0==c.originalWidth&&0==c.originalHeight&&(c.originalWidth=c.width,c.originalHeight=c.height);var w=o.baseTexture.resolution;c.x/=w,c.y/=w,c.width/=w,c.height/=w,c.originalWidth/=w,c.originalHeight/=w,c.offsetX/=w,c.offsetY/=w;var E=c.rotate%4!=0,S=new h.Ae(c.x,c.y,E?c.height:c.width,E?c.width:c.height),k=new h.Ae(0,0,c.originalWidth,c.originalHeight),T=new h.Ae(c.offsetX,c.originalHeight-c.height-c.offsetY,c.width,c.height);v.texture=new u.xE(v.page.baseTexture,S,k,T,c.rotate),v.index=c.index,v.texture.updateUvs(),i.regions.push(v)}}}()}},{key:"findRegion",value:function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null}},{key:"dispose",value:function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()}}]),t}(),N=function(){function t(e){E(this,t),t.prototype.__init13.call(this),this.lines=e.split(/\r\n|\r|\n/)}return k(t,[{key:"__init13",value:function(){this.index=0}},{key:"readLine",value:function(){return this.index>=this.lines.length?null:this.lines[this.index++]}},{key:"readEntry",value:function(t,e){if(null==e)return 0;if(0==(e=e.trim()).length)return 0;var n=e.indexOf(":");if(-1==n)return 0;t[0]=e.substr(0,n).trim();for(var i=1,r=n+1;;i++){var a=e.indexOf(",",r);if(-1==a)return t[i]=e.substr(r).trim(),i;if(t[i]=e.substr(r,a-r).trim(),r=a+1,4==i)return 4}}}]),t}(),L=function(){function t(){E(this,t),t.prototype.__init14.call(this),t.prototype.__init15.call(this),t.prototype.__init16.call(this),t.prototype.__init17.call(this)}return k(t,[{key:"__init14",value:function(){this.minFilter=T.Nearest}},{key:"__init15",value:function(){this.magFilter=T.Nearest}},{key:"__init16",value:function(){this.uWrap=A.ClampToEdge}},{key:"__init17",value:function(){this.vWrap=A.ClampToEdge}},{key:"setFilters",value:function(){var t=this.baseTexture,e=this.minFilter;e==T.Linear?t.scaleMode=l.aH.LINEAR:this.minFilter==T.Nearest?t.scaleMode=l.aH.NEAREST:(t.mipmap=l.WB.POW2,e==T.MipMapNearestNearest?t.scaleMode=l.aH.NEAREST:t.scaleMode=l.aH.LINEAR)}}]),t}(),F=function(t){m(n,t);var e=g(n);function n(){return E(this,n),e.apply(this,arguments)}return n}(M),B=(P=new Float32Array(1),function(t){return P[0]=t,P[0]}),V=Math.fround||B,U=function(){function t(){E(this,t),t.prototype.__init.call(this)}return k(t,[{key:"__init",value:function(){this.array=new Array}},{key:"add",value:function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e}},{key:"contains",value:function(t){return null!=this.array[0|t]}},{key:"remove",value:function(t){this.array[0|t]=void 0}},{key:"clear",value:function(){this.array.length=0}}]),t}(),X=function(){function t(){E(this,t),t.prototype.__init2.call(this),t.prototype.__init3.call(this)}return k(t,[{key:"__init2",value:function(){this.entries={}}},{key:"__init3",value:function(){this.size=0}},{key:"add",value:function(t){var e=this.entries[t];return this.entries[t]=!0,e||this.size++,1!=e}},{key:"addAll",value:function(t){for(var e=this.size,n=0,i=t.length;n<i;n++)this.add(t[n]);return e!=this.size}},{key:"contains",value:function(t){var e=this.entries[t];return 1==e}},{key:"clear",value:function(){this.entries={},this.size=0}}]),t}(),Y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;E(this,t),this.r=e,this.g=n,this.b=i,this.a=r}return k(t,[{key:"set",value:function(t,e,n,i){return this.r=t,this.g=e,this.b=n,this.a=i,this.clamp(),this}},{key:"setFromColor",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this}},{key:"setFromString",value:function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this}},{key:"add",value:function(t,e,n,i){return this.r+=t,this.g+=e,this.b+=n,this.a+=i,this.clamp(),this}},{key:"clamp",value:function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}}],[{key:"__initStatic",value:function(){this.WHITE=new t(1,1,1,1)}},{key:"__initStatic2",value:function(){this.RED=new t(1,0,0,1)}},{key:"__initStatic3",value:function(){this.GREEN=new t(0,1,0,1)}},{key:"__initStatic4",value:function(){this.BLUE=new t(0,0,1,1)}},{key:"__initStatic5",value:function(){this.MAGENTA=new t(1,0,1,1)}},{key:"rgba8888ToColor",value:function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255}},{key:"rgb888ToColor",value:function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255}}]),t}();Y.__initStatic(),Y.__initStatic2(),Y.__initStatic3(),Y.__initStatic4(),Y.__initStatic5();var j=function(){function t(){E(this,t)}return k(t,null,[{key:"__initStatic6",value:function(){this.PI=3.1415927}},{key:"__initStatic7",value:function(){this.PI2=2*t.PI}},{key:"__initStatic8",value:function(){this.radiansToDegrees=180/t.PI}},{key:"__initStatic9",value:function(){this.radDeg=t.radiansToDegrees}},{key:"__initStatic10",value:function(){this.degreesToRadians=t.PI/180}},{key:"__initStatic11",value:function(){this.degRad=t.degreesToRadians}},{key:"clamp",value:function(t,e,n){return t<e?e:t>n?n:t}},{key:"cosDeg",value:function(e){return Math.cos(e*t.degRad)}},{key:"sinDeg",value:function(e){return Math.sin(e*t.degRad)}},{key:"signum",value:function(t){return t>0?1:t<0?-1:0}},{key:"toInt",value:function(t){return t>0?Math.floor(t):Math.ceil(t)}},{key:"cbrt",value:function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e}},{key:"randomTriangular",value:function(e,n){return t.randomTriangularWith(e,n,.5*(e+n))}},{key:"randomTriangularWith",value:function(t,e,n){var i=Math.random(),r=e-t;return i<=(n-t)/r?t+Math.sqrt(i*r*(n-t)):e-Math.sqrt((1-i)*r*(e-n))}}]),t}();j.__initStatic6(),j.__initStatic7(),j.__initStatic8(),j.__initStatic9(),j.__initStatic10(),j.__initStatic11();var G=function(){function t(){E(this,t)}return k(t,[{key:"apply",value:function(t,e,n){return t+(e-t)*this.applyInternal(n)}}]),t}(),H=function(t){m(n,t);var e=g(n);function n(t){var i;return E(this,n),i=e.call(this),n.prototype.__init4.call(x(i)),i.power=t,i}return k(n,[{key:"__init4",value:function(){this.power=2}},{key:"applyInternal",value:function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1}}]),n}(G),W=function(t){m(n,t);var e=g(n);function n(t){return E(this,n),e.call(this,t)}return k(n,[{key:"applyInternal",value:function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1}}]),n}(H),z=function(){function t(){E(this,t)}return k(t,null,[{key:"__initStatic12",value:function(){this.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array}},{key:"arrayCopy",value:function(t,e,n,i,r){for(var a=e,o=i;a<e+r;a++,o++)n[o]=t[a]}},{key:"arrayFill",value:function(t,e,n,i){for(var r=e;r<n;r++)t[r]=i}},{key:"setArraySize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.length;if(i==e)return t;if(t.length=e,i<e)for(var r=i;r<e;r++)t[r]=n;return t}},{key:"ensureArrayCapacity",value:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.length>=n?e:t.setArraySize(e,n,i)}},{key:"newArray",value:function(t,e){for(var n=new Array(t),i=0;i<t;i++)n[i]=e;return n}},{key:"newFloatArray",value:function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var n=new Array(e),i=0;i<n.length;i++)n[i]=0;return n}},{key:"newShortArray",value:function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var n=new Array(e),i=0;i<n.length;i++)n[i]=0;return n}},{key:"toFloatArray",value:function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e}},{key:"toSinglePrecision",value:function(e){return t.SUPPORTS_TYPED_ARRAYS?V(e):e}},{key:"webkit602BugfixHelper",value:function(t,e){}},{key:"contains",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}}]),t}();z.__initStatic12();var q=function(){function t(){E(this,t)}return k(t,null,[{key:"logBones",value:function(t){for(var e=0;e<t.bones.length;e++)t.bones[e].matrix}}]),t}(),Z=function(){function t(e){E(this,t),t.prototype.__init5.call(this),this.instantiator=e}return k(t,[{key:"__init5",value:function(){this.items=new Array}},{key:"obtain",value:function(){return this.items.length>0?this.items.pop():this.instantiator()}},{key:"free",value:function(t){t.reset&&t.reset(),this.items.push(t)}},{key:"freeAll",value:function(t){for(var e=0;e<t.length;e++)this.free(t[e])}},{key:"clear",value:function(){this.items.length=0}}]),t}(),K=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;E(this,t),this.x=e,this.y=n}return k(t,[{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"length",value:function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)}},{key:"normalize",value:function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this}}]),t}(),$=function(){function t(){E(this,t),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),t.prototype.__init11.call(this),t.prototype.__init12.call(this)}return k(t,[{key:"__init6",value:function(){this.maxDelta=.064}},{key:"__init7",value:function(){this.framesPerSecond=0}},{key:"__init8",value:function(){this.delta=0}},{key:"__init9",value:function(){this.totalTime=0}},{key:"__init10",value:function(){this.lastTime=Date.now()/1e3}},{key:"__init11",value:function(){this.frameCount=0}},{key:"__init12",value:function(){this.frameTime=0}},{key:"update",value:function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)}}]),t}(),Q=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;E(this,t),t.prototype.__init13.call(this),t.prototype.__init14.call(this),t.prototype.__init15.call(this),t.prototype.__init16.call(this),this.values=new Array(e)}return k(t,[{key:"__init13",value:function(){this.addedValues=0}},{key:"__init14",value:function(){this.lastValue=0}},{key:"__init15",value:function(){this.mean=0}},{key:"__init16",value:function(){this.dirty=!0}},{key:"hasEnoughData",value:function(){return this.addedValues>=this.values.length}},{key:"addValue",value:function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0}},{key:"getMean",value:function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0}}]),t}(),J={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0},tt=[0,0,0],et=function(t){m(n,t);var e=g(n);function n(){var t;E(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r)),n.prototype.__init.call(x(t)),n.prototype.__init2.call(x(t)),t}return k(n,[{key:"__init",value:function(){this.region=null}},{key:"__init2",value:function(){this.attachment=null}}]),n}(f.j),nt=function(t){m(n,t);var e=g(n);function n(t,i,r,a,o){var s;return E(this,n),s=e.call(this,t,i,r,a,o),n.prototype.__init3.call(x(s)),n.prototype.__init4.call(x(s)),s}return k(n,[{key:"__init3",value:function(){this.region=null}},{key:"__init4",value:function(){this.attachment=null}}]),n}(d.AL),it=function(t){m(n,t);var e=g(n);function n(t){var i;if(E(this,n),i=e.call(this),!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');i.spineData=t,i.createSkeleton(t),i.slotContainers=[],i.tempClipContainers=[];for(var r=0,a=i.skeleton.slots.length;r<a;r++){var s=i.skeleton.slots[r],u=s.getAttachment(),l=i.newContainer();if(i.slotContainers.push(l),i.addChild(l),i.tempClipContainers.push(null),u)if(u.type===o.Region){var h=u.region.name,c=i.createSprite(s,u,h);s.currentSprite=c,s.currentSpriteName=h,l.addChild(c)}else if(u.type===o.Mesh){var f=i.createMesh(s,u);s.currentMesh=f,s.currentMeshId=u.id,s.currentMeshName=u.name,l.addChild(f)}else u.type===o.Clipping&&(i.createGraphics(s,u),l.addChild(s.clippingContainer),l.addChild(s.currentGraphics))}return i.tintRgb=new Float32Array([1,1,1]),i.autoUpdate=!0,i.visible=!0,i}return k(n,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,this.updateTransform=t?n.prototype.autoUpdateTransform:c.W2.prototype.updateTransform)}},{key:"tint",get:function(){return(0,v.rgb2hex)(this.tintRgb)},set:function(t){this.tintRgb=(0,v.hex2rgb)(t,this.tintRgb)}},{key:"delayLimit",get:function(){return(void 0!==this.localDelayLimit?this.localDelayLimit:J.GLOBAL_DELAY_LIMIT)||Number.MAX_VALUE}},{key:"update",value:function(t){var e=this.delayLimit;if(t>e&&(t=e),this.state.update(t),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var n=this.skeleton.slots,i=this.color,r=null,a=null;i?(r=i.light,a=i.dark):r=this.tintRgb;for(var s=0,u=n.length;s<u;s++){var l=n[s],c=l.getAttachment(),f=this.slotContainers[s];if(c){var d=null,p=c.color;switch(c.type){case o.Region:var _=c.region;if(_){l.currentMesh&&(l.currentMesh.visible=!1,l.currentMesh=null,l.currentMeshId=void 0,l.currentMeshName=void 0);var m=_;if(l.currentSpriteName&&l.currentSpriteName===m.name)l.currentSpriteName!==m.name||l.hackRegion||this.setSpriteRegion(c,l.currentSprite,_);else{var y=m.name;if(l.currentSprite&&(l.currentSprite.visible=!1),l.sprites=l.sprites||{},void 0!==l.sprites[y])l.sprites[y].visible=!0;else{var g=this.createSprite(l,c,y);f.addChild(g)}l.currentSprite=l.sprites[y],l.currentSpriteName=y}}f.transform.setFromMatrix(l.bone.matrix),l.currentSprite.color?d=l.currentSprite.color:(tt[0]=r[0]*l.color.r*p.r,tt[1]=r[1]*l.color.g*p.g,tt[2]=r[2]*l.color.b*p.b,l.currentSprite.tint=(0,v.rgb2hex)(tt)),l.currentSprite.blendMode=l.blendMode;break;case o.Mesh:if(l.currentSprite){l.currentSprite.visible=!1,l.currentSprite=null,l.currentSpriteName=void 0;var b=new h.wx;b._parentID=-1,b._worldID=f.transform._worldID,f.transform=b}var x=c.id;if(!l.currentMeshId||l.currentMeshId!==x){var w=x;if(l.currentMesh&&(l.currentMesh.visible=!1),l.meshes=l.meshes||{},void 0!==l.meshes[w])l.meshes[w].visible=!0;else{var E=this.createMesh(l,c);f.addChild(E)}l.currentMesh=l.meshes[w],l.currentMeshName=c.name,l.currentMeshId=w}c.computeWorldVerticesOld(l,l.currentMesh.vertices),l.currentMesh.color?d=l.currentMesh.color:(tt[0]=r[0]*l.color.r*p.r,tt[1]=r[1]*l.color.g*p.g,tt[2]=r[2]*l.color.b*p.b,l.currentMesh.tint=(0,v.rgb2hex)(tt)),l.currentMesh.blendMode=l.blendMode;break;case o.Clipping:l.currentGraphics||(this.createGraphics(l,c),f.addChild(l.clippingContainer),f.addChild(l.currentGraphics)),this.updateGraphics(l,c),f.alpha=1,f.visible=!0;continue;default:f.visible=!1;continue}if(f.visible=!0,d){var S=l.color.r*p.r,k=l.color.g*p.g,T=l.color.b*p.b;d.setLight(r[0]*S+a[0]*(1-S),r[1]*k+a[1]*(1-k),r[2]*T+a[2]*(1-T)),l.darkColor?(S=l.darkColor.r,k=l.darkColor.g,T=l.darkColor.b):(S=0,k=0,T=0),d.setDark(r[0]*S+a[0]*(1-S),r[1]*k+a[1]*(1-k),r[2]*T+a[2]*(1-T))}f.alpha=l.color.a}else f.visible=!1}for(var A=this.skeleton.drawOrder,R=null,I=null,C=0,P=A.length;C<P;C++){var M=n[A[C].data.index],O=this.slotContainers[A[C].data.index];if(I||null!==O.parent&&O.parent!==this&&(O.parent.removeChild(O),O.parent=this),M.currentGraphics&&M.getAttachment())I=M.clippingContainer,R=M.getAttachment(),I.children.length=0,this.children[C]=O,R.endSlot===M.data&&(R.endSlot=null);else if(I){var D=this.tempClipContainers[C];D||((D=this.tempClipContainers[C]=this.newContainer()).visible=!1),this.children[C]=D,O.parent=null,I.addChild(O),R.endSlot==M.data&&(I.renderable=!0,I=null,R=null)}else this.children[C]=O}}}},{key:"setSpriteRegion",value:function(t,e,n){e.attachment===t&&e.region===n||(e.region=n,e.attachment=t,e.texture=n.texture,e.rotation=t.rotation*j.degRad,e.position.x=t.x,e.position.y=t.y,e.alpha=t.color.a,n.size?(e.scale.x=n.size.width/n.originalWidth,e.scale.y=-n.size.height/n.originalHeight):(e.scale.x=t.scaleX*t.width/n.originalWidth,e.scale.y=-t.scaleY*t.height/n.originalHeight))}},{key:"setMeshRegion",value:function(t,e,n){e.attachment===t&&e.region===n||(e.region=n,e.attachment=t,e.texture=n.texture,n.texture.updateUvs(),e.uvBuffer.update(t.regionUVs))}},{key:"autoUpdateTransform",value:function(){if(J.GLOBAL_AUTO_UPDATE){this.lastTime=this.lastTime||Date.now();var t=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(t)}else this.lastTime=0;c.W2.prototype.updateTransform.call(this)}},{key:"createSprite",value:function(t,e,n){var i=e.region;t.hackAttachment===e&&(i=t.hackRegion);var r=i.texture,a=this.newSprite(r);return a.anchor.set(.5),this.setSpriteRegion(e,a,e.region),t.sprites=t.sprites||{},t.sprites[n]=a,a}},{key:"createMesh",value:function(t,e){var n=e.region;t.hackAttachment===e&&(n=t.hackRegion,t.hackAttachment=null,t.hackRegion=null);var i=this.newMesh(n.texture,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles),l.lg.TRIANGLES);return void 0!==i._canvasPadding&&(i._canvasPadding=1.5),i.alpha=e.color.a,i.region=e.region,this.setMeshRegion(e,i,n),t.meshes=t.meshes||{},t.meshes[e.id]=i,i}},{key:"createGraphics",value:function(t,e){var n=this.newGraphics(),i=new h.mg([]);return n.clear(),n.beginFill(16777215,1),n.drawPolygon(i),n.renderable=!1,t.currentGraphics=n,t.clippingContainer=this.newContainer(),t.clippingContainer.mask=t.currentGraphics,n}},{key:"updateGraphics",value:function(t,e){var n=t.currentGraphics.geometry,i=n.graphicsData[0].shape.points,r=e.worldVerticesLength;i.length=r,e.computeWorldVertices(t,0,r,i,0,2),n.invalidate()}},{key:"hackTextureBySlotIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.skeleton.slots[t];if(!i)return!1;var r=i.getAttachment(),a=r.region;return e?((a=new M).texture=e,a.size=n,i.hackRegion=a,i.hackAttachment=r):(i.hackRegion=null,i.hackAttachment=null),i.currentSprite&&i.currentSprite.region!=a?(this.setSpriteRegion(r,i.currentSprite,a),i.currentSprite.region=a):i.currentMesh&&i.currentMesh.region!=a&&this.setMeshRegion(r,i.currentMesh,a),!0}},{key:"hackTextureBySlotName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.skeleton.findSlotIndex(t);return-1!=i&&this.hackTextureBySlotIndex(i,e,n)}},{key:"hackTextureAttachment",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=this.skeleton.findSlotIndex(t),a=this.skeleton.getAttachmentByName(t,e);a.region.texture=n;var o=this.skeleton.slots[r];if(!o)return!1;var s=o.getAttachment();if(e===s.name){var u=a.region;return n?((u=new M).texture=n,u.size=i,o.hackRegion=u,o.hackAttachment=s):(o.hackRegion=null,o.hackAttachment=null),o.currentSprite&&o.currentSprite.region!=u?(this.setSpriteRegion(s,o.currentSprite,u),o.currentSprite.region=u):o.currentMesh&&o.currentMesh.region!=u&&this.setMeshRegion(s,o.currentMesh,u),!0}return!1}},{key:"newContainer",value:function(){return new c.W2}},{key:"newSprite",value:function(t){return new et(t)}},{key:"newGraphics",value:function(){return new p.TC}},{key:"newMesh",value:function(t,e,n,i,r){return new nt(t,e,n,i,r)}},{key:"transformHack",value:function(){return 1}},{key:"hackAttachmentGroups",value:function(t,e,n){if(t){for(var i=[],r=[],a=0,o=this.skeleton.slots.length;a<o;a++){var s=this.skeleton.slots[a],u=s.currentSpriteName||s.currentMeshName||"",l=s.currentSprite||s.currentMesh;u.endsWith(t)?(l.parentGroup=e,r.push(l)):n&&l&&(l.parentGroup=n,i.push(l))}return[i,r]}}},{key:"destroy",value:function(t){for(var e=0,i=this.skeleton.slots.length;e<i;e++){var r=this.skeleton.slots[e];for(var a in r.meshes)r.meshes[a].destroy(t);for(var o in r.meshes=null,r.sprites)r.sprites[o].destroy(t);r.sprites=null}for(var s=0,u=this.slotContainers.length;s<u;s++)this.slotContainers[s].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,_(w(n.prototype),"destroy",this).call(this,t)}}],[{key:"__initStatic",value:function(){this.clippingPolygon=[]}}]),n}(c.W2);function rt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}it.__initStatic(),Object.defineProperty(it.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))}}),s.kC.setExtensionXhrType("skel",s.kC.XHR_RESPONSE_TYPE.BUFFER);var at=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"genMiddleware",value:function(){var t=this;return{use(e,n){if(!e.data)return n();var i=function(t){return t.type===s.kC.TYPE.JSON}(e)&&e.data.bones,r=function(t){return t.xhrType===s.kC.XHR_RESPONSE_TYPE.BUFFER}(e)&&("skel"===e.extension||e.metadata&&e.metadata.spineMetadata);if(!i&&!r)return n();var a=null,o=e.data;i?a=t.createJsonParser():(a=t.createBinaryParser(),e.data instanceof ArrayBuffer&&(o=new Uint8Array(e.data)));var u=e.metadata||{},h=u?u.spineSkeletonScale:null;h&&(a.scale=h);var c=u.spineAtlas;if(!1===c)return n();if(c&&c.pages)return t.parseData(e,a,c,o),n();var f=u.spineAtlasSuffix||".atlas",d=e.url,p=d.indexOf("?");p>0&&(d=d.substr(0,p)),d=d.substr(0,d.lastIndexOf("."))+f,u.spineAtlasFile&&(d=u.spineAtlasFile),d=d.replace(this.baseUrl,"");var v={crossOrigin:e.crossOrigin,xhrType:s.kC.XHR_RESPONSE_TYPE.TEXT,metadata:u.spineMetadata||null,parentResource:e},_={crossOrigin:e.crossOrigin,metadata:u.imageMetadata||null,parentResource:e},m=e.url.substr(0,e.url.lastIndexOf("/")+1);m=m.replace(this.baseUrl,"");var y=u.imageNamePrefix||e.name+"_atlas_page_",g=u.images?ot(u.images):u.image?ot({default:u.image}):u.imageLoader?u.imageLoader(this,y,m,_):function(t,e,n,i){return n&&n.lastIndexOf("/")!==n.length-1&&(n+="/"),function(r,a){var o=e+r,s=n+r,u=t.resources[o];if(u){var h=function(){a(u.texture.baseTexture)};u.texture?h():u.onAfterMiddleware.add(h)}else t.add(o,s,i,(function(t){t.error?a(null):(r.indexOf("-pma.")>=0&&(t.texture.baseTexture.alphaMode=l.iw.PMA),a(t.texture.baseTexture))}))}}(this,y,m,_);function b(i){new D(i,g,(function(i){i&&t.parseData(e,a,i,o),n()}))}u.atlasRawData?b(u.atlasRawData):this.add(e.name+"_atlas",d,v,(function(t){t.error?n():b(t.data)}))}}}}])&&rt(e.prototype,n),i&&rt(e,i),t}();function ot(t){return function(e,n){var i=t[e]||t.default;i&&i.baseTexture?n(i.baseTexture):n(i)}}function st(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ut(t,e,n){return e&&st(t.prototype,e),n&&st(t,n),t}function lt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ht(t,e)}function ht(t,e){return(ht=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ct(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=pt(t);if(e){var r=pt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return ft(this,n)}}function ft(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?dt(t):e}function dt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pt(t){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _t=function t(e){if(vt(this,t),null==e)throw new Error("name cannot be null.");this.name=e},mt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t),n.prototype.__init.call(dt(i)),n.prototype.__init2.call(dt(i)),n.prototype.__init3.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.id=(65535&n.nextID++)<<11}},{key:"__init2",value:function(){this.worldVerticesLength=0}},{key:"__init3",value:function(){this.deformAttachment=this}},{key:"computeWorldVerticesOld",value:function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}},{key:"computeWorldVertices",value:function(t,e,n,i,r,a){n=r+(n>>1)*a;var o=t.bone.skeleton,s=t.deform,u=this.vertices,l=this.bones;if(null!=l){for(var h=0,c=0,f=0;f<e;f+=2){var d=l[h];h+=d+1,c+=d}var p=o.bones;if(0==s.length)for(var v=r,_=3*c;v<n;v+=a){var m=0,y=0,g=l[h++];for(g+=h;h<g;h++,_+=3){var b=p[l[h]].matrix,x=u[_],w=u[_+1],E=u[_+2];m+=(x*b.a+w*b.c+b.tx)*E,y+=(x*b.b+w*b.d+b.ty)*E}i[v]=m,i[v+1]=y}else for(var S=s,k=r,T=3*c,A=c<<1;k<n;k+=a){var R=0,I=0,C=l[h++];for(C+=h;h<C;h++,T+=3,A+=2){var P=p[l[h]].matrix,M=u[T]+S[A],O=u[T+1]+S[A+1],D=u[T+2];R+=(M*P.a+O*P.c+P.tx)*D,I+=(M*P.b+O*P.d+P.ty)*D}i[k]=R,i[k+1]=I}}else{s.length>0&&(u=s);for(var N=t.bone.matrix,L=N.tx,F=N.ty,B=N.a,V=N.c,U=N.b,X=N.d,Y=e,j=r;j<n;Y+=2,j+=a){var G=u[Y],H=u[Y+1];i[j]=G*B+H*V+L,i[j+1]=G*U+H*X+F}}}},{key:"copyTo",value:function(t){null!=this.bones?(t.bones=new Array(this.bones.length),z.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=z.newFloatArray(this.vertices.length),z.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment}}],[{key:"__initStatic",value:function(){this.nextID=0}}]),n}(_t);mt.__initStatic();var yt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t),n.prototype.__init.call(dt(i)),n.prototype.__init2.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.type=o.BoundingBox}},{key:"__init2",value:function(){this.color=new Y(1,1,1,1)}},{key:"copy",value:function(){var t=new n(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}]),n}(mt),gt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t),n.prototype.__init.call(dt(i)),n.prototype.__init2.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.type=o.Clipping}},{key:"__init2",value:function(){this.color=new Y(.2275,.2275,.8078,1)}},{key:"copy",value:function(){var t=new n(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}]),n}(mt),bt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t),n.prototype.__init.call(dt(i)),n.prototype.__init2.call(dt(i)),n.prototype.__init3.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.type=o.Mesh}},{key:"__init2",value:function(){this.color=new Y(1,1,1,1)}},{key:"__init3",value:function(){this.tempColor=new Y(0,0,0,0)}},{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}},{key:"copy",value:function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),z.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.triangles=new Array(this.triangles.length),z.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),z.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}},{key:"newLinkedMesh",value:function(){var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t}}]),n}(mt),xt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t),n.prototype.__init.call(dt(i)),n.prototype.__init2.call(dt(i)),n.prototype.__init3.call(dt(i)),n.prototype.__init4.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.type=o.Path}},{key:"__init2",value:function(){this.closed=!1}},{key:"__init3",value:function(){this.constantSpeed=!1}},{key:"__init4",value:function(){this.color=new Y(1,1,1,1)}},{key:"copy",value:function(){var t=new n(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),z.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}]),n}(mt),wt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t),n.prototype.__init.call(dt(i)),n.prototype.__init2.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.type=o.Point}},{key:"__init2",value:function(){this.color=new Y(.38,.94,0,1)}},{key:"computeWorldPosition",value:function(t,e){var n=t.matrix;return e.x=this.x*n.a+this.y*n.c+t.worldX,e.y=this.x*n.b+this.y*n.d+t.worldY,e}},{key:"computeWorldRotation",value:function(t){var e=t.matrix,n=j.cosDeg(this.rotation),i=j.sinDeg(this.rotation),r=n*e.a+i*e.c,a=n*e.b+i*e.d;return Math.atan2(a,r)*j.radDeg}},{key:"copy",value:function(){var t=new n(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}]),n}(mt),Et=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t),n.prototype.__init.call(dt(i)),n.prototype.__init2.call(dt(i)),n.prototype.__init3.call(dt(i)),n.prototype.__init4.call(dt(i)),n.prototype.__init5.call(dt(i)),n.prototype.__init6.call(dt(i)),n.prototype.__init7.call(dt(i)),n.prototype.__init8.call(dt(i)),n.prototype.__init9.call(dt(i)),n.prototype.__init10.call(dt(i)),n.prototype.__init11.call(dt(i)),n.prototype.__init12.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.type=o.Region}},{key:"__init2",value:function(){this.x=0}},{key:"__init3",value:function(){this.y=0}},{key:"__init4",value:function(){this.scaleX=1}},{key:"__init5",value:function(){this.scaleY=1}},{key:"__init6",value:function(){this.rotation=0}},{key:"__init7",value:function(){this.width=0}},{key:"__init8",value:function(){this.height=0}},{key:"__init9",value:function(){this.color=new Y(1,1,1,1)}},{key:"__init10",value:function(){this.offset=z.newFloatArray(8)}},{key:"__init11",value:function(){this.uvs=z.newFloatArray(8)}},{key:"__init12",value:function(){this.tempColor=new Y(1,1,1,1)}},{key:"updateOffset",value:function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*e,a=i+this.region.width*t,o=r+this.region.height*e,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),h=i*u+this.x,c=i*l,f=r*u+this.y,d=r*l,p=a*u+this.x,v=a*l,_=o*u+this.y,m=o*l,y=this.offset;y[n.OX1]=h-d,y[n.OY1]=f+c,y[n.OX2]=h-m,y[n.OY2]=_+c,y[n.OX3]=p-m,y[n.OY3]=_+v,y[n.OX4]=p-d,y[n.OY4]=f+v}},{key:"setRegion",value:function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}},{key:"computeWorldVertices",value:function(t,e,i,r){var a=this.offset,o=t.matrix,s=o.tx,u=o.ty,l=o.a,h=o.c,c=o.b,f=o.d,d=0,p=0;d=a[n.OX1],p=a[n.OY1],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u,i+=r,d=a[n.OX2],p=a[n.OY2],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u,i+=r,d=a[n.OX3],p=a[n.OY3],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u,i+=r,d=a[n.OX4],p=a[n.OY4],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u}},{key:"copy",value:function(){var t=new n(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,z.arrayCopy(this.uvs,0,t.uvs,0,8),z.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t}}],[{key:"__initStatic",value:function(){this.OX1=0}},{key:"__initStatic2",value:function(){this.OY1=1}},{key:"__initStatic3",value:function(){this.OX2=2}},{key:"__initStatic4",value:function(){this.OY2=3}},{key:"__initStatic5",value:function(){this.OX3=4}},{key:"__initStatic6",value:function(){this.OY3=5}},{key:"__initStatic7",value:function(){this.OX4=6}},{key:"__initStatic8",value:function(){this.OY4=7}},{key:"__initStatic9",value:function(){this.X1=0}},{key:"__initStatic10",value:function(){this.Y1=1}},{key:"__initStatic11",value:function(){this.C1R=2}},{key:"__initStatic12",value:function(){this.C1G=3}},{key:"__initStatic13",value:function(){this.C1B=4}},{key:"__initStatic14",value:function(){this.C1A=5}},{key:"__initStatic15",value:function(){this.U1=6}},{key:"__initStatic16",value:function(){this.V1=7}},{key:"__initStatic17",value:function(){this.X2=8}},{key:"__initStatic18",value:function(){this.Y2=9}},{key:"__initStatic19",value:function(){this.C2R=10}},{key:"__initStatic20",value:function(){this.C2G=11}},{key:"__initStatic21",value:function(){this.C2B=12}},{key:"__initStatic22",value:function(){this.C2A=13}},{key:"__initStatic23",value:function(){this.U2=14}},{key:"__initStatic24",value:function(){this.V2=15}},{key:"__initStatic25",value:function(){this.X3=16}},{key:"__initStatic26",value:function(){this.Y3=17}},{key:"__initStatic27",value:function(){this.C3R=18}},{key:"__initStatic28",value:function(){this.C3G=19}},{key:"__initStatic29",value:function(){this.C3B=20}},{key:"__initStatic30",value:function(){this.C3A=21}},{key:"__initStatic31",value:function(){this.U3=22}},{key:"__initStatic32",value:function(){this.V3=23}},{key:"__initStatic33",value:function(){this.X4=24}},{key:"__initStatic34",value:function(){this.Y4=25}},{key:"__initStatic35",value:function(){this.C4R=26}},{key:"__initStatic36",value:function(){this.C4G=27}},{key:"__initStatic37",value:function(){this.C4B=28}},{key:"__initStatic38",value:function(){this.C4A=29}},{key:"__initStatic39",value:function(){this.U4=30}},{key:"__initStatic40",value:function(){this.V4=31}}]),n}(_t);Et.__initStatic(),Et.__initStatic2(),Et.__initStatic3(),Et.__initStatic4(),Et.__initStatic5(),Et.__initStatic6(),Et.__initStatic7(),Et.__initStatic8(),Et.__initStatic9(),Et.__initStatic10(),Et.__initStatic11(),Et.__initStatic12(),Et.__initStatic13(),Et.__initStatic14(),Et.__initStatic15(),Et.__initStatic16(),Et.__initStatic17(),Et.__initStatic18(),Et.__initStatic19(),Et.__initStatic20(),Et.__initStatic21(),Et.__initStatic22(),Et.__initStatic23(),Et.__initStatic24(),Et.__initStatic25(),Et.__initStatic26(),Et.__initStatic27(),Et.__initStatic28(),Et.__initStatic29(),Et.__initStatic30(),Et.__initStatic31(),Et.__initStatic32(),Et.__initStatic33(),Et.__initStatic34(),Et.__initStatic35(),Et.__initStatic36(),Et.__initStatic37(),Et.__initStatic38(),Et.__initStatic39(),Et.__initStatic40();var St=function(){function t(e,n){vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),this.jitterX=e,this.jitterY=n}return ut(t,[{key:"__init",value:function(){this.jitterX=0}},{key:"__init2",value:function(){this.jitterY=0}},{key:"begin",value:function(t){}},{key:"transform",value:function(t,e,n,i){t.x+=j.randomTriangular(-this.jitterX,this.jitterY),t.y+=j.randomTriangular(-this.jitterX,this.jitterY)}},{key:"end",value:function(){}}]),t}(),kt=function(){function t(e){vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),this.radius=e}return ut(t,[{key:"__init",value:function(){this.centerX=0}},{key:"__init2",value:function(){this.centerY=0}},{key:"__init3",value:function(){this.radius=0}},{key:"__init4",value:function(){this.angle=0}},{key:"__init5",value:function(){this.worldX=0}},{key:"__init6",value:function(){this.worldY=0}},{key:"begin",value:function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY}},{key:"transform",value:function(e,n,i,r){var a=this.angle*j.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,u=Math.sqrt(o*o+s*s);if(u<this.radius){var l=t.interpolation.apply(0,a,(this.radius-u)/this.radius),h=Math.cos(l),c=Math.sin(l);e.x=h*o-c*s+this.worldX,e.y=c*o+h*s+this.worldY}}},{key:"end",value:function(){}}],[{key:"__initStatic",value:function(){this.interpolation=new W(2)}}]),t}();kt.__initStatic();var Tt,At,Rt,It=function(){function t(e,n,i){if(vt(this,t),null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("timelines cannot be null.");this.name=e,this.timelines=n,this.timelineIds=[];for(var r=0;r<n.length;r++)this.timelineIds[n[r].getPropertyId()]=!0;this.duration=i}return ut(t,[{key:"hasTimeline",value:function(t){return 1==this.timelineIds[t]}},{key:"apply",value:function(t,e,n,i,r,a,o,s){if(null==t)throw new Error("skeleton cannot be null.");i&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,l=0,h=u.length;l<h;l++)u[l].apply(t,e,n,r,a,o,s)}}],[{key:"binarySearch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=0,r=t.length/n-2;if(0==r)return n;for(var a=r>>>1;;){if(t[(a+1)*n]<=e?i=a+1:r=a,i==r)return(i+1)*n;a=i+r>>>1}}},{key:"linearSearch",value:function(t,e,n){for(var i=0,r=t.length-n;i<=r;i+=n)if(t[i]>e)return i;return-1}}]),t}();!function(t){t[t.setup=0]="setup";t[t.first=1]="first";t[t.replace=2]="replace";t[t.add=3]="add"}(Tt||(Tt={})),function(t){t[t.mixIn=0]="mixIn";t[t.mixOut=1]="mixOut"}(At||(At={})),function(t){t[t.rotate=0]="rotate";t[t.translate=1]="translate";t[t.scale=2]="scale";t[t.shear=3]="shear";t[t.attachment=4]="attachment";t[t.color=5]="color";t[t.deform=6]="deform";t[t.event=7]="event";t[t.drawOrder=8]="drawOrder";t[t.ikConstraint=9]="ikConstraint";t[t.transformConstraint=10]="transformConstraint";t[t.pathConstraintPosition=11]="pathConstraintPosition";t[t.pathConstraintSpacing=12]="pathConstraintSpacing";t[t.pathConstraintMix=13]="pathConstraintMix";t[t.twoColor=14]="twoColor"}(Rt||(Rt={}));var Ct=function(){function t(e){if(vt(this,t),e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=z.newFloatArray((e-1)*t.BEZIER_SIZE)}return ut(t,[{key:"getFrameCount",value:function(){return this.curves.length/t.BEZIER_SIZE+1}},{key:"setLinear",value:function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR}},{key:"setStepped",value:function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED}},{key:"getCurveType",value:function(e){var n=e*t.BEZIER_SIZE;if(n==this.curves.length)return t.LINEAR;var i=this.curves[n];return i==t.LINEAR?t.LINEAR:i==t.STEPPED?t.STEPPED:t.BEZIER}},{key:"setCurve",value:function(e,n,i,r,a){var o=.03*(2*-n+r),s=.03*(2*-i+a),u=.006*(3*(n-r)+1),l=.006*(3*(i-a)+1),h=2*o+u,c=2*s+l,f=.3*n+o+.16666667*u,d=.3*i+s+.16666667*l,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var _=f,m=d,y=p+t.BEZIER_SIZE-1;p<y;p+=2)v[p]=_,v[p+1]=m,f+=h,d+=c,h+=u,c+=l,_+=f,m+=d}},{key:"getCurvePercent",value:function(e,n){n=j.clamp(n,0,1);var i=this.curves,r=e*t.BEZIER_SIZE,a=i[r];if(a==t.LINEAR)return n;if(a==t.STEPPED)return 0;for(var o=0,s=++r,u=r+t.BEZIER_SIZE-1;r<u;r+=2)if((o=i[r])>=n){var l=void 0,h=void 0;return r==s?(l=0,h=0):(l=i[r-2],h=i[r-1]),h+(i[r+1]-h)*(n-l)/(o-l)}var c=i[r-1];return c+(1-c)*(n-o)/(1-o)}}],[{key:"__initStatic",value:function(){this.LINEAR=0}},{key:"__initStatic2",value:function(){this.STEPPED=1}},{key:"__initStatic3",value:function(){this.BEZIER=2}},{key:"__initStatic4",value:function(){this.BEZIER_SIZE=19}}]),t}();Ct.__initStatic(),Ct.__initStatic2(),Ct.__initStatic3(),Ct.__initStatic4();var Pt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t<<1),i}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.rotate<<24)+this.boneIndex}},{key:"setFrame",value:function(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+n.ROTATION]=i}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.bones[this.boneIndex];if(l.active)if(i<u[0])switch(o){case Tt.setup:return void(l.rotation=l.data.rotation);case Tt.first:var h=l.data.rotation-l.rotation;l.rotation+=(h-360*(16384-(16384.499999999996-h/360|0)))*a}else if(i>=u[u.length-n.ENTRIES]){var c=u[u.length+n.PREV_ROTATION];switch(o){case Tt.setup:l.rotation=l.data.rotation+c*a;break;case Tt.first:case Tt.replace:c+=l.data.rotation-l.rotation,c-=360*(16384-(16384.499999999996-c/360|0));case Tt.add:l.rotation+=c*a}}else{var f=It.binarySearch(u,i,n.ENTRIES),d=u[f+n.PREV_ROTATION],p=u[f],v=this.getCurvePercent((f>>1)-1,1-(i-p)/(u[f+n.PREV_TIME]-p)),_=u[f+n.ROTATION]-d;switch(_=d+(_-360*(16384-(16384.499999999996-_/360|0)))*v,o){case Tt.setup:l.rotation=l.data.rotation+(_-360*(16384-(16384.499999999996-_/360|0)))*a;break;case Tt.first:case Tt.replace:_+=l.data.rotation-l.rotation;case Tt.add:l.rotation+=(_-360*(16384-(16384.499999999996-_/360|0)))*a}}}}],[{key:"__initStatic5",value:function(){this.ENTRIES=2}},{key:"__initStatic6",value:function(){this.PREV_TIME=-2}},{key:"__initStatic7",value:function(){this.PREV_ROTATION=-1}},{key:"__initStatic8",value:function(){this.ROTATION=1}}]),n}(Ct);Pt.__initStatic5(),Pt.__initStatic6(),Pt.__initStatic7(),Pt.__initStatic8();var Mt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.translate<<24)+this.boneIndex}},{key:"setFrame",value:function(t,e,i,r){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.X]=i,this.frames[t+n.Y]=r}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.bones[this.boneIndex];if(l.active)if(i<u[0])switch(o){case Tt.setup:return l.x=l.data.x,void(l.y=l.data.y);case Tt.first:l.x+=(l.data.x-l.x)*a,l.y+=(l.data.y-l.y)*a}else{var h=0,c=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_X],c=u[u.length+n.PREV_Y];else{var f=It.binarySearch(u,i,n.ENTRIES);h=u[f+n.PREV_X],c=u[f+n.PREV_Y];var d=u[f],p=this.getCurvePercent(f/n.ENTRIES-1,1-(i-d)/(u[f+n.PREV_TIME]-d));h+=(u[f+n.X]-h)*p,c+=(u[f+n.Y]-c)*p}switch(o){case Tt.setup:l.x=l.data.x+h*a,l.y=l.data.y+c*a;break;case Tt.first:case Tt.replace:l.x+=(l.data.x+h-l.x)*a,l.y+=(l.data.y+c-l.y)*a;break;case Tt.add:l.x+=h*a,l.y+=c*a}}}}],[{key:"__initStatic9",value:function(){this.ENTRIES=3}},{key:"__initStatic10",value:function(){this.PREV_TIME=-3}},{key:"__initStatic11",value:function(){this.PREV_X=-2}},{key:"__initStatic12",value:function(){this.PREV_Y=-1}},{key:"__initStatic13",value:function(){this.X=1}},{key:"__initStatic14",value:function(){this.Y=2}}]),n}(Ct);Mt.__initStatic9(),Mt.__initStatic10(),Mt.__initStatic11(),Mt.__initStatic12(),Mt.__initStatic13(),Mt.__initStatic14();var Ot=function(t){lt(n,t);var e=ct(n);function n(t){return vt(this,n),e.call(this,t)}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.scale<<24)+this.boneIndex}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.bones[this.boneIndex];if(l.active)if(i<u[0])switch(o){case Tt.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case Tt.first:l.scaleX+=(l.data.scaleX-l.scaleX)*a,l.scaleY+=(l.data.scaleY-l.scaleY)*a}else{var h=0,c=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_X]*l.data.scaleX,c=u[u.length+n.PREV_Y]*l.data.scaleY;else{var f=It.binarySearch(u,i,n.ENTRIES);h=u[f+n.PREV_X],c=u[f+n.PREV_Y];var d=u[f],p=this.getCurvePercent(f/n.ENTRIES-1,1-(i-d)/(u[f+n.PREV_TIME]-d));h=(h+(u[f+n.X]-h)*p)*l.data.scaleX,c=(c+(u[f+n.Y]-c)*p)*l.data.scaleY}if(1==a)o==Tt.add?(l.scaleX+=h-l.data.scaleX,l.scaleY+=c-l.data.scaleY):(l.scaleX=h,l.scaleY=c);else{var v=0,_=0;if(s==At.mixOut)switch(o){case Tt.setup:v=l.data.scaleX,_=l.data.scaleY,l.scaleX=v+(Math.abs(h)*j.signum(v)-v)*a,l.scaleY=_+(Math.abs(c)*j.signum(_)-_)*a;break;case Tt.first:case Tt.replace:v=l.scaleX,_=l.scaleY,l.scaleX=v+(Math.abs(h)*j.signum(v)-v)*a,l.scaleY=_+(Math.abs(c)*j.signum(_)-_)*a;break;case Tt.add:v=l.scaleX,_=l.scaleY,l.scaleX=v+(Math.abs(h)*j.signum(v)-l.data.scaleX)*a,l.scaleY=_+(Math.abs(c)*j.signum(_)-l.data.scaleY)*a}else switch(o){case Tt.setup:v=Math.abs(l.data.scaleX)*j.signum(h),_=Math.abs(l.data.scaleY)*j.signum(c),l.scaleX=v+(h-v)*a,l.scaleY=_+(c-_)*a;break;case Tt.first:case Tt.replace:v=Math.abs(l.scaleX)*j.signum(h),_=Math.abs(l.scaleY)*j.signum(c),l.scaleX=v+(h-v)*a,l.scaleY=_+(c-_)*a;break;case Tt.add:v=j.signum(h),_=j.signum(c),l.scaleX=Math.abs(l.scaleX)*v+(h-Math.abs(l.data.scaleX)*v)*a,l.scaleY=Math.abs(l.scaleY)*_+(c-Math.abs(l.data.scaleY)*_)*a}}}}}]),n}(Mt),Dt=function(t){lt(n,t);var e=ct(n);function n(t){return vt(this,n),e.call(this,t)}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.shear<<24)+this.boneIndex}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.bones[this.boneIndex];if(l.active)if(i<u[0])switch(o){case Tt.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case Tt.first:l.shearX+=(l.data.shearX-l.shearX)*a,l.shearY+=(l.data.shearY-l.shearY)*a}else{var h=0,c=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_X],c=u[u.length+n.PREV_Y];else{var f=It.binarySearch(u,i,n.ENTRIES);h=u[f+n.PREV_X],c=u[f+n.PREV_Y];var d=u[f],p=this.getCurvePercent(f/n.ENTRIES-1,1-(i-d)/(u[f+n.PREV_TIME]-d));h+=(u[f+n.X]-h)*p,c+=(u[f+n.Y]-c)*p}switch(o){case Tt.setup:l.shearX=l.data.shearX+h*a,l.shearY=l.data.shearY+c*a;break;case Tt.first:case Tt.replace:l.shearX+=(l.data.shearX+h-l.shearX)*a,l.shearY+=(l.data.shearY+c-l.shearY)*a;break;case Tt.add:l.shearX+=h*a,l.shearY+=c*a}}}}]),n}(Mt),Nt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.color<<24)+this.slotIndex}},{key:"setFrame",value:function(t,e,i,r,a,o){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.R]=i,this.frames[t+n.G]=r,this.frames[t+n.B]=a,this.frames[t+n.A]=o}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=t.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(i<l[0])switch(o){case Tt.setup:return void u.color.setFromColor(u.data.color);case Tt.first:var h=u.color,c=u.data.color;h.add((c.r-h.r)*a,(c.g-h.g)*a,(c.b-h.b)*a,(c.a-h.a)*a)}else{var f=0,d=0,p=0,v=0;if(i>=l[l.length-n.ENTRIES]){var _=l.length;f=l[_+n.PREV_R],d=l[_+n.PREV_G],p=l[_+n.PREV_B],v=l[_+n.PREV_A]}else{var m=It.binarySearch(l,i,n.ENTRIES);f=l[m+n.PREV_R],d=l[m+n.PREV_G],p=l[m+n.PREV_B],v=l[m+n.PREV_A];var y=l[m],g=this.getCurvePercent(m/n.ENTRIES-1,1-(i-y)/(l[m+n.PREV_TIME]-y));f+=(l[m+n.R]-f)*g,d+=(l[m+n.G]-d)*g,p+=(l[m+n.B]-p)*g,v+=(l[m+n.A]-v)*g}if(1==a)u.color.set(f,d,p,v);else{var b=u.color;o==Tt.setup&&b.setFromColor(u.data.color),b.add((f-b.r)*a,(d-b.g)*a,(p-b.b)*a,(v-b.a)*a)}}}}}],[{key:"__initStatic15",value:function(){this.ENTRIES=5}},{key:"__initStatic16",value:function(){this.PREV_TIME=-5}},{key:"__initStatic17",value:function(){this.PREV_R=-4}},{key:"__initStatic18",value:function(){this.PREV_G=-3}},{key:"__initStatic19",value:function(){this.PREV_B=-2}},{key:"__initStatic20",value:function(){this.PREV_A=-1}},{key:"__initStatic21",value:function(){this.R=1}},{key:"__initStatic22",value:function(){this.G=2}},{key:"__initStatic23",value:function(){this.B=3}},{key:"__initStatic24",value:function(){this.A=4}}]),n}(Ct);Nt.__initStatic15(),Nt.__initStatic16(),Nt.__initStatic17(),Nt.__initStatic18(),Nt.__initStatic19(),Nt.__initStatic20(),Nt.__initStatic21(),Nt.__initStatic22(),Nt.__initStatic23(),Nt.__initStatic24();var Lt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.twoColor<<24)+this.slotIndex}},{key:"setFrame",value:function(t,e,i,r,a,o,s,u,l){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.R]=i,this.frames[t+n.G]=r,this.frames[t+n.B]=a,this.frames[t+n.A]=o,this.frames[t+n.R2]=s,this.frames[t+n.G2]=u,this.frames[t+n.B2]=l}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=t.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(i<l[0])switch(o){case Tt.setup:return u.color.setFromColor(u.data.color),void u.darkColor.setFromColor(u.data.darkColor);case Tt.first:var h=u.color,c=u.darkColor,f=u.data.color,d=u.data.darkColor;h.add((f.r-h.r)*a,(f.g-h.g)*a,(f.b-h.b)*a,(f.a-h.a)*a),c.add((d.r-c.r)*a,(d.g-c.g)*a,(d.b-c.b)*a,0)}else{var p=0,v=0,_=0,m=0,y=0,g=0,b=0;if(i>=l[l.length-n.ENTRIES]){var x=l.length;p=l[x+n.PREV_R],v=l[x+n.PREV_G],_=l[x+n.PREV_B],m=l[x+n.PREV_A],y=l[x+n.PREV_R2],g=l[x+n.PREV_G2],b=l[x+n.PREV_B2]}else{var w=It.binarySearch(l,i,n.ENTRIES);p=l[w+n.PREV_R],v=l[w+n.PREV_G],_=l[w+n.PREV_B],m=l[w+n.PREV_A],y=l[w+n.PREV_R2],g=l[w+n.PREV_G2],b=l[w+n.PREV_B2];var E=l[w],S=this.getCurvePercent(w/n.ENTRIES-1,1-(i-E)/(l[w+n.PREV_TIME]-E));p+=(l[w+n.R]-p)*S,v+=(l[w+n.G]-v)*S,_+=(l[w+n.B]-_)*S,m+=(l[w+n.A]-m)*S,y+=(l[w+n.R2]-y)*S,g+=(l[w+n.G2]-g)*S,b+=(l[w+n.B2]-b)*S}if(1==a)u.color.set(p,v,_,m),u.darkColor.set(y,g,b,1);else{var k=u.color,T=u.darkColor;o==Tt.setup&&(k.setFromColor(u.data.color),T.setFromColor(u.data.darkColor)),k.add((p-k.r)*a,(v-k.g)*a,(_-k.b)*a,(m-k.a)*a),T.add((y-T.r)*a,(g-T.g)*a,(b-T.b)*a,0)}}}}}],[{key:"__initStatic25",value:function(){this.ENTRIES=8}},{key:"__initStatic26",value:function(){this.PREV_TIME=-8}},{key:"__initStatic27",value:function(){this.PREV_R=-7}},{key:"__initStatic28",value:function(){this.PREV_G=-6}},{key:"__initStatic29",value:function(){this.PREV_B=-5}},{key:"__initStatic30",value:function(){this.PREV_A=-4}},{key:"__initStatic31",value:function(){this.PREV_R2=-3}},{key:"__initStatic32",value:function(){this.PREV_G2=-2}},{key:"__initStatic33",value:function(){this.PREV_B2=-1}},{key:"__initStatic34",value:function(){this.R=1}},{key:"__initStatic35",value:function(){this.G=2}},{key:"__initStatic36",value:function(){this.B=3}},{key:"__initStatic37",value:function(){this.A=4}},{key:"__initStatic38",value:function(){this.R2=5}},{key:"__initStatic39",value:function(){this.G2=6}},{key:"__initStatic40",value:function(){this.B2=7}}]),n}(Ct);Lt.__initStatic25(),Lt.__initStatic26(),Lt.__initStatic27(),Lt.__initStatic28(),Lt.__initStatic29(),Lt.__initStatic30(),Lt.__initStatic31(),Lt.__initStatic32(),Lt.__initStatic33(),Lt.__initStatic34(),Lt.__initStatic35(),Lt.__initStatic36(),Lt.__initStatic37(),Lt.__initStatic38(),Lt.__initStatic39(),Lt.__initStatic40();var Ft=function(){function t(e){vt(this,t),this.frames=z.newFloatArray(e),this.attachmentNames=new Array(e)}return ut(t,[{key:"getPropertyId",value:function(){return(Rt.attachment<<24)+this.slotIndex}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=t.slots[this.slotIndex];if(s.bone.active)if(o!=At.mixOut){var u=this.frames;if(n<u[0])a!=Tt.setup&&a!=Tt.first||this.setAttachment(t,s,s.data.attachmentName);else{var l=0;l=n>=u[u.length-1]?u.length-1:It.binarySearch(u,n,1)-1;var h=this.attachmentNames[l];t.slots[this.slotIndex].setAttachment(null==h?null:t.getAttachment(this.slotIndex,h))}}else a==Tt.setup&&this.setAttachment(t,s,s.data.attachmentName)}},{key:"setAttachment",value:function(t,e,n){e.setAttachment(null==n?null:t.getAttachment(this.slotIndex,n))}}]),t}(),Bt=null,Vt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t),i.frameVertices=new Array(t),null==Bt&&(Bt=z.newFloatArray(64)),i}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.deform<<27)+ +this.attachment.id+this.slotIndex}},{key:"setFrame",value:function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=t.slots[this.slotIndex];if(s.bone.active){var u=s.getAttachment();if(u instanceof mt&&u.deformAttachment==this.attachment){var l=s.deform;0==l.length&&(a=Tt.setup);var h=this.frameVertices,c=h[0].length,f=this.frames;if(n<f[0]){var d=u;switch(a){case Tt.setup:return void(l.length=0);case Tt.first:if(1==r){l.length=0;break}var p=z.setArraySize(l,c);if(null==d.bones)for(var v=d.vertices,_=0;_<c;_++)p[_]+=(v[_]-p[_])*r;else{r=1-r;for(_=0;_<c;_++)p[_]*=r}}}else{var m=z.setArraySize(l,c);if(n>=f[f.length-1]){var y=h[f.length-1];if(1==r)if(a==Tt.add){var g=u;if(null==g.bones)for(var b=g.vertices,x=0;x<c;x++)m[x]+=y[x]-b[x];else for(var w=0;w<c;w++)m[w]+=y[w]}else z.arrayCopy(y,0,m,0,c);else switch(a){case Tt.setup:var E=u;if(null==E.bones)for(var S=E.vertices,k=0;k<c;k++){var T=S[k];m[k]=T+(y[k]-T)*r}else for(var A=0;A<c;A++)m[A]=y[A]*r;break;case Tt.first:case Tt.replace:for(var R=0;R<c;R++)m[R]+=(y[R]-m[R])*r;break;case Tt.add:var I=u;if(null==I.bones)for(var C=I.vertices,P=0;P<c;P++)m[P]+=(y[P]-C[P])*r;else for(var M=0;M<c;M++)m[M]+=y[M]*r}}else{var O=It.binarySearch(f,n),D=h[O-1],N=h[O],L=f[O],F=this.getCurvePercent(O-1,1-(n-L)/(f[O-1]-L));if(1==r)if(a==Tt.add){var B=u;if(null==B.bones)for(var V=B.vertices,U=0;U<c;U++){var X=D[U];m[U]+=X+(N[U]-X)*F-V[U]}else for(var Y=0;Y<c;Y++){var j=D[Y];m[Y]+=j+(N[Y]-j)*F}}else for(var G=0;G<c;G++){var H=D[G];m[G]=H+(N[G]-H)*F}else switch(a){case Tt.setup:var W=u;if(null==W.bones)for(var q=W.vertices,Z=0;Z<c;Z++){var K=D[Z],$=q[Z];m[Z]=$+(K+(N[Z]-K)*F-$)*r}else for(var Q=0;Q<c;Q++){var J=D[Q];m[Q]=(J+(N[Q]-J)*F)*r}break;case Tt.first:case Tt.replace:for(var tt=0;tt<c;tt++){var et=D[tt];m[tt]+=(et+(N[tt]-et)*F-m[tt])*r}break;case Tt.add:var nt=u;if(null==nt.bones)for(var it=nt.vertices,rt=0;rt<c;rt++){var at=D[rt];m[rt]+=(at+(N[rt]-at)*F-it[rt])*r}else for(var ot=0;ot<c;ot++){var st=D[ot];m[ot]+=(st+(N[ot]-st)*F)*r}}}}}}}}]),n}(Ct),Ut=function(){function t(e){vt(this,t),this.frames=z.newFloatArray(e),this.events=new Array(e)}return ut(t,[{key:"getPropertyId",value:function(){return Rt.event<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e){this.frames[t]=e.time,this.events[t]=e}},{key:"apply",value:function(t,e,n,i,r,a,o){if(null!=i){var s=this.frames,u=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,i,r,a,o),e=-1;else if(e>=s[u-1])return;if(!(n<s[0])){var l=0;if(e<s[0])l=0;else for(var h=s[l=It.binarySearch(s,e)];l>0&&s[l-1]==h;)l--;for(;l<u&&n>=s[l];l++)i.push(this.events[l])}}}}]),t}(),Xt=function(){function t(e){vt(this,t),this.frames=z.newFloatArray(e),this.drawOrders=new Array(e)}return ut(t,[{key:"getPropertyId",value:function(){return Rt.drawOrder<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=t.drawOrder,u=t.slots;if(o!=At.mixOut||a!=Tt.setup){var l=this.frames;if(n<l[0])a!=Tt.setup&&a!=Tt.first||z.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var h=0;h=n>=l[l.length-1]?l.length-1:It.binarySearch(l,n)-1;var c=this.drawOrders[h];if(null==c)z.arrayCopy(u,0,s,0,u.length);else for(var f=0,d=c.length;f<d;f++)s[f]=u[c[f]]}}else z.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}]),t}(),Yt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.ikConstraint<<24)+this.ikConstraintIndex}},{key:"setFrame",value:function(t,e,i,r,a,o,s){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.MIX]=i,this.frames[t+n.SOFTNESS]=r,this.frames[t+n.BEND_DIRECTION]=a,this.frames[t+n.COMPRESS]=o?1:0,this.frames[t+n.STRETCH]=s?1:0}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.ikConstraints[this.ikConstraintIndex];if(l.active)if(i<u[0])switch(o){case Tt.setup:return l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,void(l.stretch=l.data.stretch);case Tt.first:l.mix+=(l.data.mix-l.mix)*a,l.softness+=(l.data.softness-l.softness)*a,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}else if(i>=u[u.length-n.ENTRIES])o==Tt.setup?(l.mix=l.data.mix+(u[u.length+n.PREV_MIX]-l.data.mix)*a,l.softness=l.data.softness+(u[u.length+n.PREV_SOFTNESS]-l.data.softness)*a,s==At.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[u.length+n.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+n.PREV_COMPRESS],l.stretch=0!=u[u.length+n.PREV_STRETCH])):(l.mix+=(u[u.length+n.PREV_MIX]-l.mix)*a,l.softness+=(u[u.length+n.PREV_SOFTNESS]-l.softness)*a,s==At.mixIn&&(l.bendDirection=u[u.length+n.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+n.PREV_COMPRESS],l.stretch=0!=u[u.length+n.PREV_STRETCH]));else{var h=It.binarySearch(u,i,n.ENTRIES),c=u[h+n.PREV_MIX],f=u[h+n.PREV_SOFTNESS],d=u[h],p=this.getCurvePercent(h/n.ENTRIES-1,1-(i-d)/(u[h+n.PREV_TIME]-d));o==Tt.setup?(l.mix=l.data.mix+(c+(u[h+n.MIX]-c)*p-l.data.mix)*a,l.softness=l.data.softness+(f+(u[h+n.SOFTNESS]-f)*p-l.data.softness)*a,s==At.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[h+n.PREV_BEND_DIRECTION],l.compress=0!=u[h+n.PREV_COMPRESS],l.stretch=0!=u[h+n.PREV_STRETCH])):(l.mix+=(c+(u[h+n.MIX]-c)*p-l.mix)*a,l.softness+=(f+(u[h+n.SOFTNESS]-f)*p-l.softness)*a,s==At.mixIn&&(l.bendDirection=u[h+n.PREV_BEND_DIRECTION],l.compress=0!=u[h+n.PREV_COMPRESS],l.stretch=0!=u[h+n.PREV_STRETCH]))}}}],[{key:"__initStatic41",value:function(){this.ENTRIES=6}},{key:"__initStatic42",value:function(){this.PREV_TIME=-6}},{key:"__initStatic43",value:function(){this.PREV_MIX=-5}},{key:"__initStatic44",value:function(){this.PREV_SOFTNESS=-4}},{key:"__initStatic45",value:function(){this.PREV_BEND_DIRECTION=-3}},{key:"__initStatic46",value:function(){this.PREV_COMPRESS=-2}},{key:"__initStatic47",value:function(){this.PREV_STRETCH=-1}},{key:"__initStatic48",value:function(){this.MIX=1}},{key:"__initStatic49",value:function(){this.SOFTNESS=2}},{key:"__initStatic50",value:function(){this.BEND_DIRECTION=3}},{key:"__initStatic51",value:function(){this.COMPRESS=4}},{key:"__initStatic52",value:function(){this.STRETCH=5}}]),n}(Ct);Yt.__initStatic41(),Yt.__initStatic42(),Yt.__initStatic43(),Yt.__initStatic44(),Yt.__initStatic45(),Yt.__initStatic46(),Yt.__initStatic47(),Yt.__initStatic48(),Yt.__initStatic49(),Yt.__initStatic50(),Yt.__initStatic51(),Yt.__initStatic52();var jt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.transformConstraint<<24)+this.transformConstraintIndex}},{key:"setFrame",value:function(t,e,i,r,a,o){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.ROTATE]=i,this.frames[t+n.TRANSLATE]=r,this.frames[t+n.SCALE]=a,this.frames[t+n.SHEAR]=o}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(l.active)if(i<u[0]){var h=l.data;switch(o){case Tt.setup:return l.rotateMix=h.rotateMix,l.translateMix=h.translateMix,l.scaleMix=h.scaleMix,void(l.shearMix=h.shearMix);case Tt.first:l.rotateMix+=(h.rotateMix-l.rotateMix)*a,l.translateMix+=(h.translateMix-l.translateMix)*a,l.scaleMix+=(h.scaleMix-l.scaleMix)*a,l.shearMix+=(h.shearMix-l.shearMix)*a}}else{var c=0,f=0,d=0,p=0;if(i>=u[u.length-n.ENTRIES]){var v=u.length;c=u[v+n.PREV_ROTATE],f=u[v+n.PREV_TRANSLATE],d=u[v+n.PREV_SCALE],p=u[v+n.PREV_SHEAR]}else{var _=It.binarySearch(u,i,n.ENTRIES);c=u[_+n.PREV_ROTATE],f=u[_+n.PREV_TRANSLATE],d=u[_+n.PREV_SCALE],p=u[_+n.PREV_SHEAR];var m=u[_],y=this.getCurvePercent(_/n.ENTRIES-1,1-(i-m)/(u[_+n.PREV_TIME]-m));c+=(u[_+n.ROTATE]-c)*y,f+=(u[_+n.TRANSLATE]-f)*y,d+=(u[_+n.SCALE]-d)*y,p+=(u[_+n.SHEAR]-p)*y}if(o==Tt.setup){var g=l.data;l.rotateMix=g.rotateMix+(c-g.rotateMix)*a,l.translateMix=g.translateMix+(f-g.translateMix)*a,l.scaleMix=g.scaleMix+(d-g.scaleMix)*a,l.shearMix=g.shearMix+(p-g.shearMix)*a}else l.rotateMix+=(c-l.rotateMix)*a,l.translateMix+=(f-l.translateMix)*a,l.scaleMix+=(d-l.scaleMix)*a,l.shearMix+=(p-l.shearMix)*a}}}],[{key:"__initStatic53",value:function(){this.ENTRIES=5}},{key:"__initStatic54",value:function(){this.PREV_TIME=-5}},{key:"__initStatic55",value:function(){this.PREV_ROTATE=-4}},{key:"__initStatic56",value:function(){this.PREV_TRANSLATE=-3}},{key:"__initStatic57",value:function(){this.PREV_SCALE=-2}},{key:"__initStatic58",value:function(){this.PREV_SHEAR=-1}},{key:"__initStatic59",value:function(){this.ROTATE=1}},{key:"__initStatic60",value:function(){this.TRANSLATE=2}},{key:"__initStatic61",value:function(){this.SCALE=3}},{key:"__initStatic62",value:function(){this.SHEAR=4}}]),n}(Ct);jt.__initStatic53(),jt.__initStatic54(),jt.__initStatic55(),jt.__initStatic56(),jt.__initStatic57(),jt.__initStatic58(),jt.__initStatic59(),jt.__initStatic60(),jt.__initStatic61(),jt.__initStatic62();var Gt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.pathConstraintPosition<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,e,i){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.VALUE]=i}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(i<u[0])switch(o){case Tt.setup:return void(l.position=l.data.position);case Tt.first:l.position+=(l.data.position-l.position)*a}else{var h=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_VALUE];else{var c=It.binarySearch(u,i,n.ENTRIES);h=u[c+n.PREV_VALUE];var f=u[c],d=this.getCurvePercent(c/n.ENTRIES-1,1-(i-f)/(u[c+n.PREV_TIME]-f));h+=(u[c+n.VALUE]-h)*d}o==Tt.setup?l.position=l.data.position+(h-l.data.position)*a:l.position+=(h-l.position)*a}}}],[{key:"__initStatic63",value:function(){this.ENTRIES=2}},{key:"__initStatic64",value:function(){this.PREV_TIME=-2}},{key:"__initStatic65",value:function(){this.PREV_VALUE=-1}},{key:"__initStatic66",value:function(){this.VALUE=1}}]),n}(Ct);Gt.__initStatic63(),Gt.__initStatic64(),Gt.__initStatic65(),Gt.__initStatic66();var Ht=function(t){lt(n,t);var e=ct(n);function n(t){return vt(this,n),e.call(this,t)}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.pathConstraintSpacing<<24)+this.pathConstraintIndex}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(i<u[0])switch(o){case Tt.setup:return void(l.spacing=l.data.spacing);case Tt.first:l.spacing+=(l.data.spacing-l.spacing)*a}else{var h=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_VALUE];else{var c=It.binarySearch(u,i,n.ENTRIES);h=u[c+n.PREV_VALUE];var f=u[c],d=this.getCurvePercent(c/n.ENTRIES-1,1-(i-f)/(u[c+n.PREV_TIME]-f));h+=(u[c+n.VALUE]-h)*d}o==Tt.setup?l.spacing=l.data.spacing+(h-l.data.spacing)*a:l.spacing+=(h-l.spacing)*a}}}]),n}(Gt),Wt=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return ut(n,[{key:"getPropertyId",value:function(){return(Rt.pathConstraintMix<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,e,i,r){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.ROTATE]=i,this.frames[t+n.TRANSLATE]=r}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(i<u[0])switch(o){case Tt.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case Tt.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*a,l.translateMix+=(l.data.translateMix-l.translateMix)*a}else{var h=0,c=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_ROTATE],c=u[u.length+n.PREV_TRANSLATE];else{var f=It.binarySearch(u,i,n.ENTRIES);h=u[f+n.PREV_ROTATE],c=u[f+n.PREV_TRANSLATE];var d=u[f],p=this.getCurvePercent(f/n.ENTRIES-1,1-(i-d)/(u[f+n.PREV_TIME]-d));h+=(u[f+n.ROTATE]-h)*p,c+=(u[f+n.TRANSLATE]-c)*p}o==Tt.setup?(l.rotateMix=l.data.rotateMix+(h-l.data.rotateMix)*a,l.translateMix=l.data.translateMix+(c-l.data.translateMix)*a):(l.rotateMix+=(h-l.rotateMix)*a,l.translateMix+=(c-l.translateMix)*a)}}}],[{key:"__initStatic67",value:function(){this.ENTRIES=3}},{key:"__initStatic68",value:function(){this.PREV_TIME=-3}},{key:"__initStatic69",value:function(){this.PREV_ROTATE=-2}},{key:"__initStatic70",value:function(){this.PREV_TRANSLATE=-1}},{key:"__initStatic71",value:function(){this.ROTATE=1}},{key:"__initStatic72",value:function(){this.TRANSLATE=2}}]),n}(Ct);Wt.__initStatic67(),Wt.__initStatic68(),Wt.__initStatic69(),Wt.__initStatic70(),Wt.__initStatic71(),Wt.__initStatic72();var zt=function(){function t(e){vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),this.data=e}return ut(t,[{key:"__init",value:function(){this.tracks=new Array}},{key:"__init2",value:function(){this.timeScale=1}},{key:"__init3",value:function(){this.unkeyedState=0}},{key:"__init4",value:function(){this.events=new Array}},{key:"__init5",value:function(){this.listeners=new Array}},{key:"__init6",value:function(){this.queue=new Kt(this)}},{key:"__init7",value:function(){this.propertyIDs=new U}},{key:"__init8",value:function(){this.animationsChanged=!1}},{key:"__init9",value:function(){this.trackEntryPool=new Z((function(){return new qt}))}},{key:"update",value:function(t){t*=this.timeScale;for(var e=this.tracks,n=0,i=e.length;n<i;n++){var r=e[n];if(null!=r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var a=t*r.timeScale;if(r.delay>0){if(r.delay-=a,r.delay>0)continue;a=-r.delay,r.delay=0}var o=r.next;if(null!=o){var s=r.trackLast-o.delay;if(s>=0){for(o.delay=0,o.trackTime+=0==r.timeScale?0:(s/r.timeScale+t)*o.timeScale,r.trackTime+=a,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&null==r.mixingFrom){e[n]=null,this.queue.end(r),this.disposeNext(r);continue}if(null!=r.mixingFrom&&this.updateMixingFrom(r,t)){var u=r.mixingFrom;for(r.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}r.trackTime+=a}}this.queue.drain()}},{key:"updateMixingFrom",value:function(t,e){var n=t.mixingFrom;if(null==n)return!0;var i=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)}},{key:"apply",value:function(e){if(null==e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,i=this.tracks,r=!1,a=0,o=i.length;a<o;a++){var s=i[a];if(!(null==s||s.delay>0)){r=!0;var u=0==a?Tt.first:s.mixBlend,l=s.alpha;null!=s.mixingFrom?l*=this.applyMixingFrom(s,e,u):s.trackTime>=s.trackEnd&&null==s.next&&(l=0);var h=s.animationLast,c=s.getAnimationTime(),f=s.animation.timelines.length,d=s.animation.timelines;if(0==a&&1==l||u==Tt.add)for(var p=0;p<f;p++){z.webkit602BugfixHelper(l,u);var v=d[p];v instanceof Ft?this.applyAttachmentTimeline(v,e,c,u,!0):v.apply(e,h,c,n,l,u,At.mixIn)}else{var _=s.timelineMode,m=0==s.timelinesRotation.length;m&&z.setArraySize(s.timelinesRotation,f<<1,null);for(var y=s.timelinesRotation,g=0;g<f;g++){var b=d[g],x=_[g]==t.SUBSEQUENT?u:Tt.setup;b instanceof Pt?this.applyRotateTimeline(b,e,c,l,x,y,g<<1,m):b instanceof Ft?this.applyAttachmentTimeline(b,e,c,u,!0):(z.webkit602BugfixHelper(l,u),b.apply(e,h,c,n,l,x,At.mixIn))}}this.queueEvents(s,c),n.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}for(var w=this.unkeyedState+t.SETUP,E=e.slots,S=0,k=e.slots.length;S<k;S++){var T=E[S];if(T.attachmentState==w){var A=T.data.attachmentName;T.setAttachment(null==A?null:e.getAttachment(T.data.index,A))}}return this.unkeyedState+=2,this.queue.drain(),r}},{key:"applyMixingFrom",value:function(e,n,i){var r=e.mixingFrom;null!=r.mixingFrom&&this.applyMixingFrom(r,n,i);var a=0;0==e.mixDuration?(a=1,i==Tt.first&&(i=Tt.setup)):((a=e.mixTime/e.mixDuration)>1&&(a=1),i!=Tt.first&&(i=r.mixBlend));var o=a<r.eventThreshold?this.events:null,s=a<r.attachmentThreshold,u=a<r.drawOrderThreshold,l=r.animationLast,h=r.getAnimationTime(),c=r.animation.timelines.length,f=r.animation.timelines,d=r.alpha*e.interruptAlpha,p=d*(1-a);if(i==Tt.add)for(var v=0;v<c;v++)f[v].apply(n,l,h,o,p,i,At.mixOut);else{var _=r.timelineMode,m=r.timelineHoldMix,y=0==r.timelinesRotation.length;y&&z.setArraySize(r.timelinesRotation,c<<1,null);var g=r.timelinesRotation;r.totalAlpha=0;for(var b=0;b<c;b++){var x=f[b],w=At.mixOut,E=void 0,S=0;switch(_[b]){case t.SUBSEQUENT:if(!u&&x instanceof Xt)continue;E=i,S=p;break;case t.FIRST:E=Tt.setup,S=p;break;case t.HOLD_SUBSEQUENT:E=i,S=d;break;case t.HOLD_FIRST:E=Tt.setup,S=d;break;default:E=Tt.setup;var k=m[b];S=d*Math.max(0,1-k.mixTime/k.mixDuration)}r.totalAlpha+=S,x instanceof Pt?this.applyRotateTimeline(x,n,h,S,E,g,b<<1,y):x instanceof Ft?this.applyAttachmentTimeline(x,n,h,E,s):(z.webkit602BugfixHelper(S,i),u&&x instanceof Xt&&E==Tt.setup&&(w=At.mixIn),x.apply(n,l,h,o,S,E,w))}}return e.mixDuration>0&&this.queueEvents(r,h),this.events.length=0,r.nextAnimationLast=h,r.nextTrackLast=r.trackTime,a}},{key:"applyAttachmentTimeline",value:function(e,n,i,r,a){var o=n.slots[e.slotIndex];if(o.bone.active){var s,u=e.frames;if(i<u[0])r!=Tt.setup&&r!=Tt.first||this.setAttachment(n,o,o.data.attachmentName,a);else s=i>=u[u.length-1]?u.length-1:It.binarySearch(u,i)-1,this.setAttachment(n,o,e.attachmentNames[s],a);o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}}},{key:"setAttachment",value:function(e,n,i,r){n.setAttachment(null==i?null:e.getAttachment(n.data.index,i)),r&&(n.attachmentState=this.unkeyedState+t.CURRENT)}},{key:"applyRotateTimeline",value:function(t,e,n,i,r,a,o,s){if(s&&(a[o]=0),1!=i){var u=t,l=u.frames,h=e.bones[u.boneIndex];if(h.active){var c=0,f=0;if(n<l[0])switch(r){case Tt.setup:h.rotation=h.data.rotation;default:return;case Tt.first:c=h.rotation,f=h.data.rotation}else if(c=r==Tt.setup?h.data.rotation:h.rotation,n>=l[l.length-Pt.ENTRIES])f=h.data.rotation+l[l.length+Pt.PREV_ROTATION];else{var d=It.binarySearch(l,n,Pt.ENTRIES),p=l[d+Pt.PREV_ROTATION],v=l[d],_=u.getCurvePercent((d>>1)-1,1-(n-v)/(l[d+Pt.PREV_TIME]-v));f=l[d+Pt.ROTATION]-p,f=p+(f-=360*(16384-(16384.499999999996-f/360|0)))*_+h.data.rotation,f-=360*(16384-(16384.499999999996-f/360|0))}var m=0,y=f-c;if(0==(y-=360*(16384-(16384.499999999996-y/360|0))))m=a[o];else{var g=0,b=0;s?(g=0,b=y):(g=a[o],b=a[o+1]);var x=y>0,w=g>=0;j.signum(b)!=j.signum(y)&&Math.abs(b)<=90&&(Math.abs(g)>180&&(g+=360*j.signum(g)),w=x),m=y+g-g%360,w!=x&&(m+=360*j.signum(g)),a[o]=m}a[o+1]=y,c+=m*i,h.rotation=c-360*(16384-(16384.499999999996-c/360|0))}}else t.apply(e,0,n,null,1,r,At.mixIn)}},{key:"queueEvents",value:function(t,e){for(var n=t.animationStart,i=t.animationEnd,r=i-n,a=t.trackLast%r,o=this.events,s=0,u=o.length;s<u;s++){var l=o[s];if(l.time<a)break;l.time>i||this.queue.event(t,l)}for((t.loop?0==r||a>t.trackTime%r:e>=i&&t.animationLast<i)&&this.queue.complete(t);s<u;s++){o[s].time<n||this.queue.event(t,o[s])}}},{key:"clearTracks",value:function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}},{key:"clearTrack",value:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var i=n.mixingFrom;if(null==i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[e.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(t,e,n){var i=this.expandToIndex(t);this.tracks[t]=e,null!=i&&(n&&this.queue.interrupt(i),e.mixingFrom=i,i.mixingTo=e,e.mixTime=0,null!=i.mixingFrom&&i.mixDuration>0&&(e.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(e)}},{key:"setAnimation",value:function(t,e,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,i,n)}},{key:"setAnimationWith",value:function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var i=!0,r=this.expandToIndex(t);null!=r&&(-1==r.nextTrackLast?(this.tracks[t]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.disposeNext(r),r=r.mixingFrom,i=!1):this.disposeNext(r));var a=this.trackEntry(t,e,n,r);return this.setCurrent(t,a,i),this.queue.drain(),a}},{key:"addAnimation",value:function(t,e,n,i){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,r,n,i)}},{key:"addAnimationWith",value:function(t,e,n,i){if(null==e)throw new Error("animation cannot be null.");var r=this.expandToIndex(t);if(null!=r)for(;null!=r.next;)r=r.next;var a=this.trackEntry(t,e,n,r);if(null==r)this.setCurrent(t,a,!0),this.queue.drain();else if(r.next=a,i<=0){var o=r.animationEnd-r.animationStart;0!=o?(r.loop?i+=o*(1+(r.trackTime/o|0)):i+=Math.max(o,r.trackTime),i-=this.data.getMix(r.animation,e)):i=r.trackTime}return a.delay=i,a}},{key:"setEmptyAnimation",value:function(e,n){var i=this.setAnimationWith(e,t.emptyAnimation,!1);return i.mixDuration=n,i.trackEnd=n,i}},{key:"addEmptyAnimation",value:function(e,n,i){i<=0&&(i-=n);var r=this.addAnimationWith(e,t.emptyAnimation,!1,i);return r.mixDuration=n,r.trackEnd=n,r}},{key:"setEmptyAnimations",value:function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var r=this.tracks[n];null!=r&&this.setEmptyAnimation(r.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}},{key:"expandToIndex",value:function(t){return t<this.tracks.length?this.tracks[t]:(z.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}},{key:"trackEntry",value:function(t,e,n,i){var r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=n,r.holdPrevious=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=null==i?0:this.data.getMix(i.animation,e),r.mixBlend=Tt.replace,r}},{key:"disposeNext",value:function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var n=this.tracks[t];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;do{null!=n.mixingFrom&&n.mixBlend==Tt.add||this.computeHold(n),n=n.mixingTo}while(null!=n)}}}},{key:"computeHold",value:function(e){var n=e.mixingTo,i=e.animation.timelines,r=e.animation.timelines.length,a=z.setArraySize(e.timelineMode,r);e.timelineHoldMix.length=0;var o=z.setArraySize(e.timelineHoldMix,r),s=this.propertyIDs;if(null!=n&&n.holdPrevious)for(var u=0;u<r;u++)a[u]=s.add(i[u].getPropertyId())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;else t:for(var l=0;l<r;l++){var h=i[l],c=h.getPropertyId();if(s.add(c))if(null==n||h instanceof Ft||h instanceof Xt||h instanceof Ut||!n.animation.hasTimeline(c))a[l]=t.FIRST;else{for(var f=n.mixingTo;null!=f;f=f.mixingTo)if(!f.animation.hasTimeline(c)){if(e.mixDuration>0){a[l]=t.HOLD_MIX,o[l]=f;continue t}break}a[l]=t.HOLD_FIRST}else a[l]=t.SUBSEQUENT}}},{key:"getCurrent",value:function(t){return t>=this.tracks.length?null:this.tracks[t]}},{key:"addListener",value:function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(e,n,i){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.setAnimation(e,n,i)}},{key:"addAnimationByName",value:function(e,n,i,r){t.deprecatedWarning2||(t.deprecatedWarning2=!0),this.addAnimation(e,n,i,r)}},{key:"hasAnimation",value:function(t){return null!==this.data.skeletonData.findAnimation(t)}},{key:"hasAnimationByName",value:function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0),this.hasAnimation(e)}}],[{key:"__initStatic",value:function(){this.emptyAnimation=new It("<empty>",[],0)}},{key:"__initStatic2",value:function(){this.SUBSEQUENT=0}},{key:"__initStatic3",value:function(){this.FIRST=1}},{key:"__initStatic4",value:function(){this.HOLD_SUBSEQUENT=2}},{key:"__initStatic5",value:function(){this.HOLD_FIRST=3}},{key:"__initStatic6",value:function(){this.HOLD_MIX=4}},{key:"__initStatic7",value:function(){this.SETUP=1}},{key:"__initStatic8",value:function(){this.CURRENT=2}},{key:"__initStatic9",value:function(){this.deprecatedWarning1=!1}},{key:"__initStatic10",value:function(){this.deprecatedWarning2=!1}},{key:"__initStatic11",value:function(){this.deprecatedWarning3=!1}}]),t}();zt.__initStatic(),zt.__initStatic2(),zt.__initStatic3(),zt.__initStatic4(),zt.__initStatic5(),zt.__initStatic6(),zt.__initStatic7(),zt.__initStatic8(),zt.__initStatic9(),zt.__initStatic10(),zt.__initStatic11();var qt=function(){function t(){vt(this,t),t.prototype.__init10.call(this),t.prototype.__init11.call(this),t.prototype.__init12.call(this),t.prototype.__init13.call(this)}return ut(t,[{key:"__init10",value:function(){this.mixBlend=Tt.replace}},{key:"__init11",value:function(){this.timelineMode=new Array}},{key:"__init12",value:function(){this.timelineHoldMix=new Array}},{key:"__init13",value:function(){this.timelinesRotation=new Array}},{key:"reset",value:function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(t){this.animationLast=t,this.nextAnimationLast=t}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"time",get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.trackTime=e}},{key:"endTime",get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0),this.trackTime=e}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}}],[{key:"__initStatic12",value:function(){this.deprecatedWarning1=!1}},{key:"__initStatic13",value:function(){this.deprecatedWarning2=!1}}]),t}();qt.__initStatic12(),qt.__initStatic13();var Zt,Kt=function(){function t(e){vt(this,t),t.prototype.__init14.call(this),t.prototype.__init15.call(this),this.animState=e}return ut(t,[{key:"__init14",value:function(){this.objects=[]}},{key:"__init15",value:function(){this.drainDisabled=!1}},{key:"start",value:function(t){this.objects.push(Zt.start),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(t){this.objects.push(Zt.interrupt),this.objects.push(t)}},{key:"end",value:function(t){this.objects.push(Zt.end),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"dispose",value:function(t){this.objects.push(Zt.dispose),this.objects.push(t)}},{key:"complete",value:function(t){this.objects.push(Zt.complete),this.objects.push(t)}},{key:"event",value:function(t,e){this.objects.push(Zt.event),this.objects.push(t),this.objects.push(e)}},{key:"deprecateStuff",value:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0),!0}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];switch(i){case Zt.start:null!=r.listener&&r.listener.start&&r.listener.start(r);for(var a=0;a<e.length;a++)e[a].start&&e[a].start(r);r.onStart&&this.deprecateStuff()&&r.onStart(r.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(r.trackIndex);break;case Zt.interrupt:null!=r.listener&&r.listener.interrupt&&r.listener.interrupt(r);for(var o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(r);break;case Zt.end:null!=r.listener&&r.listener.end&&r.listener.end(r);for(var s=0;s<e.length;s++)e[s].end&&e[s].end(r);r.onEnd&&this.deprecateStuff()&&r.onEnd(r.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(r.trackIndex);case Zt.dispose:null!=r.listener&&r.listener.dispose&&r.listener.dispose(r);for(var u=0;u<e.length;u++)e[u].dispose&&e[u].dispose(r);this.animState.trackEntryPool.free(r);break;case Zt.complete:null!=r.listener&&r.listener.complete&&r.listener.complete(r);for(var l=0;l<e.length;l++)e[l].complete&&e[l].complete(r);var h=j.toInt(r.loopsCount());r.onComplete&&this.deprecateStuff()&&r.onComplete(r.trackIndex,h),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(r.trackIndex,h);break;case Zt.event:var c=t[2+n++];null!=r.listener&&r.listener.event&&r.listener.event(r,c);for(var f=0;f<e.length;f++)e[f].event&&e[f].event(r,c);r.onEvent&&this.deprecateStuff()&&r.onEvent(r.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(r.trackIndex,c)}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}],[{key:"__initStatic14",value:function(){this.deprecatedWarning1=!1}}]),t}();Kt.__initStatic14(),function(t){t[t.start=0]="start";t[t.interrupt=1]="interrupt";t[t.end=2]="end";t[t.dispose=3]="dispose";t[t.complete=4]="complete";t[t.event=5]="event"}(Zt||(Zt={}));var $t=function(){function t(){vt(this,t)}return ut(t,[{key:"start",value:function(t){}},{key:"interrupt",value:function(t){}},{key:"end",value:function(t){}},{key:"dispose",value:function(t){}},{key:"complete",value:function(t){}},{key:"event",value:function(t,e){}}]),t}(),Qt=function(){function t(e){if(vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),null==e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return ut(t,[{key:"__init",value:function(){this.animationToMixTime={}}},{key:"__init2",value:function(){this.defaultMix=0}},{key:"setMix",value:function(t,e,n){var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: "+t);var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);this.setMixWith(i,r,n)}},{key:"setMixByName",value:function(e,n,i){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.setMix(e,n,i)}},{key:"setMixWith",value:function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var i=t.name+"."+e.name;this.animationToMixTime[i]=n}},{key:"getMix",value:function(t,e){var n=t.name+"."+e.name,i=this.animationToMixTime[n];return void 0===i?this.defaultMix:i}}],[{key:"__initStatic",value:function(){this.deprecatedWarning1=!1}}]),t}();Qt.__initStatic();var Jt,te=function(){function t(e){vt(this,t),this.atlas=e}return ut(t,[{key:"newRegionAttachment",value:function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");var r=new Et(e);return r.region=i,r}},{key:"newMeshAttachment",value:function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");var r=new bt(e);return r.region=i,r}},{key:"newBoundingBoxAttachment",value:function(t,e){return new yt(e)}},{key:"newPathAttachment",value:function(t,e){return new xt(e)}},{key:"newPointAttachment",value:function(t,e){return new wt(e)}},{key:"newClippingAttachment",value:function(t,e){return new gt(e)}}]),t}(),ee=function(){function t(e,n,i){if(vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),e<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");this.index=e,this.name=n,this.parent=i}return ut(t,[{key:"__init",value:function(){this.x=0}},{key:"__init2",value:function(){this.y=0}},{key:"__init3",value:function(){this.rotation=0}},{key:"__init4",value:function(){this.scaleX=1}},{key:"__init5",value:function(){this.scaleY=1}},{key:"__init6",value:function(){this.shearX=0}},{key:"__init7",value:function(){this.shearY=0}},{key:"__init8",value:function(){this.transformMode=Jt.Normal}},{key:"__init9",value:function(){this.skinRequired=!1}},{key:"__init10",value:function(){this.color=new Y}}]),t}();!function(t){t[t.Normal=0]="Normal";t[t.OnlyTranslation=1]="OnlyTranslation";t[t.NoRotationOrReflection=2]="NoRotationOrReflection";t[t.NoScale=3]="NoScale";t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(Jt||(Jt={}));var ne,ie,re,ae=function(){function t(e,n,i){if(vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),t.prototype.__init11.call(this),t.prototype.__init12.call(this),t.prototype.__init13.call(this),t.prototype.__init14.call(this),t.prototype.__init15.call(this),t.prototype.__init16.call(this),t.prototype.__init17.call(this),t.prototype.__init18.call(this),t.prototype.__init19.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=n,this.parent=i,this.setToSetupPose()}return ut(t,[{key:"__init",value:function(){this.matrix=new h.y3}},{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}},{key:"__init2",value:function(){this.children=new Array}},{key:"__init3",value:function(){this.x=0}},{key:"__init4",value:function(){this.y=0}},{key:"__init5",value:function(){this.rotation=0}},{key:"__init6",value:function(){this.scaleX=0}},{key:"__init7",value:function(){this.scaleY=0}},{key:"__init8",value:function(){this.shearX=0}},{key:"__init9",value:function(){this.shearY=0}},{key:"__init10",value:function(){this.ax=0}},{key:"__init11",value:function(){this.ay=0}},{key:"__init12",value:function(){this.arotation=0}},{key:"__init13",value:function(){this.ascaleX=0}},{key:"__init14",value:function(){this.ascaleY=0}},{key:"__init15",value:function(){this.ashearX=0}},{key:"__init16",value:function(){this.ashearY=0}},{key:"__init17",value:function(){this.appliedValid=!1}},{key:"__init18",value:function(){this.sorted=!1}},{key:"__init19",value:function(){this.active=!1}},{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(t,e,n,i,r,a,o){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=i,this.ascaleY=r,this.ashearX=a,this.ashearY=o,this.appliedValid=!0;var s=this.parent,u=this.matrix,l=this.skeleton.scaleX,h=J.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var c=this.skeleton,f=n+90+o;return u.a=j.cosDeg(n+a)*i*l,u.c=j.cosDeg(f)*r*l,u.b=j.sinDeg(n+a)*i*h,u.d=j.sinDeg(f)*r*h,u.tx=t*l+c.x,void(u.ty=e*h+c.y)}var d=s.matrix.a,p=s.matrix.c,v=s.matrix.b,_=s.matrix.d;switch(u.tx=d*t+p*e+s.matrix.tx,u.ty=v*t+_*e+s.matrix.ty,this.data.transformMode){case Jt.Normal:var m=n+90+o,y=j.cosDeg(n+a)*i,g=j.cosDeg(m)*r,b=j.sinDeg(n+a)*i,x=j.sinDeg(m)*r;return u.a=d*y+p*b,u.c=d*g+p*x,u.b=v*y+_*b,void(u.d=v*g+_*x);case Jt.OnlyTranslation:var w=n+90+o;u.a=j.cosDeg(n+a)*i,u.c=j.cosDeg(w)*r,u.b=j.sinDeg(n+a)*i,u.d=j.sinDeg(w)*r;break;case Jt.NoRotationOrReflection:var E=d*d+v*v,S=0;E>1e-4?(E=Math.abs(d*_-p*v)/E,d/=this.skeleton.scaleX,p=(v/=this.skeleton.scaleY)*E,_=d*E,S=Math.atan2(v,d)*j.radDeg):(d=0,v=0,S=90-Math.atan2(_,p)*j.radDeg);var k=n+a-S,T=n+o-S+90,A=j.cosDeg(k)*i,R=j.cosDeg(T)*r,I=j.sinDeg(k)*i,C=j.sinDeg(T)*r;u.a=d*A-p*I,u.c=d*R-p*C,u.b=v*A+_*I,u.d=v*R+_*C;break;case Jt.NoScale:case Jt.NoScaleOrReflection:var P=j.cosDeg(n),M=j.sinDeg(n),O=(d*P+p*M)/l,D=(v*P+_*M)/h,N=Math.sqrt(O*O+D*D);N>1e-5&&(N=1/N),O*=N,D*=N,N=Math.sqrt(O*O+D*D),this.data.transformMode==Jt.NoScale&&d*_-p*v<0!=(J.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(N=-N);var L=Math.PI/2+Math.atan2(D,O),F=Math.cos(L)*N,B=Math.sin(L)*N,V=j.cosDeg(a)*i,U=j.cosDeg(90+o)*r,X=j.sinDeg(a)*i,Y=j.sinDeg(90+o)*r;u.a=O*V+F*X,u.c=O*U+F*Y,u.b=D*V+B*X,u.d=D*U+B*Y}u.a*=l,u.c*=l,u.b*=h,u.d*=h}},{key:"setToSetupPose",value:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*j.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*j.radDeg}},{key:"getWorldScaleX",value:function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)}},{key:"getWorldScaleY",value:function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)}},{key:"updateAppliedTransform",value:function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*j.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*j.radDeg);var n=t.matrix,i=1/(n.a*n.d-n.b*n.c),r=e.tx-n.tx,a=e.ty-n.ty;this.ax=r*n.d*i-a*n.c*i,this.ay=a*n.a*i-r*n.b*i;var o=i*n.d,s=i*n.a,u=i*n.c,l=i*n.b,h=o*e.a-u*e.b,c=o*e.c-u*e.d,f=s*e.b-l*e.a,d=s*e.d-l*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+f*f),this.ascaleX>1e-4){var p=h*d-c*f;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(h*c+f*d,p)*j.radDeg,this.arotation=Math.atan2(f,h)*j.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(c*c+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,c)*j.radDeg}},{key:"worldToLocal",value:function(t){var e=this.matrix,n=e.a,i=e.c,r=e.b,a=e.d,o=1/(n*a-i*r),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*a*o-u*i*o,t.y=u*n*o-s*r*o,t}},{key:"localToWorld",value:function(t){var e=this.matrix,n=t.x,i=t.y;return t.x=n*e.a+i*e.c+e.tx,t.y=n*e.b+i*e.d+e.ty,t}},{key:"worldToLocalRotation",value:function(t){var e=j.sinDeg(t),n=j.cosDeg(t),i=this.matrix;return Math.atan2(i.a*e-i.b*n,i.d*n-i.c*e)*j.radDeg}},{key:"localToWorldRotation",value:function(t){var e=j.sinDeg(t),n=j.cosDeg(t),i=this.matrix;return Math.atan2(n*i.b+e*i.d,n*i.a+e*i.c)*j.radDeg}},{key:"rotateWorld",value:function(t){var e=this.matrix,n=e.a,i=e.c,r=e.b,a=e.d,o=j.cosDeg(t),s=j.sinDeg(t);e.a=o*n-s*r,e.c=o*i-s*a,e.b=s*n+o*r,e.d=s*i+o*a,this.appliedValid=!1}}]),t}(),oe=function t(e,n,i){vt(this,t),this.name=e,this.order=n,this.skinRequired=i},se=function t(e,n){if(vt(this,t),null==n)throw new Error("data cannot be null.");this.time=e,this.data=n},ue=function t(e){vt(this,t),this.name=e},le=function(){function t(e,n){if(vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var i=0;i<e.bones.length;i++)this.bones.push(n.findBone(e.bones[i].name));this.target=n.findBone(e.target.name)}return ut(t,[{key:"__init",value:function(){this.bendDirection=0}},{key:"__init2",value:function(){this.compress=!1}},{key:"__init3",value:function(){this.stretch=!1}},{key:"__init4",value:function(){this.mix=1}},{key:"__init5",value:function(){this.softness=0}},{key:"__init6",value:function(){this.active=!1}},{key:"isActive",value:function(){return this.active}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}}},{key:"apply1",value:function(t,e,n,i,r,a,o){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,u=s.a,l=s.c,h=s.b,c=s.d,f=-t.ashearX-t.arotation,d=0,p=0;switch(t.data.transformMode){case Jt.OnlyTranslation:d=e-t.worldX,p=n-t.worldY;break;case Jt.NoRotationOrReflection:var v=Math.abs(u*c-l*h)/(u*u+h*h),_=u/t.skeleton.scaleX,m=h/t.skeleton.scaleY;l=-m*v*t.skeleton.scaleX,c=_*v*t.skeleton.scaleY,f+=Math.atan2(m,_)*j.radDeg;default:var y=e-s.tx,g=n-s.ty,b=u*c-l*h;d=(y*c-g*l)/b-t.ax,p=(g*u-y*h)/b-t.ay}f+=Math.atan2(p,d)*j.radDeg,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var x=t.ascaleX,w=t.ascaleY;if(i||r){switch(t.data.transformMode){case Jt.NoScale:case Jt.NoScaleOrReflection:d=e-t.worldX,p=n-t.worldY}var E=t.data.length*x,S=Math.sqrt(d*d+p*p);if(i&&S<E||r&&S>E&&E>1e-4){var k=(S/E-1)*o+1;x*=k,a&&(w*=k)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*o,x,w,t.ashearX,t.ashearY)}},{key:"apply2",value:function(t,e,n,i,r,a,o,s){if(0!=s){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var u=t.ax,l=t.ay,h=t.ascaleX,c=h,f=t.ascaleY,d=e.ascaleX,p=t.matrix,v=0,_=0,m=0;h<0?(h=-h,v=180,m=-1):(v=0,m=1),f<0&&(f=-f,m=-m),d<0?(d=-d,_=180):_=0;var y=e.ax,g=0,b=0,x=0,w=p.a,E=p.c,S=p.b,k=p.d,T=Math.abs(h-f)<=1e-4;T?(b=w*y+E*(g=e.ay)+p.tx,x=S*y+k*g+p.ty):(g=0,b=w*y+p.tx,x=S*y+p.ty);var A=t.parent.matrix;w=A.a,E=A.c,S=A.b;var R,I,C=1/(w*(k=A.d)-E*S),P=b-A.tx,M=x-A.ty,O=(P*k-M*E)*C-u,D=(M*w-P*S)*C-l,N=Math.sqrt(O*O+D*D),L=e.data.length*d;if(N<1e-4)return this.apply1(t,n,i,!1,a,!1,s),void e.updateWorldTransformWith(y,g,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var F=((P=n-A.tx)*k-(M=i-A.ty)*E)*C-u,B=(M*w-P*S)*C-l,V=F*F+B*B;if(0!=o){o*=h*(d+1)/2;var U=Math.sqrt(V),X=U-N-L*h+o;if(X>0){var Y=Math.min(1,X/(2*o))-1;V=(F-=(Y=(X-o*(1-Y*Y))/U)*F)*F+(B-=Y*B)*B}}t:if(T){var G=(V-N*N-(L*=h)*L)/(2*N*L);G<-1?G=-1:G>1&&(G=1,a&&(c*=(Math.sqrt(V)/(N+L)-1)*s+1)),I=Math.acos(G)*r,w=N+L*G,E=L*Math.sin(I),R=Math.atan2(B*w-F*E,F*w+B*E)}else{var H=(w=h*L)*w,W=(E=f*L)*E,z=Math.atan2(B,F),q=-2*W*N,Z=W-H;if((k=q*q-4*Z*(S=W*N*N+H*V-H*W))>=0){var K=Math.sqrt(k);q<0&&(K=-K);var $=(K=-(q+K)/2)/Z,Q=S/K,J=Math.abs($)<Math.abs(Q)?$:Q;if(J*J<=V){M=Math.sqrt(V-J*J)*r,R=z-Math.atan2(M,J),I=Math.atan2(M/f,(J-N)/h);break t}}var tt=j.PI,et=N-w,nt=et*et,it=0,rt=0,at=N+w,ot=at*at,st=0;(S=-w*N/(H-W))>=-1&&S<=1&&(S=Math.acos(S),(k=(P=w*Math.cos(S)+N)*P+(M=E*Math.sin(S))*M)<nt&&(tt=S,nt=k,et=P,it=M),k>ot&&(rt=S,ot=k,at=P,st=M)),V<=(nt+ot)/2?(R=z-Math.atan2(it*r,et),I=tt*r):(R=z-Math.atan2(st*r,at),I=rt*r)}var ut=Math.atan2(g,y)*m,lt=t.arotation;(R=(R-ut)*j.radDeg+v-lt)>180?R-=360:R<-180&&(R+=360),t.updateWorldTransformWith(u,l,lt+R*s,c,t.ascaleY,0,0),lt=e.arotation,(I=((I+ut)*j.radDeg-e.ashearX)*m+_-lt)>180?I-=360:I<-180&&(I+=360),e.updateWorldTransformWith(y,g,lt+I*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()}}]),t}(),he=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t,0,!1),n.prototype.__init.call(dt(i)),n.prototype.__init2.call(dt(i)),n.prototype.__init3.call(dt(i)),n.prototype.__init4.call(dt(i)),n.prototype.__init5.call(dt(i)),n.prototype.__init6.call(dt(i)),n.prototype.__init7.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.bones=new Array}},{key:"__init2",value:function(){this.bendDirection=1}},{key:"__init3",value:function(){this.compress=!1}},{key:"__init4",value:function(){this.stretch=!1}},{key:"__init5",value:function(){this.uniform=!1}},{key:"__init6",value:function(){this.mix=1}},{key:"__init7",value:function(){this.softness=0}}]),n}(oe),ce=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t,0,!1),n.prototype.__init.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.bones=new Array}}]),n}(oe);!function(t){t[t.Fixed=0]="Fixed";t[t.Percent=1]="Percent"}(ne||(ne={})),function(t){t[t.Length=0]="Length";t[t.Fixed=1]="Fixed";t[t.Percent=2]="Percent"}(ie||(ie={})),function(t){t[t.Tangent=0]="Tangent";t[t.Chain=1]="Chain";t[t.ChainScale=2]="ChainScale"}(re||(re={}));var fe=function(){function t(e,n){if(vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),t.prototype.__init11.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var i=0,r=e.bones.length;i<r;i++)this.bones.push(n.findBone(e.bones[i].name));this.target=n.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return ut(t,[{key:"__init",value:function(){this.position=0}},{key:"__init2",value:function(){this.spacing=0}},{key:"__init3",value:function(){this.rotateMix=0}},{key:"__init4",value:function(){this.translateMix=0}},{key:"__init5",value:function(){this.spaces=new Array}},{key:"__init6",value:function(){this.positions=new Array}},{key:"__init7",value:function(){this.world=new Array}},{key:"__init8",value:function(){this.curves=new Array}},{key:"__init9",value:function(){this.lengths=new Array}},{key:"__init10",value:function(){this.segments=new Array}},{key:"__init11",value:function(){this.active=!1}},{key:"isActive",value:function(){return this.active}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var e=this.target.getAttachment();if(e instanceof xt){var n=this.rotateMix,i=this.translateMix,r=n>0;if(i>0||r){var a=this.data,o=a.spacingMode,s=o==ie.Length,u=a.rotateMode,l=u==re.Tangent,h=u==re.ChainScale,c=this.bones.length,f=l?c:c+1,d=this.bones,p=z.setArraySize(this.spaces,f),v=null,_=this.spacing;if(h||s){h&&(v=z.setArraySize(this.lengths,c));for(var m=0,y=f-1;m<y;){var g=d[m],b=g.data.length;if(b<t.epsilon)h&&(v[m]=0),p[++m]=0;else{var x=b*g.matrix.a,w=b*g.matrix.b,E=Math.sqrt(x*x+w*w);h&&(v[m]=E),p[++m]=(s?b+_:_)*E/b}}}else for(var S=1;S<f;S++)p[S]=_;var k=this.computeWorldPositions(e,f,l,a.positionMode==ne.Percent,o==ie.Percent),T=k[0],A=k[1],R=a.offsetRotation,I=!1;if(0==R)I=u==re.Chain;else{I=!1;var C=this.target.bone.matrix;R*=C.a*C.d-C.b*C.c>0?j.degRad:-j.degRad}for(var P=0,M=3;P<c;P++,M+=3){var O=d[P],D=O.matrix;D.tx+=(T-D.tx)*i,D.ty+=(A-D.ty)*i;var N=k[M],L=k[M+1],F=N-T,B=L-A;if(h){var V=v[P];if(0!=V){var U=(Math.sqrt(F*F+B*B)/V-1)*n+1;D.a*=U,D.b*=U}}if(T=N,A=L,r){var X=D.a,Y=D.c,G=D.b,H=D.d,W=0,q=0,Z=0;if(W=l?k[M-1]:0==p[P+1]?k[M+2]:Math.atan2(B,F),W-=Math.atan2(G,X),I){q=Math.cos(W),Z=Math.sin(W);var K=O.data.length;T+=(K*(q*X-Z*G)-F)*n,A+=(K*(Z*X+q*G)-B)*n}else W+=R;W>j.PI?W-=j.PI2:W<-j.PI&&(W+=j.PI2),W*=n,q=Math.cos(W),Z=Math.sin(W),D.a=q*X-Z*G,D.c=q*Y-Z*H,D.b=Z*X+q*G,D.d=Z*Y+q*H}O.appliedValid=!1}}}}},{key:"computeWorldPositions",value:function(e,n,i,r,a){var o=this.target,s=this.position,u=this.spaces,l=z.setArraySize(this.positions,3*n+2),h=null,c=e.closed,f=e.worldVerticesLength,d=f/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths,_=v[d-=c?1:2];if(r&&(s*=_),a)for(var m=0;m<n;m++)u[m]*=_;h=z.setArraySize(this.world,8);for(var y=0,g=0,b=0;y<n;y++,g+=3){var x=u[y],w=s+=x;if(c)(w%=_)<0&&(w+=_),b=0;else{if(w<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,h,0,2)),this.addBeforePosition(w,h,0,l,g);continue}if(w>_){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,f-6,4,h,0,2)),this.addAfterPosition(w-_,h,0,l,g);continue}}for(;;b++){var E=v[b];if(!(w>E)){if(0==b)w/=E;else{var S=v[b-1];w=(w-S)/(E-S)}break}}b!=p&&(p=b,c&&b==d?(e.computeWorldVertices(o,f-4,4,h,0,2),e.computeWorldVertices(o,0,4,h,4,2)):e.computeWorldVertices(o,6*b+2,8,h,0,2)),this.addCurvePosition(w,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],l,g,i||y>0&&0==x)}return l}c?(f+=2,h=z.setArraySize(this.world,f),e.computeWorldVertices(o,2,f-4,h,0,2),e.computeWorldVertices(o,0,2,h,f-4,2),h[f-2]=h[0],h[f-1]=h[1]):(d--,f-=4,h=z.setArraySize(this.world,f),e.computeWorldVertices(o,2,f,h,0,2));for(var k=z.setArraySize(this.curves,d),T=0,A=h[0],R=h[1],I=0,C=0,P=0,M=0,O=0,D=0,N=0,L=0,F=0,B=0,V=0,U=0,X=0,Y=0,j=0,G=2;j<d;j++,G+=6)I=h[G],C=h[G+1],P=h[G+2],M=h[G+3],V=2*(N=.1875*(A-2*I+P))+(F=.09375*(3*(I-P)-A+(O=h[G+4]))),U=2*(L=.1875*(R-2*C+M))+(B=.09375*(3*(C-M)-R+(D=h[G+5]))),X=.75*(I-A)+N+.16666667*F,Y=.75*(C-R)+L+.16666667*B,T+=Math.sqrt(X*X+Y*Y),X+=V,Y+=U,V+=F,U+=B,T+=Math.sqrt(X*X+Y*Y),X+=V,Y+=U,T+=Math.sqrt(X*X+Y*Y),X+=V+F,Y+=U+B,T+=Math.sqrt(X*X+Y*Y),k[j]=T,A=O,R=D;if(r&&(s*=T),a)for(var H=0;H<n;H++)u[H]*=T;for(var W=this.segments,q=0,Z=0,K=0,$=0,Q=0;Z<n;Z++,K+=3){var J=u[Z],tt=s+=J;if(c)(tt%=T)<0&&(tt+=T),$=0;else{if(tt<0){this.addBeforePosition(tt,h,0,l,K);continue}if(tt>T){this.addAfterPosition(tt-T,h,f-4,l,K);continue}}for(;;$++){var et=k[$];if(!(tt>et)){if(0==$)tt/=et;else{var nt=k[$-1];tt=(tt-nt)/(et-nt)}break}}if($!=p){p=$;var it=6*$;for(A=h[it],R=h[it+1],I=h[it+2],C=h[it+3],P=h[it+4],M=h[it+5],V=2*(N=.03*(A-2*I+P))+(F=.006*(3*(I-P)-A+(O=h[it+6]))),U=2*(L=.03*(R-2*C+M))+(B=.006*(3*(C-M)-R+(D=h[it+7]))),X=.3*(I-A)+N+.16666667*F,Y=.3*(C-R)+L+.16666667*B,q=Math.sqrt(X*X+Y*Y),W[0]=q,it=1;it<8;it++)X+=V,Y+=U,V+=F,U+=B,q+=Math.sqrt(X*X+Y*Y),W[it]=q;X+=V,Y+=U,q+=Math.sqrt(X*X+Y*Y),W[8]=q,X+=V+F,Y+=U+B,q+=Math.sqrt(X*X+Y*Y),W[9]=q,Q=0}for(tt*=q;;Q++){var rt=W[Q];if(!(tt>rt)){if(0==Q)tt/=rt;else{var at=W[Q-1];tt=Q+(tt-at)/(rt-at)}break}}this.addCurvePosition(.1*tt,A,R,I,C,P,M,O,D,l,K,i||Z>0&&0==J)}return l}},{key:"addBeforePosition",value:function(t,e,n,i,r){var a=e[n],o=e[n+1],s=e[n+2]-a,u=e[n+3]-o,l=Math.atan2(u,s);i[r]=a+t*Math.cos(l),i[r+1]=o+t*Math.sin(l),i[r+2]=l}},{key:"addAfterPosition",value:function(t,e,n,i,r){var a=e[n+2],o=e[n+3],s=a-e[n],u=o-e[n+1],l=Math.atan2(u,s);i[r]=a+t*Math.cos(l),i[r+1]=o+t*Math.sin(l),i[r+2]=l}},{key:"addCurvePosition",value:function(t,e,n,i,r,a,o,s,u,l,h,c){(0==t||isNaN(t))&&(t=1e-4);var f=t*t,d=f*t,p=1-t,v=p*p,_=v*p,m=p*t,y=3*m,g=p*y,b=y*t,x=e*_+i*g+a*b+s*d,w=n*_+r*g+o*b+u*d;l[h]=x,l[h+1]=w,c&&(l[h+2]=Math.atan2(w-(n*v+r*m*2+o*f),x-(e*v+i*m*2+a*f)))}}],[{key:"__initStatic",value:function(){this.NONE=-1}},{key:"__initStatic2",value:function(){this.BEFORE=-2}},{key:"__initStatic3",value:function(){this.AFTER=-3}},{key:"__initStatic4",value:function(){this.epsilon=1e-5}}]),t}();fe.__initStatic(),fe.__initStatic2(),fe.__initStatic3(),fe.__initStatic4();var de=function(){function t(e,n){if(vt(this,t),t.prototype.__init.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=e,this.bone=n,this.color=new Y,this.darkColor=null==e.darkColor?null:new Y,this.setToSetupPose(),this.blendMode=this.data.blendMode}return ut(t,[{key:"__init",value:function(){this.deform=new Array}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)}},{key:"setAttachmentTime",value:function(t){this.attachmentTime=this.bone.skeleton.time-t}},{key:"getAttachmentTime",value:function(){return this.bone.skeleton.time-this.attachmentTime}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}]),t}(),pe=function(){function t(e,n){if(vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var i=0;i<e.bones.length;i++)this.bones.push(n.findBone(e.bones[i].name));this.target=n.findBone(e.target.name)}return ut(t,[{key:"__init",value:function(){this.rotateMix=0}},{key:"__init2",value:function(){this.translateMix=0}},{key:"__init3",value:function(){this.scaleMix=0}},{key:"__init4",value:function(){this.shearMix=0}},{key:"__init5",value:function(){this.temp=new K}},{key:"__init6",value:function(){this.active=!1}},{key:"isActive",value:function(){return this.active}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}},{key:"applyAbsoluteWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,a=r.matrix,o=a.a,s=a.c,u=a.b,l=a.d,h=o*l-s*u>0?j.degRad:-j.degRad,c=this.data.offsetRotation*h,f=this.data.offsetShearY*h,d=this.bones,p=0,v=d.length;p<v;p++){var _=d[p],m=!1,y=_.matrix;if(0!=t){var g=y.a,b=y.c,x=y.b,w=y.d,E=Math.atan2(u,o)-Math.atan2(x,g)+c;E>j.PI?E-=j.PI2:E<-j.PI&&(E+=j.PI2),E*=t;var S=Math.cos(E),k=Math.sin(E);y.a=S*g-k*x,y.c=S*b-k*w,y.b=k*g+S*x,y.d=k*b+S*w,m=!0}if(0!=e){var T=this.temp;r.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),y.tx+=(T.x-y.tx)*e,y.ty+=(T.y-y.ty)*e,m=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),R=Math.sqrt(o*o+u*u);A>1e-5&&(A=(A+(R-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),R=Math.sqrt(s*s+l*l),A>1e-5&&(A=(A+(R-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,m=!0}if(i>0){var I=y.c,C=y.d,P=Math.atan2(C,I),M=Math.atan2(l,s)-Math.atan2(u,o)-(P-Math.atan2(y.b,y.a));M>j.PI?M-=j.PI2:M<-j.PI&&(M+=j.PI2),M=P+(M+f)*i;var O=Math.sqrt(I*I+C*C);y.c=Math.cos(M)*O,y.d=Math.sin(M)*O,m=!0}m&&(_.appliedValid=!1)}}},{key:"applyRelativeWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,a=r.matrix,o=a.a,s=a.c,u=a.b,l=a.d,h=o*l-s*u>0?j.degRad:-j.degRad,c=this.data.offsetRotation*h,f=this.data.offsetShearY*h,d=this.bones,p=0,v=d.length;p<v;p++){var _=d[p],m=!1,y=_.matrix;if(0!=t){var g=y.a,b=y.c,x=y.b,w=y.d,E=Math.atan2(u,o)+c;E>j.PI?E-=j.PI2:E<-j.PI&&(E+=j.PI2),E*=t;var S=Math.cos(E),k=Math.sin(E);y.a=S*g-k*x,y.c=S*b-k*w,y.b=k*g+S*x,y.d=k*b+S*w,m=!0}if(0!=e){var T=this.temp;r.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),y.tx+=T.x*e,y.ty+=T.y*e,m=!0}if(n>0){var A=(Math.sqrt(o*o+u*u)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,m=!0}if(i>0){var R=Math.atan2(l,s)-Math.atan2(u,o);R>j.PI?R-=j.PI2:R<-j.PI&&(R+=j.PI2);var I=y.c,C=y.d;R=Math.atan2(C,I)+(R-j.PI/2+f)*i;var P=Math.sqrt(I*I+C*C);y.c=Math.cos(R)*P,y.d=Math.sin(R)*P,m=!0}m&&(_.appliedValid=!1)}}},{key:"applyAbsoluteLocal",value:function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;if(0!=t){var h=r.arotation-l+this.data.offsetRotation;l+=(h-=360*(16384-(16384.499999999996-h/360|0)))*t}var c=u.ax,f=u.ay;0!=e&&(c+=(r.ax-c+this.data.offsetX)*e,f+=(r.ay-f+this.data.offsetY)*e);var d=u.ascaleX,p=u.ascaleY;n>0&&(d>1e-5&&(d=(d+(r.ascaleX-d+this.data.offsetScaleX)*n)/d),p>1e-5&&(p=(p+(r.ascaleY-p+this.data.offsetScaleY)*n)/p));var v=u.ashearY;if(i>0){var _=r.ashearY-v+this.data.offsetShearY;_-=360*(16384-(16384.499999999996-_/360|0)),u.shearY+=_*i}u.updateWorldTransformWith(c,f,l,d,p,u.ashearX,v)}}},{key:"applyRelativeLocal",value:function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;0!=t&&(l+=(r.arotation+this.data.offsetRotation)*t);var h=u.ax,c=u.ay;0!=e&&(h+=(r.ax+this.data.offsetX)*e,c+=(r.ay+this.data.offsetY)*e);var f=u.ascaleX,d=u.ascaleY;n>0&&(f>1e-5&&(f*=(r.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(r.ascaleY-1+this.data.offsetScaleY)*n+1));var p=u.ashearY;i>0&&(p+=(r.ashearY+this.data.offsetShearY)*i),u.updateWorldTransformWith(h,c,l,f,d,u.ashearX,p)}}}]),t}(),ve=function(){function t(e){if(vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=e.bones[n],r=void 0;if(null==i.parent)r=new ae(i,this,null);else{var a=this.bones[i.parent.index];r=new ae(i,this,a),a.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(var o=0;o<e.slots.length;o++){var s=e.slots[o],u=this.bones[s.boneData.index],l=new de(s,u);this.slots.push(l),this.drawOrder.push(l)}this.ikConstraints=new Array;for(var h=0;h<e.ikConstraints.length;h++){var c=e.ikConstraints[h];this.ikConstraints.push(new le(c,this))}this.transformConstraints=new Array;for(var f=0;f<e.transformConstraints.length;f++){var d=e.transformConstraints[f];this.transformConstraints.push(new pe(d,this))}this.pathConstraints=new Array;for(var p=0;p<e.pathConstraints.length;p++){var v=e.pathConstraints[p];this.pathConstraints.push(new fe(v,this))}this.color=new Y(1,1,1,1),this.updateCache()}return ut(t,[{key:"__init",value:function(){this._updateCache=new Array}},{key:"__init2",value:function(){this.updateCacheReset=new Array}},{key:"__init3",value:function(){this.time=0}},{key:"__init4",value:function(){this.scaleX=1}},{key:"__init5",value:function(){this.scaleY=1}},{key:"__init6",value:function(){this.x=0}},{key:"__init7",value:function(){this.y=0}},{key:"updateCache",value:function(){var t=this._updateCache;t.length=0,this.updateCacheReset.length=0;for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];r.sorted=r.data.skinRequired,r.active=!r.sorted}if(null!=this.skin)for(var a=this.skin.bones,o=0,s=this.skin.bones.length;o<s;o++){var u=this.bones[a[o].index];do{u.sorted=!1,u.active=!0,u=u.parent}while(null!=u)}var l=this.ikConstraints,h=this.transformConstraints,c=this.pathConstraints,f=l.length,d=h.length,p=c.length,v=f+d+p;t:for(var _=0;_<v;_++){for(var m=0;m<f;m++){var y=l[m];if(y.data.order==_){this.sortIkConstraint(y);continue t}}for(var g=0;g<d;g++){var b=h[g];if(b.data.order==_){this.sortTransformConstraint(b);continue t}}for(var x=0;x<p;x++){var w=c[x];if(w.data.order==_){this.sortPathConstraint(w);continue t}}}for(var E=0,S=e.length;E<S;E++)this.sortBone(e[E])}},{key:"sortIkConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&z.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var n=t.bones,i=n[0];if(this.sortBone(i),n.length>1){var r=n[n.length-1];this._updateCache.indexOf(r)>-1||this.updateCacheReset.push(r)}this._updateCache.push(t),this.sortReset(i.children),n[n.length-1].sorted=!0}}},{key:"sortPathConstraint",value:function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&z.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,n=e.data.index,i=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var r=0,a=this.data.skins.length;r<a;r++)this.sortPathConstraintAttachment(this.data.skins[r],n,i);var o=e.getAttachment();o instanceof xt&&this.sortPathConstraintAttachmentWith(o,i);for(var s=t.bones,u=s.length,l=0;l<u;l++)this.sortBone(s[l]);this._updateCache.push(t);for(var h=0;h<u;h++)this.sortReset(s[h].children);for(var c=0;c<u;c++)s[c].sorted=!0}}},{key:"sortTransformConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&z.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var i=0;i<n;i++){var r=e[i];this.sortBone(r.parent),this._updateCache.indexOf(r)>-1||this.updateCacheReset.push(r)}else for(var a=0;a<n;a++)this.sortBone(e[a]);this._updateCache.push(t);for(var o=0;o<n;o++)this.sortReset(e[o].children);for(var s=0;s<n;s++)e[s].sorted=!0}}},{key:"sortPathConstraintAttachment",value:function(t,e,n){var i=t.attachments[e];if(i)for(var r in i)this.sortPathConstraintAttachmentWith(i[r],n)}},{key:"sortPathConstraintAttachmentWith",value:function(t,e){if(t instanceof xt){var n=t.bones;if(null==n)this.sortBone(e);else for(var i=this.bones,r=0;r<n.length;)for(var a=n[r++],o=r+a;r<o;r++){var s=n[r];this.sortBone(i[s])}}}},{key:"sortBone",value:function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}}},{key:"sortReset",value:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}},{key:"updateWorldTransform",value:function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var r=this._updateCache,a=0,o=r.length;a<o;a++)r[a].update()}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,r=0,a=i.length;r<a;r++){var o=i[r];o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}for(var s=this.transformConstraints,u=0,l=s.length;u<l;u++){var h=s[u],c=h.data;h.rotateMix=c.rotateMix,h.translateMix=c.translateMix,h.scaleMix=c.scaleMix,h.shearMix=c.shearMix}for(var f=this.pathConstraints,d=0,p=f.length;d<p;d++){var v=f[d],_=v.data;v.position=_.position,v.spacing=_.spacing,v.rotateMix=_.rotateMix,v.translateMix=_.translateMix}}},{key:"setSlotsToSetupPose",value:function(){var t=this.slots;z.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1}},{key:"setSkinByName",value:function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)}},{key:"setSkin",value:function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n],a=r.data.attachmentName;if(null!=a){var o=t.getAttachment(n,a);null!=o&&r.setAttachment(o)}}this.skin=t,this.updateCache()}}},{key:"getAttachmentByName",value:function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)}},{key:"getAttachment",value:function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}},{key:"setAttachment",value:function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,r=n.length;i<r;i++){var a=n[i];if(a.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(i,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(o)}}throw new Error("Slot not found: "+t)}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"getBounds",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array(2);if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var i=this.drawOrder,r=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=i.length;u<l;u++){var h=i[u];if(h.bone.active){var c=0,f=null,d=h.getAttachment();if(d instanceof Et)c=8,f=z.setArraySize(n,c,0),d.computeWorldVertices(h.bone,f,0,2);else if(d instanceof bt){var p=d;c=p.worldVerticesLength,f=z.setArraySize(n,c,0),p.computeWorldVertices(h,0,c,f,0,2)}if(null!=f)for(var v=0,_=f.length;v<_;v+=2){var m=f[v],y=f[v+1];r=Math.min(r,m),a=Math.min(a,y),o=Math.max(o,m),s=Math.max(s,y)}}}t.set(r,a),e.set(o-r,s-a)}},{key:"update",value:function(t){this.time+=t}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.scaleX=e?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.scaleY=e?1:-1}}],[{key:"__initStatic",value:function(){this.deprecatedWarning1=!1}}]),t}();ve.__initStatic();var _e=function(){function t(){vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this)}return ut(t,[{key:"__init",value:function(){this.bones=new Array}},{key:"__init2",value:function(){this.slots=new Array}},{key:"__init3",value:function(){this.skins=new Array}},{key:"__init4",value:function(){this.events=new Array}},{key:"__init5",value:function(){this.animations=new Array}},{key:"__init6",value:function(){this.ikConstraints=new Array}},{key:"__init7",value:function(){this.transformConstraints=new Array}},{key:"__init8",value:function(){this.pathConstraints=new Array}},{key:"__init9",value:function(){this.fps=0}},{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1}},{key:"findSkin",value:function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findEvent",value:function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findAnimation",value:function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findPathConstraintIndex",value:function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1}}]),t}(),me=function(){function t(e,n,i){if(vt(this,t),t.prototype.__init.call(this),e<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==i)throw new Error("boneData cannot be null.");this.index=e,this.name=n,this.boneData=i}return ut(t,[{key:"__init",value:function(){this.color=new Y(1,1,1,1)}}]),t}(),ye=function(t){lt(n,t);var e=ct(n);function n(t){var i;return vt(this,n),i=e.call(this,t,0,!1),n.prototype.__init.call(dt(i)),n.prototype.__init2.call(dt(i)),n.prototype.__init3.call(dt(i)),n.prototype.__init4.call(dt(i)),n.prototype.__init5.call(dt(i)),n.prototype.__init6.call(dt(i)),n.prototype.__init7.call(dt(i)),n.prototype.__init8.call(dt(i)),n.prototype.__init9.call(dt(i)),n.prototype.__init10.call(dt(i)),n.prototype.__init11.call(dt(i)),n.prototype.__init12.call(dt(i)),n.prototype.__init13.call(dt(i)),i}return ut(n,[{key:"__init",value:function(){this.bones=new Array}},{key:"__init2",value:function(){this.rotateMix=0}},{key:"__init3",value:function(){this.translateMix=0}},{key:"__init4",value:function(){this.scaleMix=0}},{key:"__init5",value:function(){this.shearMix=0}},{key:"__init6",value:function(){this.offsetRotation=0}},{key:"__init7",value:function(){this.offsetX=0}},{key:"__init8",value:function(){this.offsetY=0}},{key:"__init9",value:function(){this.offsetScaleX=0}},{key:"__init10",value:function(){this.offsetScaleY=0}},{key:"__init11",value:function(){this.offsetShearY=0}},{key:"__init12",value:function(){this.relative=!1}},{key:"__init13",value:function(){this.local=!1}}]),n}(oe),ge=function t(e,n,i){vt(this,t),this.slotIndex=e,this.name=n,this.attachment=i},be=function(){function t(e){if(vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),null==e)throw new Error("name cannot be null.");this.name=e}return ut(t,[{key:"__init",value:function(){this.attachments=new Array}},{key:"__init2",value:function(){this.bones=Array()}},{key:"__init3",value:function(){this.constraints=new Array}},{key:"setAttachment",value:function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=n}},{key:"addSkin",value:function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,r=0;r<this.bones.length;r++)if(this.bones[r]==n){i=!0;break}i||this.bones.push(n)}for(var a=0;a<t.constraints.length;a++){for(var o=t.constraints[a],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==o){s=!0;break}s||this.constraints.push(o)}for(var l=t.getAttachments(),h=0;h<l.length;h++){var c=l[h];this.setAttachment(c.slotIndex,c.name,c.attachment)}}},{key:"copySkin",value:function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,r=0;r<this.bones.length;r++)if(this.bones[r]==n){i=!0;break}i||this.bones.push(n)}for(var a=0;a<t.constraints.length;a++){for(var o=t.constraints[a],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==o){s=!0;break}s||this.constraints.push(o)}for(var l=t.getAttachments(),h=0;h<l.length;h++){var c=l[h];null!=c.attachment&&(c.attachment instanceof bt?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}}},{key:"getAttachment",value:function(t,e){var n=this.attachments[t];return n?n[e]:null}},{key:"removeAttachment",value:function(t,e){var n=this.attachments[t];n&&(n[e]=null)}},{key:"getAttachments",value:function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var i in n){var r=n[i];r&&t.push(new ge(e,i,r))}}return t}},{key:"getAttachmentsForSlot",value:function(t,e){var n=this.attachments[t];if(n)for(var i in n){var r=n[i];r&&e.push(new ge(t,i,r))}}},{key:"clear",value:function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}},{key:"attachAll",value:function(t,e){for(var n=0,i=0;i<t.slots.length;i++){var r=t.slots[i],a=r.getAttachment();if(a&&n<e.attachments.length){var o=e.attachments[n];for(var s in o){if(a==o[s]){var u=this.getAttachment(n,s);null!=u&&r.setAttachment(u);break}}}n++}}}]),t}(),xe=function(){function t(e){vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),this.attachmentLoader=e}return ut(t,[{key:"__init",value:function(){this.scale=1}},{key:"__init2",value:function(){this.linkedMeshes=new Array}},{key:"readSkeletonData",value:function(e){var n=this.scale,i=new _e;i.name="";var r=new R(e);if(i.hash=r.readString(),i.version=r.readString(),"3.8.75"===i.version);i.x=r.readFloat(),i.y=r.readFloat(),i.width=r.readFloat(),i.height=r.readFloat();var a=r.readBoolean();a&&(i.fps=r.readFloat(),i.imagesPath=r.readString(),i.audioPath=r.readString());var o=0;o=r.readInt(!0);for(var s=0;s<o;s++)r.strings.push(r.readString());o=r.readInt(!0);for(var u=0;u<o;u++){var l=r.readString(),h=0==u?null:i.bones[r.readInt(!0)],c=new ee(u,l,h);c.rotation=r.readFloat(),c.x=r.readFloat()*n,c.y=r.readFloat()*n,c.scaleX=r.readFloat(),c.scaleY=r.readFloat(),c.shearX=r.readFloat(),c.shearY=r.readFloat(),c.length=r.readFloat()*n,c.transformMode=t.TransformModeValues[r.readInt(!0)],c.skinRequired=r.readBoolean(),a&&Y.rgba8888ToColor(c.color,r.readInt32()),i.bones.push(c)}o=r.readInt(!0);for(var f=0;f<o;f++){var d=r.readString(),p=i.bones[r.readInt(!0)],v=new me(f,d,p);Y.rgba8888ToColor(v.color,r.readInt32());var _=r.readInt32();-1!=_&&Y.rgb888ToColor(v.darkColor=new Y,_),v.attachmentName=r.readStringRef(),v.blendMode=t.BlendModeValues[r.readInt(!0)],i.slots.push(v)}o=r.readInt(!0);for(var m,y=0;y<o;y++){var g=new he(r.readString());g.order=r.readInt(!0),g.skinRequired=r.readBoolean(),m=r.readInt(!0);for(var b=0;b<m;b++)g.bones.push(i.bones[r.readInt(!0)]);g.target=i.bones[r.readInt(!0)],g.mix=r.readFloat(),g.softness=r.readFloat()*n,g.bendDirection=r.readByte(),g.compress=r.readBoolean(),g.stretch=r.readBoolean(),g.uniform=r.readBoolean(),i.ikConstraints.push(g)}o=r.readInt(!0);for(var x,w=0;w<o;w++){var E=new ye(r.readString());E.order=r.readInt(!0),E.skinRequired=r.readBoolean(),x=r.readInt(!0);for(var S=0;S<x;S++)E.bones.push(i.bones[r.readInt(!0)]);E.target=i.bones[r.readInt(!0)],E.local=r.readBoolean(),E.relative=r.readBoolean(),E.offsetRotation=r.readFloat(),E.offsetX=r.readFloat()*n,E.offsetY=r.readFloat()*n,E.offsetScaleX=r.readFloat(),E.offsetScaleY=r.readFloat(),E.offsetShearY=r.readFloat(),E.rotateMix=r.readFloat(),E.translateMix=r.readFloat(),E.scaleMix=r.readFloat(),E.shearMix=r.readFloat(),i.transformConstraints.push(E)}o=r.readInt(!0);for(var k,T=0;T<o;T++){var A=new ce(r.readString());A.order=r.readInt(!0),A.skinRequired=r.readBoolean(),k=r.readInt(!0);for(var I=0;I<k;I++)A.bones.push(i.bones[r.readInt(!0)]);A.target=i.slots[r.readInt(!0)],A.positionMode=t.PositionModeValues[r.readInt(!0)],A.spacingMode=t.SpacingModeValues[r.readInt(!0)],A.rotateMode=t.RotateModeValues[r.readInt(!0)],A.offsetRotation=r.readFloat(),A.position=r.readFloat(),A.positionMode==ne.Fixed&&(A.position*=n),A.spacing=r.readFloat(),A.spacingMode!=ie.Length&&A.spacingMode!=ie.Fixed||(A.spacing*=n),A.rotateMix=r.readFloat(),A.translateMix=r.readFloat(),i.pathConstraints.push(A)}var C=this.readSkin(r,i,!0,a);null!=C&&(i.defaultSkin=C,i.skins.push(C));var P=i.skins.length;for(z.setArraySize(i.skins,o=P+r.readInt(!0));P<o;P++)i.skins[P]=this.readSkin(r,i,!1,a);o=this.linkedMeshes.length;for(var M=0;M<o;M++){var O=this.linkedMeshes[M],D=null==O.skin?i.defaultSkin:i.findSkin(O.skin);if(null==D)throw new Error("Skin not found: "+O.skin);var N=D.getAttachment(O.slotIndex,O.parent);if(null==N)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?N:O.mesh,O.mesh.setParentMesh(N)}this.linkedMeshes.length=0,o=r.readInt(!0);for(var L=0;L<o;L++){var F=new ue(r.readStringRef());F.intValue=r.readInt(!1),F.floatValue=r.readFloat(),F.stringValue=r.readString(),F.audioPath=r.readString(),null!=F.audioPath&&(F.volume=r.readFloat(),F.balance=r.readFloat()),i.events.push(F)}o=r.readInt(!0);for(var B=0;B<o;B++)i.animations.push(this.readAnimation(r,r.readString(),i));return i}},{key:"readSkin",value:function(t,e,n,i){var r=null,a=0;if(n){if(0==(a=t.readInt(!0)))return null;r=new be("default")}else{(r=new be(t.readStringRef())).bones.length=t.readInt(!0);for(var o=0,s=r.bones.length;o<s;o++)r.bones[o]=e.bones[t.readInt(!0)];for(var u=0,l=t.readInt(!0);u<l;u++)r.constraints.push(e.ikConstraints[t.readInt(!0)]);for(var h=0,c=t.readInt(!0);h<c;h++)r.constraints.push(e.transformConstraints[t.readInt(!0)]);for(var f=0,d=t.readInt(!0);f<d;f++)r.constraints.push(e.pathConstraints[t.readInt(!0)]);a=t.readInt(!0)}for(var p=0;p<a;p++)for(var v=t.readInt(!0),_=0,m=t.readInt(!0);_<m;_++){var y=t.readStringRef(),g=this.readAttachment(t,e,r,v,y,i);null!=g&&r.setAttachment(v,y,g)}return r}},{key:"readAttachment",value:function(e,n,i,r,a,s){var u=this.scale,l=e.readStringRef();null==l&&(l=a);var h=e.readByte();switch(t.AttachmentTypeValues[h]){case o.Region:var c=e.readStringRef(),f=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),_=e.readFloat(),m=e.readFloat(),y=e.readFloat(),g=e.readInt32();null==c&&(c=l);var b=this.attachmentLoader.newRegionAttachment(i,l,c);return null==b?null:(b.path=c,b.x=d*u,b.y=p*u,b.scaleX=v,b.scaleY=_,b.rotation=f,b.width=m*u,b.height=y*u,Y.rgba8888ToColor(b.color,g),b);case o.BoundingBox:var x=e.readInt(!0),w=this.readVertices(e,x),E=s?e.readInt32():0,S=this.attachmentLoader.newBoundingBoxAttachment(i,l);return null==S?null:(S.worldVerticesLength=x<<1,S.vertices=w.vertices,S.bones=w.bones,s&&Y.rgba8888ToColor(S.color,E),S);case o.Mesh:var k=e.readStringRef(),T=e.readInt32(),A=e.readInt(!0),R=this.readFloatArray(e,A<<1,1),I=this.readShortArray(e),C=this.readVertices(e,A),P=e.readInt(!0),M=null,O=0,D=0;s&&(M=this.readShortArray(e),O=e.readFloat(),D=e.readFloat()),null==k&&(k=l);var N=this.attachmentLoader.newMeshAttachment(i,l,k);return null==N?null:(N.path=k,Y.rgba8888ToColor(N.color,T),N.bones=C.bones,N.vertices=C.vertices,N.worldVerticesLength=A<<1,N.triangles=I,N.regionUVs=new Float32Array(R),N.hullLength=P<<1,s&&(N.edges=M,N.width=O*u,N.height=D*u),N);case o.LinkedMesh:var L=e.readStringRef(),F=e.readInt32(),B=e.readStringRef(),V=e.readStringRef(),U=e.readBoolean(),X=0,j=0;s&&(X=e.readFloat(),j=e.readFloat()),null==L&&(L=l);var G=this.attachmentLoader.newMeshAttachment(i,l,L);return null==G?null:(G.path=L,Y.rgba8888ToColor(G.color,F),s&&(G.width=X*u,G.height=j*u),this.linkedMeshes.push(new we(G,B,r,V,U)),G);case o.Path:for(var H=e.readBoolean(),W=e.readBoolean(),q=e.readInt(!0),Z=this.readVertices(e,q),K=z.newArray(q/3,0),$=0,Q=K.length;$<Q;$++)K[$]=e.readFloat()*u;var J=s?e.readInt32():0,tt=this.attachmentLoader.newPathAttachment(i,l);return null==tt?null:(tt.closed=H,tt.constantSpeed=W,tt.worldVerticesLength=q<<1,tt.vertices=Z.vertices,tt.bones=Z.bones,tt.lengths=K,s&&Y.rgba8888ToColor(tt.color,J),tt);case o.Point:var et=e.readFloat(),nt=e.readFloat(),it=e.readFloat(),rt=s?e.readInt32():0,at=this.attachmentLoader.newPointAttachment(i,l);return null==at?null:(at.x=nt*u,at.y=it*u,at.rotation=et,s&&Y.rgba8888ToColor(at.color,rt),at);case o.Clipping:var ot=e.readInt(!0),st=e.readInt(!0),ut=this.readVertices(e,st),lt=s?e.readInt32():0,ht=this.attachmentLoader.newClippingAttachment(i,l);return null==ht?null:(ht.endSlot=n.slots[ot],ht.worldVerticesLength=st<<1,ht.vertices=ut.vertices,ht.bones=ut.bones,s&&Y.rgba8888ToColor(ht.color,lt),ht)}return null}},{key:"readVertices",value:function(t,e){var n=e<<1,i=new Ee,r=this.scale;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,n,r),i;for(var a=new Array,o=new Array,s=0;s<e;s++){var u=t.readInt(!0);o.push(u);for(var l=0;l<u;l++)o.push(t.readInt(!0)),a.push(t.readFloat()*r),a.push(t.readFloat()*r),a.push(t.readFloat())}return i.vertices=z.toFloatArray(a),i.bones=o,i}},{key:"readFloatArray",value:function(t,e,n){var i=new Array(e);if(1==n)for(var r=0;r<e;r++)i[r]=t.readFloat();else for(var a=0;a<e;a++)i[a]=t.readFloat()*n;return i}},{key:"readShortArray",value:function(t){for(var e=t.readInt(!0),n=new Array(e),i=0;i<e;i++)n[i]=t.readShort();return n}},{key:"readAnimation",value:function(e,n,i){for(var r=new Array,a=this.scale,o=0,s=new Y,u=new Y,l=0,h=e.readInt(!0);l<h;l++)for(var c=e.readInt(!0),f=0,d=e.readInt(!0);f<d;f++){var p=e.readByte(),v=e.readInt(!0);switch(p){case t.SLOT_ATTACHMENT:var _=new Ft(v);_.slotIndex=c;for(var m=0;m<v;m++)_.setFrame(m,e.readFloat(),e.readStringRef());r.push(_),o=Math.max(o,_.frames[v-1]);break;case t.SLOT_COLOR:var y=new Nt(v);y.slotIndex=c;for(var g=0;g<v;g++){var b=e.readFloat();Y.rgba8888ToColor(s,e.readInt32()),y.setFrame(g,b,s.r,s.g,s.b,s.a),g<v-1&&this.readCurve(e,g,y)}r.push(y),o=Math.max(o,y.frames[(v-1)*Nt.ENTRIES]);break;case t.SLOT_TWO_COLOR:var x=new Lt(v);x.slotIndex=c;for(var w=0;w<v;w++){var E=e.readFloat();Y.rgba8888ToColor(s,e.readInt32()),Y.rgb888ToColor(u,e.readInt32()),x.setFrame(w,E,s.r,s.g,s.b,s.a,u.r,u.g,u.b),w<v-1&&this.readCurve(e,w,x)}r.push(x),o=Math.max(o,x.frames[(v-1)*Lt.ENTRIES])}}for(var S=0,k=e.readInt(!0);S<k;S++)for(var T=e.readInt(!0),A=0,R=e.readInt(!0);A<R;A++){var I=e.readByte(),C=e.readInt(!0);switch(I){case t.BONE_ROTATE:var P=new Pt(C);P.boneIndex=T;for(var M=0;M<C;M++)P.setFrame(M,e.readFloat(),e.readFloat()),M<C-1&&this.readCurve(e,M,P);r.push(P),o=Math.max(o,P.frames[(C-1)*Pt.ENTRIES]);break;case t.BONE_TRANSLATE:case t.BONE_SCALE:case t.BONE_SHEAR:var O=void 0,D=1;I==t.BONE_SCALE?O=new Ot(C):I==t.BONE_SHEAR?O=new Dt(C):(O=new Mt(C),D=a),O.boneIndex=T;for(var N=0;N<C;N++)O.setFrame(N,e.readFloat(),e.readFloat()*D,e.readFloat()*D),N<C-1&&this.readCurve(e,N,O);r.push(O),o=Math.max(o,O.frames[(C-1)*Mt.ENTRIES])}}for(var L=0,F=e.readInt(!0);L<F;L++){var B=e.readInt(!0),V=e.readInt(!0),U=new Yt(V);U.ikConstraintIndex=B;for(var X=0;X<V;X++)U.setFrame(X,e.readFloat(),e.readFloat(),e.readFloat()*a,e.readByte(),e.readBoolean(),e.readBoolean()),X<V-1&&this.readCurve(e,X,U);r.push(U),o=Math.max(o,U.frames[(V-1)*Yt.ENTRIES])}for(var j=0,G=e.readInt(!0);j<G;j++){var H=e.readInt(!0),W=e.readInt(!0),q=new jt(W);q.transformConstraintIndex=H;for(var Z=0;Z<W;Z++)q.setFrame(Z,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat()),Z<W-1&&this.readCurve(e,Z,q);r.push(q),o=Math.max(o,q.frames[(W-1)*jt.ENTRIES])}for(var K=0,$=e.readInt(!0);K<$;K++)for(var Q=e.readInt(!0),J=i.pathConstraints[Q],tt=0,et=e.readInt(!0);tt<et;tt++){var nt=e.readByte(),it=e.readInt(!0);switch(nt){case t.PATH_POSITION:case t.PATH_SPACING:var rt=void 0,at=1;nt==t.PATH_SPACING?(rt=new Ht(it),J.spacingMode!=ie.Length&&J.spacingMode!=ie.Fixed||(at=a)):(rt=new Gt(it),J.positionMode==ne.Fixed&&(at=a)),rt.pathConstraintIndex=Q;for(var ot=0;ot<it;ot++)rt.setFrame(ot,e.readFloat(),e.readFloat()*at),ot<it-1&&this.readCurve(e,ot,rt);r.push(rt),o=Math.max(o,rt.frames[(it-1)*Gt.ENTRIES]);break;case t.PATH_MIX:var st=new Wt(it);st.pathConstraintIndex=Q;for(var ut=0;ut<it;ut++)st.setFrame(ut,e.readFloat(),e.readFloat(),e.readFloat()),ut<it-1&&this.readCurve(e,ut,st);r.push(st),o=Math.max(o,st.frames[(it-1)*Wt.ENTRIES])}}for(var lt=0,ht=e.readInt(!0);lt<ht;lt++)for(var ct=i.skins[e.readInt(!0)],ft=0,dt=e.readInt(!0);ft<dt;ft++)for(var pt=e.readInt(!0),vt=0,_t=e.readInt(!0);vt<_t;vt++){var mt=ct.getAttachment(pt,e.readStringRef()),yt=null!=mt.bones,gt=mt.vertices,bt=yt?gt.length/3*2:gt.length,xt=e.readInt(!0),wt=new Vt(xt);wt.slotIndex=pt,wt.attachment=mt;for(var Et=0;Et<xt;Et++){var St=e.readFloat(),kt=void 0,Tt=e.readInt(!0);if(0==Tt)kt=yt?z.newFloatArray(bt):gt;else{kt=z.newFloatArray(bt);var At=e.readInt(!0);if(Tt+=At,1==a)for(var Rt=At;Rt<Tt;Rt++)kt[Rt]=e.readFloat();else for(var Ct=At;Ct<Tt;Ct++)kt[Ct]=e.readFloat()*a;if(!yt)for(var Bt=0,zt=kt.length;Bt<zt;Bt++)kt[Bt]+=gt[Bt]}wt.setFrame(Et,St,kt),Et<xt-1&&this.readCurve(e,Et,wt)}r.push(wt),o=Math.max(o,wt.frames[xt-1])}var qt=e.readInt(!0);if(qt>0){for(var Zt=new Xt(qt),Kt=i.slots.length,$t=0;$t<qt;$t++){for(var Qt=e.readFloat(),Jt=e.readInt(!0),te=z.newArray(Kt,0),ee=Kt-1;ee>=0;ee--)te[ee]=-1;for(var re=z.newArray(Kt-Jt,0),ae=0,oe=0,ue=0;ue<Jt;ue++){for(var le=e.readInt(!0);ae!=le;)re[oe++]=ae++;te[ae+e.readInt(!0)]=ae++}for(;ae<Kt;)re[oe++]=ae++;for(var he=Kt-1;he>=0;he--)-1==te[he]&&(te[he]=re[--oe]);Zt.setFrame($t,Qt,te)}r.push(Zt),o=Math.max(o,Zt.frames[qt-1])}var ce=e.readInt(!0);if(ce>0){for(var fe=new Ut(ce),de=0;de<ce;de++){var pe=e.readFloat(),ve=i.events[e.readInt(!0)],_e=new se(pe,ve);_e.intValue=e.readInt(!1),_e.floatValue=e.readFloat(),_e.stringValue=e.readBoolean()?e.readString():ve.stringValue,null!=_e.data.audioPath&&(_e.volume=e.readFloat(),_e.balance=e.readFloat()),fe.setFrame(de,_e)}r.push(fe),o=Math.max(o,fe.frames[ce-1])}return new It(n,r,o)}},{key:"readCurve",value:function(e,n,i){switch(e.readByte()){case t.CURVE_STEPPED:i.setStepped(n);break;case t.CURVE_BEZIER:this.setCurve(i,n,e.readFloat(),e.readFloat(),e.readFloat(),e.readFloat())}}},{key:"setCurve",value:function(t,e,n,i,r,a){t.setCurve(e,n,i,r,a)}}],[{key:"__initStatic",value:function(){this.AttachmentTypeValues=[0,1,2,3,4,5,6]}},{key:"__initStatic2",value:function(){this.TransformModeValues=[Jt.Normal,Jt.OnlyTranslation,Jt.NoRotationOrReflection,Jt.NoScale,Jt.NoScaleOrReflection]}},{key:"__initStatic3",value:function(){this.PositionModeValues=[ne.Fixed,ne.Percent]}},{key:"__initStatic4",value:function(){this.SpacingModeValues=[ie.Length,ie.Fixed,ie.Percent]}},{key:"__initStatic5",value:function(){this.RotateModeValues=[re.Tangent,re.Chain,re.ChainScale]}},{key:"__initStatic6",value:function(){this.BlendModeValues=[l.T$.NORMAL,l.T$.ADD,l.T$.MULTIPLY,l.T$.SCREEN]}},{key:"__initStatic7",value:function(){this.BONE_ROTATE=0}},{key:"__initStatic8",value:function(){this.BONE_TRANSLATE=1}},{key:"__initStatic9",value:function(){this.BONE_SCALE=2}},{key:"__initStatic10",value:function(){this.BONE_SHEAR=3}},{key:"__initStatic11",value:function(){this.SLOT_ATTACHMENT=0}},{key:"__initStatic12",value:function(){this.SLOT_COLOR=1}},{key:"__initStatic13",value:function(){this.SLOT_TWO_COLOR=2}},{key:"__initStatic14",value:function(){this.PATH_POSITION=0}},{key:"__initStatic15",value:function(){this.PATH_SPACING=1}},{key:"__initStatic16",value:function(){this.PATH_MIX=2}},{key:"__initStatic17",value:function(){this.CURVE_LINEAR=0}},{key:"__initStatic18",value:function(){this.CURVE_STEPPED=1}},{key:"__initStatic19",value:function(){this.CURVE_BEZIER=2}}]),t}();xe.__initStatic(),xe.__initStatic2(),xe.__initStatic3(),xe.__initStatic4(),xe.__initStatic5(),xe.__initStatic6(),xe.__initStatic7(),xe.__initStatic8(),xe.__initStatic9(),xe.__initStatic10(),xe.__initStatic11(),xe.__initStatic12(),xe.__initStatic13(),xe.__initStatic14(),xe.__initStatic15(),xe.__initStatic16(),xe.__initStatic17(),xe.__initStatic18(),xe.__initStatic19();var we=function t(e,n,i,r,a){vt(this,t),this.mesh=e,this.skin=n,this.slotIndex=i,this.parent=r,this.inheritDeform=a},Ee=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;vt(this,t),this.bones=e,this.vertices=n},Se=function(){function t(){vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this)}return ut(t,[{key:"__init",value:function(){this.minX=0}},{key:"__init2",value:function(){this.minY=0}},{key:"__init3",value:function(){this.maxX=0}},{key:"__init4",value:function(){this.maxY=0}},{key:"__init5",value:function(){this.boundingBoxes=new Array}},{key:"__init6",value:function(){this.polygons=new Array}},{key:"__init7",value:function(){this.polygonPool=new Z((function(){return z.newFloatArray(16)}))}},{key:"update",value:function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,r=this.polygonPool,a=t.slots,o=a.length;n.length=0,r.freeAll(i),i.length=0;for(var s=0;s<o;s++){var u=a[s];if(u.bone.active){var l=u.getAttachment();if(l instanceof yt){var h=l;n.push(h);var c=r.obtain();c.length!=h.worldVerticesLength&&(c=z.newFloatArray(h.worldVerticesLength)),i.push(c),h.computeWorldVertices(u,0,h.worldVerticesLength,c,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}},{key:"aabbCompute",value:function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=this.polygons,a=0,o=r.length;a<o;a++)for(var s=r[a],u=s,l=0,h=s.length;l<h;l+=2){var c=u[l],f=u[l+1];t=Math.min(t,c),e=Math.min(e,f),n=Math.max(n,c),i=Math.max(i,f)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=i}},{key:"aabbContainsPoint",value:function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}},{key:"aabbIntersectsSegment",value:function(t,e,n,i){var r=this.minX,a=this.minY,o=this.maxX,s=this.maxY;if(t<=r&&n<=r||e<=a&&i<=a||t>=o&&n>=o||e>=s&&i>=s)return!1;var u=(i-e)/(n-t),l=u*(r-t)+e;if(l>a&&l<s)return!0;if((l=u*(o-t)+e)>a&&l<s)return!0;var h=(a-e)/u+t;return h>r&&h<o||(h=(s-e)/u+t)>r&&h<o}},{key:"aabbIntersectsSkeleton",value:function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}},{key:"containsPoint",value:function(t,e){for(var n=this.polygons,i=0,r=n.length;i<r;i++)if(this.containsPointPolygon(n[i],t,e))return this.boundingBoxes[i];return null}},{key:"containsPointPolygon",value:function(t,e,n){for(var i=t,r=t.length,a=r-2,o=!1,s=0;s<r;s+=2){var u=i[s+1],l=i[a+1];if(u<n&&l>=n||l<n&&u>=n){var h=i[s];h+(n-u)/(l-u)*(i[a]-h)<e&&(o=!o)}a=s}return o}},{key:"intersectsSegment",value:function(t,e,n,i){for(var r=this.polygons,a=0,o=r.length;a<o;a++)if(this.intersectsSegmentPolygon(r[a],t,e,n,i))return this.boundingBoxes[a];return null}},{key:"intersectsSegmentPolygon",value:function(t,e,n,i,r){for(var a=t,o=t.length,s=e-i,u=n-r,l=e*r-n*i,h=a[o-2],c=a[o-1],f=0;f<o;f+=2){var d=a[f],p=a[f+1],v=h*p-c*d,_=h-d,m=c-p,y=s*m-u*_,g=(l*_-s*v)/y;if((g>=h&&g<=d||g>=d&&g<=h)&&(g>=e&&g<=i||g>=i&&g<=e)){var b=(l*m-u*v)/y;if((b>=c&&b<=p||b>=p&&b<=c)&&(b>=n&&b<=r||b>=r&&b<=n))return!0}h=d,c=p}return!1}},{key:"getPolygon",value:function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}},{key:"getWidth",value:function(){return this.maxX-this.minX}},{key:"getHeight",value:function(){return this.maxY-this.minY}}]),t}(),ke=function(){function t(e){vt(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),this.attachmentLoader=e}return ut(t,[{key:"__init",value:function(){this.scale=1}},{key:"__init2",value:function(){this.linkedMeshes=new Array}},{key:"readSkeletonData",value:function(e){var n=this.scale,i=new _e,r="string"==typeof e?JSON.parse(e):e,a=r.skeleton;if(null!=a){if(i.hash=a.hash,i.version=a.spine,"3.8"!==i.version.substr(0,3))a.spine;if("3.8.75"===i.version);i.x=a.x,i.y=a.y,i.width=a.width,i.height=a.height,i.fps=a.fps,i.imagesPath=a.images}if(r.bones)for(var o=0;o<r.bones.length;o++){var s=r.bones[o],u=null,l=this.getValue(s,"parent",null);if(null!=l&&null==(u=i.findBone(l)))throw new Error("Parent bone not found: "+l);var h=new ee(i.bones.length,s.name,u);h.length=this.getValue(s,"length",0)*n,h.x=this.getValue(s,"x",0)*n,h.y=this.getValue(s,"y",0)*n,h.rotation=this.getValue(s,"rotation",0),h.scaleX=this.getValue(s,"scaleX",1),h.scaleY=this.getValue(s,"scaleY",1),h.shearX=this.getValue(s,"shearX",0),h.shearY=this.getValue(s,"shearY",0),h.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),h.skinRequired=this.getValue(s,"skin",!1),i.bones.push(h)}if(r.slots)for(var c=0;c<r.slots.length;c++){var f=r.slots[c],d=f.name,p=f.bone,v=i.findBone(p);if(null==v)throw new Error("Slot bone not found: "+p);var _=new me(i.slots.length,d,v),m=this.getValue(f,"color",null);null!=m&&_.color.setFromString(m);var y=this.getValue(f,"dark",null);null!=y&&(_.darkColor=new Y(1,1,1,1),_.darkColor.setFromString(y)),_.attachmentName=this.getValue(f,"attachment",null),_.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),i.slots.push(_)}if(r.ik)for(var g=0;g<r.ik.length;g++){var b=r.ik[g],x=new he(b.name);x.order=this.getValue(b,"order",0),x.skinRequired=this.getValue(b,"skin",!1);for(var w=0;w<b.bones.length;w++){var E=b.bones[w],S=i.findBone(E);if(null==S)throw new Error("IK bone not found: "+E);x.bones.push(S)}var k=b.target;if(x.target=i.findBone(k),null==x.target)throw new Error("IK target bone not found: "+k);x.mix=this.getValue(b,"mix",1),x.softness=this.getValue(b,"softness",0)*n,x.bendDirection=this.getValue(b,"bendPositive",!0)?1:-1,x.compress=this.getValue(b,"compress",!1),x.stretch=this.getValue(b,"stretch",!1),x.uniform=this.getValue(b,"uniform",!1),i.ikConstraints.push(x)}if(r.transform)for(var T=0;T<r.transform.length;T++){var A=r.transform[T],R=new ye(A.name);R.order=this.getValue(A,"order",0),R.skinRequired=this.getValue(A,"skin",!1);for(var I=0;I<A.bones.length;I++){var C=A.bones[I],P=i.findBone(C);if(null==P)throw new Error("Transform constraint bone not found: "+C);R.bones.push(P)}var M=A.target;if(R.target=i.findBone(M),null==R.target)throw new Error("Transform constraint target bone not found: "+M);R.local=this.getValue(A,"local",!1),R.relative=this.getValue(A,"relative",!1),R.offsetRotation=this.getValue(A,"rotation",0),R.offsetX=this.getValue(A,"x",0)*n,R.offsetY=this.getValue(A,"y",0)*n,R.offsetScaleX=this.getValue(A,"scaleX",0),R.offsetScaleY=this.getValue(A,"scaleY",0),R.offsetShearY=this.getValue(A,"shearY",0),R.rotateMix=this.getValue(A,"rotateMix",1),R.translateMix=this.getValue(A,"translateMix",1),R.scaleMix=this.getValue(A,"scaleMix",1),R.shearMix=this.getValue(A,"shearMix",1),i.transformConstraints.push(R)}if(r.path)for(var O=0;O<r.path.length;O++){var D=r.path[O],N=new ce(D.name);N.order=this.getValue(D,"order",0),N.skinRequired=this.getValue(D,"skin",!1);for(var L=0;L<D.bones.length;L++){var F=D.bones[L],B=i.findBone(F);if(null==B)throw new Error("Transform constraint bone not found: "+F);N.bones.push(B)}var V=D.target;if(N.target=i.findSlot(V),null==N.target)throw new Error("Path target slot not found: "+V);N.positionMode=t.positionModeFromString(this.getValue(D,"positionMode","percent")),N.spacingMode=t.spacingModeFromString(this.getValue(D,"spacingMode","length")),N.rotateMode=t.rotateModeFromString(this.getValue(D,"rotateMode","tangent")),N.offsetRotation=this.getValue(D,"rotation",0),N.position=this.getValue(D,"position",0),N.positionMode==ne.Fixed&&(N.position*=n),N.spacing=this.getValue(D,"spacing",0),N.spacingMode!=ie.Length&&N.spacingMode!=ie.Fixed||(N.spacing*=n),N.rotateMix=this.getValue(D,"rotateMix",1),N.translateMix=this.getValue(D,"translateMix",1),i.pathConstraints.push(N)}if(r.skins)for(var U=0;U<r.skins.length;U++){var X=r.skins[U],j=new be(X.name);if(X.bones)for(var G=0;G<X.bones.length;G++){var H=i.findBone(X.bones[G]);if(null==H)throw new Error("Skin bone not found: "+X.bones[U]);j.bones.push(H)}if(X.ik)for(var W=0;W<X.ik.length;W++){var z=i.findIkConstraint(X.ik[W]);if(null==z)throw new Error("Skin IK constraint not found: "+X.ik[U]);j.constraints.push(z)}if(X.transform)for(var q=0;q<X.transform.length;q++){var Z=i.findTransformConstraint(X.transform[q]);if(null==Z)throw new Error("Skin transform constraint not found: "+X.transform[U]);j.constraints.push(Z)}if(X.path)for(var K=0;K<X.path.length;K++){var $=i.findPathConstraint(X.path[K]);if(null==$)throw new Error("Skin path constraint not found: "+X.path[U]);j.constraints.push($)}for(var Q in X.attachments){var J=i.findSlot(Q);if(null==J)throw new Error("Slot not found: "+Q);var tt=X.attachments[Q];for(var et in tt){var nt=this.readAttachment(tt[et],j,J.index,et,i);null!=nt&&j.setAttachment(J.index,et,nt)}}i.skins.push(j),"default"==j.name&&(i.defaultSkin=j)}for(var it=0,rt=this.linkedMeshes.length;it<rt;it++){var at=this.linkedMeshes[it],ot=null==at.skin?i.defaultSkin:i.findSkin(at.skin);if(null==ot)throw new Error("Skin not found: "+at.skin);var st=ot.getAttachment(at.slotIndex,at.parent);if(null==st)throw new Error("Parent mesh not found: "+at.parent);at.mesh.deformAttachment=at.inheritDeform?st:at.mesh,at.mesh.setParentMesh(st)}if(this.linkedMeshes.length=0,r.events)for(var ut in r.events){var lt=r.events[ut],ht=new ue(ut);ht.intValue=this.getValue(lt,"int",0),ht.floatValue=this.getValue(lt,"float",0),ht.stringValue=this.getValue(lt,"string",""),ht.audioPath=this.getValue(lt,"audio",null),null!=ht.audioPath&&(ht.volume=this.getValue(lt,"volume",1),ht.balance=this.getValue(lt,"balance",0)),i.events.push(ht)}if(r.animations)for(var ct in r.animations){var ft=r.animations[ct];this.readAnimation(ft,ct,i)}return i}},{key:"readAttachment",value:function(t,e,n,i,r){var a=this.scale;switch(i=this.getValue(t,"name",i),this.getValue(t,"type","region")){case"region":var o=this.getValue(t,"path",i),s=this.attachmentLoader.newRegionAttachment(e,i,o);if(null==s)return null;s.path=o,s.x=this.getValue(t,"x",0)*a,s.y=this.getValue(t,"y",0)*a,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*a,s.height=t.height*a;var u=this.getValue(t,"color",null);return null!=u&&s.color.setFromString(u),s;case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,i);if(null==l)return null;this.readVertices(t,l,t.vertexCount<<1);var h=this.getValue(t,"color",null);return null!=h&&l.color.setFromString(h),l;case"mesh":case"linkedmesh":var c=this.getValue(t,"path",i),f=this.attachmentLoader.newMeshAttachment(e,i,c);if(null==f)return null;f.path=c;var d=this.getValue(t,"color",null);null!=d&&f.color.setFromString(d),f.width=this.getValue(t,"width",0)*a,f.height=this.getValue(t,"height",0)*a;var p=this.getValue(t,"parent",null);if(null!=p)return this.linkedMeshes.push(new Te(f,this.getValue(t,"skin",null),n,p,this.getValue(t,"deform",!0))),f;var v=t.uvs;return this.readVertices(t,f,v.length),f.triangles=t.triangles,f.regionUVs=new Float32Array(v),f.edges=this.getValue(t,"edges",null),f.hullLength=2*this.getValue(t,"hull",0),f;case"path":var _=this.attachmentLoader.newPathAttachment(e,i);if(null==_)return null;_.closed=this.getValue(t,"closed",!1),_.constantSpeed=this.getValue(t,"constantSpeed",!0);var m=t.vertexCount;this.readVertices(t,_,m<<1);for(var y=z.newArray(m/3,0),g=0;g<t.lengths.length;g++)y[g]=t.lengths[g]*a;_.lengths=y;var b=this.getValue(t,"color",null);return null!=b&&_.color.setFromString(b),_;case"point":var x=this.attachmentLoader.newPointAttachment(e,i);if(null==x)return null;x.x=this.getValue(t,"x",0)*a,x.y=this.getValue(t,"y",0)*a,x.rotation=this.getValue(t,"rotation",0);var w=this.getValue(t,"color",null);return null!=w&&x.color.setFromString(w),x;case"clipping":var E=this.attachmentLoader.newClippingAttachment(e,i);if(null==E)return null;var S=this.getValue(t,"end",null);if(null!=S){var k=r.findSlot(S);if(null==k)throw new Error("Clipping end slot not found: "+S);E.endSlot=k}var T=t.vertexCount;this.readVertices(t,E,T<<1);var A=this.getValue(t,"color",null);return null!=A&&E.color.setFromString(A),E}return null}},{key:"readVertices",value:function(t,e,n){var i=this.scale;e.worldVerticesLength=n;var r=t.vertices;if(n!=r.length){for(var a=new Array,o=new Array,s=0,u=r.length;s<u;){var l=r[s++];o.push(l);for(var h=s+4*l;s<h;s+=4)o.push(r[s]),a.push(r[s+1]*i),a.push(r[s+2]*i),a.push(r[s+3])}e.bones=o,e.vertices=z.toFloatArray(a)}else{var c=z.toFloatArray(r);if(1!=i)for(var f=0,d=r.length;f<d;f++)c[f]*=i;e.vertices=c}}},{key:"readAnimation",value:function(t,e,n){var i=this.scale,r=new Array,a=0;if(t.slots)for(var o in t.slots){var s=t.slots[o],u=n.findSlotIndex(o);if(-1==u)throw new Error("Slot not found: "+o);for(var l in s){var h=s[l];if("attachment"==l){var c=new Ft(h.length);c.slotIndex=u;for(var f=0,d=0;d<h.length;d++){var p=h[d];c.setFrame(f++,this.getValue(p,"time",0),p.name)}r.push(c),a=Math.max(a,c.frames[c.getFrameCount()-1])}else if("color"==l){var v=new Nt(h.length);v.slotIndex=u;for(var _=0,m=0;m<h.length;m++){var y=h[m],g=new Y;g.setFromString(y.color||"ffffffff"),v.setFrame(_,this.getValue(y,"time",0),g.r,g.g,g.b,g.a),this.readCurve(y,v,_),_++}r.push(v),a=Math.max(a,v.frames[(v.getFrameCount()-1)*Nt.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: "+l+" ("+o+")");var b=new Lt(h.length);b.slotIndex=u;for(var x=0,w=0;w<h.length;w++){var E=h[w],S=new Y,k=new Y;S.setFromString(E.light),k.setFromString(E.dark),b.setFrame(x,this.getValue(E,"time",0),S.r,S.g,S.b,S.a,k.r,k.g,k.b),this.readCurve(E,b,x),x++}r.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*Lt.ENTRIES])}}}if(t.bones)for(var T in t.bones){var A=t.bones[T],R=n.findBoneIndex(T);if(-1==R)throw new Error("Bone not found: "+T);for(var I in A){var C=A[I];if("rotate"===I){var P=new Pt(C.length);P.boneIndex=R;for(var M=0,O=0;O<C.length;O++){var D=C[O];P.setFrame(M,this.getValue(D,"time",0),this.getValue(D,"angle",0)),this.readCurve(D,P,M),M++}r.push(P),a=Math.max(a,P.frames[(P.getFrameCount()-1)*Pt.ENTRIES])}else{if("translate"!==I&&"scale"!==I&&"shear"!==I)throw new Error("Invalid timeline type for a bone: "+I+" ("+T+")");var N=null,L=1,F=0;"scale"===I?(N=new Ot(C.length),F=1):"shear"===I?N=new Dt(C.length):(N=new Mt(C.length),L=i),N.boneIndex=R;for(var B=0,V=0;V<C.length;V++){var U=C[V],X=this.getValue(U,"x",F),j=this.getValue(U,"y",F);N.setFrame(B,this.getValue(U,"time",0),X*L,j*L),this.readCurve(U,N,B),B++}r.push(N),a=Math.max(a,N.frames[(N.getFrameCount()-1)*Mt.ENTRIES])}}}if(t.ik)for(var G in t.ik){var H=t.ik[G],W=n.findIkConstraint(G),q=new Yt(H.length);q.ikConstraintIndex=n.ikConstraints.indexOf(W);for(var Z=0,K=0;K<H.length;K++){var $=H[K];q.setFrame(Z,this.getValue($,"time",0),this.getValue($,"mix",1),this.getValue($,"softness",0)*i,this.getValue($,"bendPositive",!0)?1:-1,this.getValue($,"compress",!1),this.getValue($,"stretch",!1)),this.readCurve($,q,Z),Z++}r.push(q),a=Math.max(a,q.frames[(q.getFrameCount()-1)*Yt.ENTRIES])}if(t.transform)for(var Q in t.transform){var tt=t.transform[Q],et=n.findTransformConstraint(Q),nt=new jt(tt.length);nt.transformConstraintIndex=n.transformConstraints.indexOf(et);for(var it=0,rt=0;rt<tt.length;rt++){var at=tt[rt];nt.setFrame(it,this.getValue(at,"time",0),this.getValue(at,"rotateMix",1),this.getValue(at,"translateMix",1),this.getValue(at,"scaleMix",1),this.getValue(at,"shearMix",1)),this.readCurve(at,nt,it),it++}r.push(nt),a=Math.max(a,nt.frames[(nt.getFrameCount()-1)*jt.ENTRIES])}if(t.path)for(var ot in t.path){var st=t.path[ot],ut=n.findPathConstraintIndex(ot);if(-1==ut)throw new Error("Path constraint not found: "+ot);var lt=n.pathConstraints[ut];for(var ht in st){var ct=st[ht];if("position"===ht||"spacing"===ht){var ft=null,dt=1;"spacing"===ht?(ft=new Ht(ct.length),lt.spacingMode!=ie.Length&&lt.spacingMode!=ie.Fixed||(dt=i)):(ft=new Gt(ct.length),lt.positionMode==ne.Fixed&&(dt=i)),ft.pathConstraintIndex=ut;for(var pt=0,vt=0;vt<ct.length;vt++){var _t=ct[vt];ft.setFrame(pt,this.getValue(_t,"time",0),this.getValue(_t,ht,0)*dt),this.readCurve(_t,ft,pt),pt++}r.push(ft),a=Math.max(a,ft.frames[(ft.getFrameCount()-1)*Gt.ENTRIES])}else if("mix"===ht){var mt=new Wt(ct.length);mt.pathConstraintIndex=ut;for(var yt=0,gt=0;gt<ct.length;gt++){var bt=ct[gt];mt.setFrame(yt,this.getValue(bt,"time",0),this.getValue(bt,"rotateMix",1),this.getValue(bt,"translateMix",1)),this.readCurve(bt,mt,yt),yt++}r.push(mt),a=Math.max(a,mt.frames[(mt.getFrameCount()-1)*Wt.ENTRIES])}}}if(t.deform)for(var xt in t.deform){var wt=t.deform[xt],Et=n.findSkin(xt);if(null!=Et)for(var St in wt){var kt=wt[St],Tt=n.findSlotIndex(St);if(-1==Tt)throw new Error("Slot not found: "+kt.name);for(var At in kt){var Rt=kt[At],Ct=Et.getAttachment(Tt,At);if(null==Ct)throw new Error("Deform attachment not found: "+Rt.name);var Bt=null!=Ct.bones,zt=Ct.vertices,qt=Bt?zt.length/3*2:zt.length,Zt=new Vt(Rt.length);Zt.slotIndex=Tt,Zt.attachment=Ct;for(var Kt=0,$t=0;$t<Rt.length;$t++){var Qt=Rt[$t],Jt=void 0,te=this.getValue(Qt,"vertices",null);if(null==te)Jt=Bt?z.newFloatArray(qt):zt;else{Jt=z.newFloatArray(qt);var ee=this.getValue(Qt,"offset",0);if(z.arrayCopy(te,0,Jt,ee,te.length),1!=i)for(var re=ee,ae=re+te.length;re<ae;re++)Jt[re]*=i;if(!Bt)for(var oe=0;oe<qt;oe++)Jt[oe]+=zt[oe]}Zt.setFrame(Kt,this.getValue(Qt,"time",0),Jt),this.readCurve(Qt,Zt,Kt),Kt++}r.push(Zt),a=Math.max(a,Zt.frames[Zt.getFrameCount()-1])}}else if(J.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+xt)}var ue=t.drawOrder;if(null==ue&&(ue=t.draworder),null!=ue){for(var le=new Xt(ue.length),he=n.slots.length,ce=0,fe=0;fe<ue.length;fe++){var de=ue[fe],pe=null,ve=this.getValue(de,"offsets",null);if(null!=ve){pe=z.newArray(he,-1);for(var _e=z.newArray(he-ve.length,0),me=0,ye=0,ge=0;ge<ve.length;ge++){var be=ve[ge],xe=n.findSlotIndex(be.slot);if(-1==xe)throw new Error("Slot not found: "+be.slot);for(;me!=xe;)_e[ye++]=me++;pe[me+be.offset]=me++}for(;me<he;)_e[ye++]=me++;for(var we=he-1;we>=0;we--)-1==pe[we]&&(pe[we]=_e[--ye])}le.setFrame(ce++,this.getValue(de,"time",0),pe)}r.push(le),a=Math.max(a,le.frames[le.getFrameCount()-1])}if(t.events){for(var Ee=new Ut(t.events.length),Se=0,ke=0;ke<t.events.length;ke++){var Te=t.events[ke],Ae=n.findEvent(Te.name);if(null==Ae)throw new Error("Event not found: "+Te.name);var Re=new se(z.toSinglePrecision(this.getValue(Te,"time",0)),Ae);Re.intValue=this.getValue(Te,"int",Ae.intValue),Re.floatValue=this.getValue(Te,"float",Ae.floatValue),Re.stringValue=this.getValue(Te,"string",Ae.stringValue),null!=Re.data.audioPath&&(Re.volume=this.getValue(Te,"volume",1),Re.balance=this.getValue(Te,"balance",0)),Ee.setFrame(Se++,Re)}r.push(Ee),a=Math.max(a,Ee.frames[Ee.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new It(e,r,a))}},{key:"readCurve",value:function(t,e,n){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(n);else{var i=t.curve;e.setCurve(n,i,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}}},{key:"getValue",value:function(t,e,n){return void 0!==t[e]?t[e]:n}}],[{key:"blendModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return l.T$.NORMAL;if("additive"==t)return l.T$.ADD;if("multiply"==t)return l.T$.MULTIPLY;if("screen"==t)return l.T$.SCREEN;throw new Error(`Unknown blend mode: ${t}`)}},{key:"positionModeFromString",value:function(t){if("fixed"==(t=t.toLowerCase()))return ne.Fixed;if("percent"==t)return ne.Percent;throw new Error(`Unknown position mode: ${t}`)}},{key:"spacingModeFromString",value:function(t){if("length"==(t=t.toLowerCase()))return ie.Length;if("fixed"==t)return ie.Fixed;if("percent"==t)return ie.Percent;throw new Error(`Unknown position mode: ${t}`)}},{key:"rotateModeFromString",value:function(t){if("tangent"==(t=t.toLowerCase()))return re.Tangent;if("chain"==t)return re.Chain;if("chainscale"==t)return re.ChainScale;throw new Error(`Unknown rotate mode: ${t}`)}},{key:"transformModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return Jt.Normal;if("onlytranslation"==t)return Jt.OnlyTranslation;if("norotationorreflection"==t)return Jt.NoRotationOrReflection;if("noscale"==t)return Jt.NoScale;if("noscaleorreflection"==t)return Jt.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${t}`)}}]),t}(),Te=function t(e,n,i,r,a){vt(this,t),this.mesh=e,this.skin=n,this.slotIndex=i,this.parent=r,this.inheritDeform=a},Ae=function(t){lt(n,t);var e=ct(n);function n(){return vt(this,n),e.apply(this,arguments)}return ut(n,[{key:"createSkeleton",value:function(t){this.skeleton=new ve(t),this.skeleton.updateWorldTransform(),this.stateData=new Qt(t),this.state=new zt(this.stateData)}}]),n}(it);function Re(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Ie(t,e,n){return e&&Re(t.prototype,e),n&&Re(t,n),t}function Ce(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pe(t,e)}function Pe(t,e){return(Pe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Ne(t);if(e){var r=Ne(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Oe(this,n)}}function Oe(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?De(t):e}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ne(t){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Fe=function t(e){if(Le(this,t),null==e)throw new Error("name cannot be null.");this.name=e},Be=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),i=e.call(this,t),n.prototype.__init.call(De(i)),n.prototype.__init2.call(De(i)),i}return Ie(n,[{key:"__init",value:function(){this.id=(65535&n.nextID++)<<11}},{key:"__init2",value:function(){this.worldVerticesLength=0}},{key:"computeWorldVerticesOld",value:function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}},{key:"computeWorldVertices",value:function(t,e,n,i,r,a){n=r+(n>>1)*a;var o=t.bone.skeleton,s=t.attachmentVertices,u=this.vertices,l=this.bones;if(null!=l){for(var h=0,c=0,f=0;f<e;f+=2){var d=l[h];h+=d+1,c+=d}var p=o.bones;if(0==s.length)for(var v=r,_=3*c;v<n;v+=a){var m=0,y=0,g=l[h++];for(g+=h;h<g;h++,_+=3){var b=p[l[h]].matrix,x=u[_],w=u[_+1],E=u[_+2];m+=(x*b.a+w*b.c+b.tx)*E,y+=(x*b.b+w*b.d+b.ty)*E}i[v]=m,i[v+1]=y}else for(var S=s,k=r,T=3*c,A=c<<1;k<n;k+=a){var R=0,I=0,C=l[h++];for(C+=h;h<C;h++,T+=3,A+=2){var P=p[l[h]].matrix,M=u[T]+S[A],O=u[T+1]+S[A+1],D=u[T+2];R+=(M*P.a+O*P.c+P.tx)*D,I+=(M*P.b+O*P.d+P.ty)*D}i[k]=R,i[k+1]=I}}else{s.length>0&&(u=s);for(var N=t.bone.matrix,L=N.tx,F=N.ty,B=N.a,V=N.c,U=N.b,X=N.d,Y=e,j=r;j<n;Y+=2,j+=a){var G=u[Y],H=u[Y+1];i[j]=G*B+H*V+L,i[j+1]=G*U+H*X+F}}}},{key:"applyDeform",value:function(t){return this==t}}],[{key:"__initStatic",value:function(){this.nextID=0}}]),n}(Fe);Be.__initStatic();var Ve=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),i=e.call(this,t),n.prototype.__init.call(De(i)),n.prototype.__init2.call(De(i)),i}return Ie(n,[{key:"__init",value:function(){this.type=o.BoundingBox}},{key:"__init2",value:function(){this.color=new Y(1,1,1,1)}}]),n}(Be),Ue=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),i=e.call(this,t),n.prototype.__init.call(De(i)),n.prototype.__init2.call(De(i)),i}return Ie(n,[{key:"__init",value:function(){this.type=o.Clipping}},{key:"__init2",value:function(){this.color=new Y(.2275,.2275,.8078,1)}}]),n}(Be),Xe=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),i=e.call(this,t),n.prototype.__init.call(De(i)),n.prototype.__init2.call(De(i)),n.prototype.__init3.call(De(i)),n.prototype.__init4.call(De(i)),i}return Ie(n,[{key:"__init",value:function(){this.type=o.Mesh}},{key:"__init2",value:function(){this.color=new Y(1,1,1,1)}},{key:"__init3",value:function(){this.inheritDeform=!1}},{key:"__init4",value:function(){this.tempColor=new Y(0,0,0,0)}},{key:"applyDeform",value:function(t){return this==t||this.inheritDeform&&this.parentMesh==t}},{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}}]),n}(Be),Ye=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),i=e.call(this,t),n.prototype.__init.call(De(i)),n.prototype.__init2.call(De(i)),n.prototype.__init3.call(De(i)),n.prototype.__init4.call(De(i)),i}return Ie(n,[{key:"__init",value:function(){this.type=o.Path}},{key:"__init2",value:function(){this.closed=!1}},{key:"__init3",value:function(){this.constantSpeed=!1}},{key:"__init4",value:function(){this.color=new Y(1,1,1,1)}}]),n}(Be),je=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),i=e.call(this,t),n.prototype.__init.call(De(i)),n.prototype.__init2.call(De(i)),i}return Ie(n,[{key:"__init",value:function(){this.type=o.Point}},{key:"__init2",value:function(){this.color=new Y(.38,.94,0,1)}},{key:"computeWorldPosition",value:function(t,e){var n=t.matrix;return e.x=this.x*n.a+this.y*n.c+t.worldX,e.y=this.x*n.b+this.y*n.d+t.worldY,e}},{key:"computeWorldRotation",value:function(t){var e=t.matrix,n=j.cosDeg(this.rotation),i=j.sinDeg(this.rotation),r=n*e.a+i*e.c,a=n*e.b+i*e.d;return Math.atan2(a,r)*j.radDeg}}]),n}(Be),Ge=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),i=e.call(this,t),n.prototype.__init.call(De(i)),n.prototype.__init2.call(De(i)),n.prototype.__init3.call(De(i)),n.prototype.__init4.call(De(i)),n.prototype.__init5.call(De(i)),n.prototype.__init6.call(De(i)),n.prototype.__init7.call(De(i)),n.prototype.__init8.call(De(i)),n.prototype.__init9.call(De(i)),n.prototype.__init10.call(De(i)),n.prototype.__init11.call(De(i)),n.prototype.__init12.call(De(i)),i}return Ie(n,[{key:"__init",value:function(){this.type=o.Region}},{key:"__init2",value:function(){this.x=0}},{key:"__init3",value:function(){this.y=0}},{key:"__init4",value:function(){this.scaleX=1}},{key:"__init5",value:function(){this.scaleY=1}},{key:"__init6",value:function(){this.rotation=0}},{key:"__init7",value:function(){this.width=0}},{key:"__init8",value:function(){this.height=0}},{key:"__init9",value:function(){this.color=new Y(1,1,1,1)}},{key:"__init10",value:function(){this.offset=z.newFloatArray(8)}},{key:"__init11",value:function(){this.uvs=z.newFloatArray(8)}},{key:"__init12",value:function(){this.tempColor=new Y(1,1,1,1)}},{key:"updateOffset",value:function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*e,a=i+this.region.width*t,o=r+this.region.height*e,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),h=i*u+this.x,c=i*l,f=r*u+this.y,d=r*l,p=a*u+this.x,v=a*l,_=o*u+this.y,m=o*l,y=this.offset;y[n.OX1]=h-d,y[n.OY1]=f+c,y[n.OX2]=h-m,y[n.OY2]=_+c,y[n.OX3]=p-m,y[n.OY3]=_+v,y[n.OX4]=p-d,y[n.OY4]=f+v}},{key:"setRegion",value:function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}},{key:"computeWorldVertices",value:function(t,e,i,r){var a=this.offset,o=t.matrix,s=o.tx,u=o.ty,l=o.a,h=o.c,c=o.b,f=o.d,d=0,p=0;d=a[n.OX1],p=a[n.OY1],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u,i+=r,d=a[n.OX2],p=a[n.OY2],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u,i+=r,d=a[n.OX3],p=a[n.OY3],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u,i+=r,d=a[n.OX4],p=a[n.OY4],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u}}],[{key:"__initStatic",value:function(){this.OX1=0}},{key:"__initStatic2",value:function(){this.OY1=1}},{key:"__initStatic3",value:function(){this.OX2=2}},{key:"__initStatic4",value:function(){this.OY2=3}},{key:"__initStatic5",value:function(){this.OX3=4}},{key:"__initStatic6",value:function(){this.OY3=5}},{key:"__initStatic7",value:function(){this.OX4=6}},{key:"__initStatic8",value:function(){this.OY4=7}},{key:"__initStatic9",value:function(){this.X1=0}},{key:"__initStatic10",value:function(){this.Y1=1}},{key:"__initStatic11",value:function(){this.C1R=2}},{key:"__initStatic12",value:function(){this.C1G=3}},{key:"__initStatic13",value:function(){this.C1B=4}},{key:"__initStatic14",value:function(){this.C1A=5}},{key:"__initStatic15",value:function(){this.U1=6}},{key:"__initStatic16",value:function(){this.V1=7}},{key:"__initStatic17",value:function(){this.X2=8}},{key:"__initStatic18",value:function(){this.Y2=9}},{key:"__initStatic19",value:function(){this.C2R=10}},{key:"__initStatic20",value:function(){this.C2G=11}},{key:"__initStatic21",value:function(){this.C2B=12}},{key:"__initStatic22",value:function(){this.C2A=13}},{key:"__initStatic23",value:function(){this.U2=14}},{key:"__initStatic24",value:function(){this.V2=15}},{key:"__initStatic25",value:function(){this.X3=16}},{key:"__initStatic26",value:function(){this.Y3=17}},{key:"__initStatic27",value:function(){this.C3R=18}},{key:"__initStatic28",value:function(){this.C3G=19}},{key:"__initStatic29",value:function(){this.C3B=20}},{key:"__initStatic30",value:function(){this.C3A=21}},{key:"__initStatic31",value:function(){this.U3=22}},{key:"__initStatic32",value:function(){this.V3=23}},{key:"__initStatic33",value:function(){this.X4=24}},{key:"__initStatic34",value:function(){this.Y4=25}},{key:"__initStatic35",value:function(){this.C4R=26}},{key:"__initStatic36",value:function(){this.C4G=27}},{key:"__initStatic37",value:function(){this.C4B=28}},{key:"__initStatic38",value:function(){this.C4A=29}},{key:"__initStatic39",value:function(){this.U4=30}},{key:"__initStatic40",value:function(){this.V4=31}}]),n}(Fe);Ge.__initStatic(),Ge.__initStatic2(),Ge.__initStatic3(),Ge.__initStatic4(),Ge.__initStatic5(),Ge.__initStatic6(),Ge.__initStatic7(),Ge.__initStatic8(),Ge.__initStatic9(),Ge.__initStatic10(),Ge.__initStatic11(),Ge.__initStatic12(),Ge.__initStatic13(),Ge.__initStatic14(),Ge.__initStatic15(),Ge.__initStatic16(),Ge.__initStatic17(),Ge.__initStatic18(),Ge.__initStatic19(),Ge.__initStatic20(),Ge.__initStatic21(),Ge.__initStatic22(),Ge.__initStatic23(),Ge.__initStatic24(),Ge.__initStatic25(),Ge.__initStatic26(),Ge.__initStatic27(),Ge.__initStatic28(),Ge.__initStatic29(),Ge.__initStatic30(),Ge.__initStatic31(),Ge.__initStatic32(),Ge.__initStatic33(),Ge.__initStatic34(),Ge.__initStatic35(),Ge.__initStatic36(),Ge.__initStatic37(),Ge.__initStatic38(),Ge.__initStatic39(),Ge.__initStatic40();var He=function(){function t(e,n){Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),this.jitterX=e,this.jitterY=n}return Ie(t,[{key:"__init",value:function(){this.jitterX=0}},{key:"__init2",value:function(){this.jitterY=0}},{key:"begin",value:function(t){}},{key:"transform",value:function(t,e,n,i){t.x+=j.randomTriangular(-this.jitterX,this.jitterY),t.y+=j.randomTriangular(-this.jitterX,this.jitterY)}},{key:"end",value:function(){}}]),t}(),We=function(){function t(e){Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),this.radius=e}return Ie(t,[{key:"__init",value:function(){this.centerX=0}},{key:"__init2",value:function(){this.centerY=0}},{key:"__init3",value:function(){this.radius=0}},{key:"__init4",value:function(){this.angle=0}},{key:"__init5",value:function(){this.worldX=0}},{key:"__init6",value:function(){this.worldY=0}},{key:"begin",value:function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY}},{key:"transform",value:function(e,n,i,r){var a=this.angle*j.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,u=Math.sqrt(o*o+s*s);if(u<this.radius){var l=t.interpolation.apply(0,a,(this.radius-u)/this.radius),h=Math.cos(l),c=Math.sin(l);e.x=h*o-c*s+this.worldX,e.y=c*o+h*s+this.worldY}}},{key:"end",value:function(){}}],[{key:"__initStatic",value:function(){this.interpolation=new W(2)}}]),t}();We.__initStatic();var ze,qe,Ze,Ke=function(){function t(e,n,i){if(Le(this,t),null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("timelines cannot be null.");this.name=e,this.timelines=n,this.duration=i}return Ie(t,[{key:"apply",value:function(t,e,n,i,r,a,o,s){if(null==t)throw new Error("skeleton cannot be null.");i&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,l=0,h=u.length;l<h;l++)u[l].apply(t,e,n,r,a,o,s)}}],[{key:"binarySearch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=0,r=t.length/n-2;if(0==r)return n;for(var a=r>>>1;;){if(t[(a+1)*n]<=e?i=a+1:r=a,i==r)return(i+1)*n;a=i+r>>>1}}},{key:"linearSearch",value:function(t,e,n){for(var i=0,r=t.length-n;i<=r;i+=n)if(t[i]>e)return i;return-1}}]),t}();!function(t){t[t.setup=0]="setup";t[t.first=1]="first";t[t.replace=2]="replace";t[t.add=3]="add"}(ze||(ze={})),function(t){t[t.in=0]="in";t[t.out=1]="out"}(qe||(qe={})),function(t){t[t.rotate=0]="rotate";t[t.translate=1]="translate";t[t.scale=2]="scale";t[t.shear=3]="shear";t[t.attachment=4]="attachment";t[t.color=5]="color";t[t.deform=6]="deform";t[t.event=7]="event";t[t.drawOrder=8]="drawOrder";t[t.ikConstraint=9]="ikConstraint";t[t.transformConstraint=10]="transformConstraint";t[t.pathConstraintPosition=11]="pathConstraintPosition";t[t.pathConstraintSpacing=12]="pathConstraintSpacing";t[t.pathConstraintMix=13]="pathConstraintMix";t[t.twoColor=14]="twoColor"}(Ze||(Ze={}));var $e=function(){function t(e){if(Le(this,t),e<=0)throw new Error("frameCount must be > 0: "+e);this.curves=z.newFloatArray((e-1)*t.BEZIER_SIZE)}return Ie(t,[{key:"getFrameCount",value:function(){return this.curves.length/t.BEZIER_SIZE+1}},{key:"setLinear",value:function(e){this.curves[e*t.BEZIER_SIZE]=t.LINEAR}},{key:"setStepped",value:function(e){this.curves[e*t.BEZIER_SIZE]=t.STEPPED}},{key:"getCurveType",value:function(e){var n=e*t.BEZIER_SIZE;if(n==this.curves.length)return t.LINEAR;var i=this.curves[n];return i==t.LINEAR?t.LINEAR:i==t.STEPPED?t.STEPPED:t.BEZIER}},{key:"setCurve",value:function(e,n,i,r,a){var o=.03*(2*-n+r),s=.03*(2*-i+a),u=.006*(3*(n-r)+1),l=.006*(3*(i-a)+1),h=2*o+u,c=2*s+l,f=.3*n+o+.16666667*u,d=.3*i+s+.16666667*l,p=e*t.BEZIER_SIZE,v=this.curves;v[p++]=t.BEZIER;for(var _=f,m=d,y=p+t.BEZIER_SIZE-1;p<y;p+=2)v[p]=_,v[p+1]=m,f+=h,d+=c,h+=u,c+=l,_+=f,m+=d}},{key:"getCurvePercent",value:function(e,n){n=j.clamp(n,0,1);var i=this.curves,r=e*t.BEZIER_SIZE,a=i[r];if(a==t.LINEAR)return n;if(a==t.STEPPED)return 0;for(var o=0,s=++r,u=r+t.BEZIER_SIZE-1;r<u;r+=2)if((o=i[r])>=n){var l=void 0,h=void 0;return r==s?(l=0,h=0):(l=i[r-2],h=i[r-1]),h+(i[r+1]-h)*(n-l)/(o-l)}var c=i[r-1];return c+(1-c)*(n-o)/(1-o)}}],[{key:"__initStatic",value:function(){this.LINEAR=0}},{key:"__initStatic2",value:function(){this.STEPPED=1}},{key:"__initStatic3",value:function(){this.BEZIER=2}},{key:"__initStatic4",value:function(){this.BEZIER_SIZE=19}}]),t}();$e.__initStatic(),$e.__initStatic2(),$e.__initStatic3(),$e.__initStatic4();var Qe=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t<<1),i}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.rotate<<24)+this.boneIndex}},{key:"setFrame",value:function(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+n.ROTATION]=i}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.bones[this.boneIndex];if(i<u[0])switch(o){case ze.setup:return void(l.rotation=l.data.rotation);case ze.first:var h=l.data.rotation-l.rotation;l.rotation+=(h-360*(16384-(16384.499999999996-h/360|0)))*a}else if(i>=u[u.length-n.ENTRIES]){var c=u[u.length+n.PREV_ROTATION];switch(o){case ze.setup:l.rotation=l.data.rotation+c*a;break;case ze.first:case ze.replace:c+=l.data.rotation-l.rotation,c-=360*(16384-(16384.499999999996-c/360|0));case ze.add:l.rotation+=c*a}}else{var f=Ke.binarySearch(u,i,n.ENTRIES),d=u[f+n.PREV_ROTATION],p=u[f],v=this.getCurvePercent((f>>1)-1,1-(i-p)/(u[f+n.PREV_TIME]-p)),_=u[f+n.ROTATION]-d;switch(_=d+(_-360*(16384-(16384.499999999996-_/360|0)))*v,o){case ze.setup:l.rotation=l.data.rotation+(_-360*(16384-(16384.499999999996-_/360|0)))*a;break;case ze.first:case ze.replace:_+=l.data.rotation-l.rotation;case ze.add:l.rotation+=(_-360*(16384-(16384.499999999996-_/360|0)))*a}}}}],[{key:"__initStatic5",value:function(){this.ENTRIES=2}},{key:"__initStatic6",value:function(){this.PREV_TIME=-2}},{key:"__initStatic7",value:function(){this.PREV_ROTATION=-1}},{key:"__initStatic8",value:function(){this.ROTATION=1}}]),n}($e);Qe.__initStatic5(),Qe.__initStatic6(),Qe.__initStatic7(),Qe.__initStatic8();var Je=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.translate<<24)+this.boneIndex}},{key:"setFrame",value:function(t,e,i,r){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.X]=i,this.frames[t+n.Y]=r}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.bones[this.boneIndex];if(i<u[0])switch(o){case ze.setup:return l.x=l.data.x,void(l.y=l.data.y);case ze.first:l.x+=(l.data.x-l.x)*a,l.y+=(l.data.y-l.y)*a}else{var h=0,c=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_X],c=u[u.length+n.PREV_Y];else{var f=Ke.binarySearch(u,i,n.ENTRIES);h=u[f+n.PREV_X],c=u[f+n.PREV_Y];var d=u[f],p=this.getCurvePercent(f/n.ENTRIES-1,1-(i-d)/(u[f+n.PREV_TIME]-d));h+=(u[f+n.X]-h)*p,c+=(u[f+n.Y]-c)*p}switch(o){case ze.setup:l.x=l.data.x+h*a,l.y=l.data.y+c*a;break;case ze.first:case ze.replace:l.x+=(l.data.x+h-l.x)*a,l.y+=(l.data.y+c-l.y)*a;break;case ze.add:l.x+=h*a,l.y+=c*a}}}}],[{key:"__initStatic9",value:function(){this.ENTRIES=3}},{key:"__initStatic10",value:function(){this.PREV_TIME=-3}},{key:"__initStatic11",value:function(){this.PREV_X=-2}},{key:"__initStatic12",value:function(){this.PREV_Y=-1}},{key:"__initStatic13",value:function(){this.X=1}},{key:"__initStatic14",value:function(){this.Y=2}}]),n}($e);Je.__initStatic9(),Je.__initStatic10(),Je.__initStatic11(),Je.__initStatic12(),Je.__initStatic13(),Je.__initStatic14();var tn=function(t){Ce(n,t);var e=Me(n);function n(t){return Le(this,n),e.call(this,t)}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.scale<<24)+this.boneIndex}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.bones[this.boneIndex];if(i<u[0])switch(o){case ze.setup:return l.scaleX=l.data.scaleX,void(l.scaleY=l.data.scaleY);case ze.first:l.scaleX+=(l.data.scaleX-l.scaleX)*a,l.scaleY+=(l.data.scaleY-l.scaleY)*a}else{var h=0,c=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_X]*l.data.scaleX,c=u[u.length+n.PREV_Y]*l.data.scaleY;else{var f=Ke.binarySearch(u,i,n.ENTRIES);h=u[f+n.PREV_X],c=u[f+n.PREV_Y];var d=u[f],p=this.getCurvePercent(f/n.ENTRIES-1,1-(i-d)/(u[f+n.PREV_TIME]-d));h=(h+(u[f+n.X]-h)*p)*l.data.scaleX,c=(c+(u[f+n.Y]-c)*p)*l.data.scaleY}if(1==a)o==ze.add?(l.scaleX+=h-l.data.scaleX,l.scaleY+=c-l.data.scaleY):(l.scaleX=h,l.scaleY=c);else{var v=0,_=0;if(s==qe.out)switch(o){case ze.setup:v=l.data.scaleX,_=l.data.scaleY,l.scaleX=v+(Math.abs(h)*j.signum(v)-v)*a,l.scaleY=_+(Math.abs(c)*j.signum(_)-_)*a;break;case ze.first:case ze.replace:v=l.scaleX,_=l.scaleY,l.scaleX=v+(Math.abs(h)*j.signum(v)-v)*a,l.scaleY=_+(Math.abs(c)*j.signum(_)-_)*a;break;case ze.add:v=l.scaleX,_=l.scaleY,l.scaleX=v+(Math.abs(h)*j.signum(v)-l.data.scaleX)*a,l.scaleY=_+(Math.abs(c)*j.signum(_)-l.data.scaleY)*a}else switch(o){case ze.setup:v=Math.abs(l.data.scaleX)*j.signum(h),_=Math.abs(l.data.scaleY)*j.signum(c),l.scaleX=v+(h-v)*a,l.scaleY=_+(c-_)*a;break;case ze.first:case ze.replace:v=Math.abs(l.scaleX)*j.signum(h),_=Math.abs(l.scaleY)*j.signum(c),l.scaleX=v+(h-v)*a,l.scaleY=_+(c-_)*a;break;case ze.add:v=j.signum(h),_=j.signum(c),l.scaleX=Math.abs(l.scaleX)*v+(h-Math.abs(l.data.scaleX)*v)*a,l.scaleY=Math.abs(l.scaleY)*_+(c-Math.abs(l.data.scaleY)*_)*a}}}}}]),n}(Je),en=function(t){Ce(n,t);var e=Me(n);function n(t){return Le(this,n),e.call(this,t)}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.shear<<24)+this.boneIndex}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.bones[this.boneIndex];if(i<u[0])switch(o){case ze.setup:return l.shearX=l.data.shearX,void(l.shearY=l.data.shearY);case ze.first:l.shearX+=(l.data.shearX-l.shearX)*a,l.shearY+=(l.data.shearY-l.shearY)*a}else{var h=0,c=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_X],c=u[u.length+n.PREV_Y];else{var f=Ke.binarySearch(u,i,n.ENTRIES);h=u[f+n.PREV_X],c=u[f+n.PREV_Y];var d=u[f],p=this.getCurvePercent(f/n.ENTRIES-1,1-(i-d)/(u[f+n.PREV_TIME]-d));h+=(u[f+n.X]-h)*p,c+=(u[f+n.Y]-c)*p}switch(o){case ze.setup:l.shearX=l.data.shearX+h*a,l.shearY=l.data.shearY+c*a;break;case ze.first:case ze.replace:l.shearX+=(l.data.shearX+h-l.shearX)*a,l.shearY+=(l.data.shearY+c-l.shearY)*a;break;case ze.add:l.shearX+=h*a,l.shearY+=c*a}}}}]),n}(Je),nn=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.color<<24)+this.slotIndex}},{key:"setFrame",value:function(t,e,i,r,a,o){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.R]=i,this.frames[t+n.G]=r,this.frames[t+n.B]=a,this.frames[t+n.A]=o}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=t.slots[this.slotIndex],l=this.frames;if(i<l[0])switch(o){case ze.setup:return void u.color.setFromColor(u.data.color);case ze.first:var h=u.color,c=u.data.color;h.add((c.r-h.r)*a,(c.g-h.g)*a,(c.b-h.b)*a,(c.a-h.a)*a)}else{var f=0,d=0,p=0,v=0;if(i>=l[l.length-n.ENTRIES]){var _=l.length;f=l[_+n.PREV_R],d=l[_+n.PREV_G],p=l[_+n.PREV_B],v=l[_+n.PREV_A]}else{var m=Ke.binarySearch(l,i,n.ENTRIES);f=l[m+n.PREV_R],d=l[m+n.PREV_G],p=l[m+n.PREV_B],v=l[m+n.PREV_A];var y=l[m],g=this.getCurvePercent(m/n.ENTRIES-1,1-(i-y)/(l[m+n.PREV_TIME]-y));f+=(l[m+n.R]-f)*g,d+=(l[m+n.G]-d)*g,p+=(l[m+n.B]-p)*g,v+=(l[m+n.A]-v)*g}if(1==a)u.color.set(f,d,p,v);else{var b=u.color;o==ze.setup&&b.setFromColor(u.data.color),b.add((f-b.r)*a,(d-b.g)*a,(p-b.b)*a,(v-b.a)*a)}}}}],[{key:"__initStatic15",value:function(){this.ENTRIES=5}},{key:"__initStatic16",value:function(){this.PREV_TIME=-5}},{key:"__initStatic17",value:function(){this.PREV_R=-4}},{key:"__initStatic18",value:function(){this.PREV_G=-3}},{key:"__initStatic19",value:function(){this.PREV_B=-2}},{key:"__initStatic20",value:function(){this.PREV_A=-1}},{key:"__initStatic21",value:function(){this.R=1}},{key:"__initStatic22",value:function(){this.G=2}},{key:"__initStatic23",value:function(){this.B=3}},{key:"__initStatic24",value:function(){this.A=4}}]),n}($e);nn.__initStatic15(),nn.__initStatic16(),nn.__initStatic17(),nn.__initStatic18(),nn.__initStatic19(),nn.__initStatic20(),nn.__initStatic21(),nn.__initStatic22(),nn.__initStatic23(),nn.__initStatic24();var rn=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.twoColor<<24)+this.slotIndex}},{key:"setFrame",value:function(t,e,i,r,a,o,s,u,l){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.R]=i,this.frames[t+n.G]=r,this.frames[t+n.B]=a,this.frames[t+n.A]=o,this.frames[t+n.R2]=s,this.frames[t+n.G2]=u,this.frames[t+n.B2]=l}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=t.slots[this.slotIndex],l=this.frames;if(i<l[0])switch(o){case ze.setup:return u.color.setFromColor(u.data.color),void u.darkColor.setFromColor(u.data.darkColor);case ze.first:var h=u.color,c=u.darkColor,f=u.data.color,d=u.data.darkColor;h.add((f.r-h.r)*a,(f.g-h.g)*a,(f.b-h.b)*a,(f.a-h.a)*a),c.add((d.r-c.r)*a,(d.g-c.g)*a,(d.b-c.b)*a,0)}else{var p=0,v=0,_=0,m=0,y=0,g=0,b=0;if(i>=l[l.length-n.ENTRIES]){var x=l.length;p=l[x+n.PREV_R],v=l[x+n.PREV_G],_=l[x+n.PREV_B],m=l[x+n.PREV_A],y=l[x+n.PREV_R2],g=l[x+n.PREV_G2],b=l[x+n.PREV_B2]}else{var w=Ke.binarySearch(l,i,n.ENTRIES);p=l[w+n.PREV_R],v=l[w+n.PREV_G],_=l[w+n.PREV_B],m=l[w+n.PREV_A],y=l[w+n.PREV_R2],g=l[w+n.PREV_G2],b=l[w+n.PREV_B2];var E=l[w],S=this.getCurvePercent(w/n.ENTRIES-1,1-(i-E)/(l[w+n.PREV_TIME]-E));p+=(l[w+n.R]-p)*S,v+=(l[w+n.G]-v)*S,_+=(l[w+n.B]-_)*S,m+=(l[w+n.A]-m)*S,y+=(l[w+n.R2]-y)*S,g+=(l[w+n.G2]-g)*S,b+=(l[w+n.B2]-b)*S}if(1==a)u.color.set(p,v,_,m),u.darkColor.set(y,g,b,1);else{var k=u.color,T=u.darkColor;o==ze.setup&&(k.setFromColor(u.data.color),T.setFromColor(u.data.darkColor)),k.add((p-k.r)*a,(v-k.g)*a,(_-k.b)*a,(m-k.a)*a),T.add((y-T.r)*a,(g-T.g)*a,(b-T.b)*a,0)}}}}],[{key:"__initStatic25",value:function(){this.ENTRIES=8}},{key:"__initStatic26",value:function(){this.PREV_TIME=-8}},{key:"__initStatic27",value:function(){this.PREV_R=-7}},{key:"__initStatic28",value:function(){this.PREV_G=-6}},{key:"__initStatic29",value:function(){this.PREV_B=-5}},{key:"__initStatic30",value:function(){this.PREV_A=-4}},{key:"__initStatic31",value:function(){this.PREV_R2=-3}},{key:"__initStatic32",value:function(){this.PREV_G2=-2}},{key:"__initStatic33",value:function(){this.PREV_B2=-1}},{key:"__initStatic34",value:function(){this.R=1}},{key:"__initStatic35",value:function(){this.G=2}},{key:"__initStatic36",value:function(){this.B=3}},{key:"__initStatic37",value:function(){this.A=4}},{key:"__initStatic38",value:function(){this.R2=5}},{key:"__initStatic39",value:function(){this.G2=6}},{key:"__initStatic40",value:function(){this.B2=7}}]),n}($e);rn.__initStatic25(),rn.__initStatic26(),rn.__initStatic27(),rn.__initStatic28(),rn.__initStatic29(),rn.__initStatic30(),rn.__initStatic31(),rn.__initStatic32(),rn.__initStatic33(),rn.__initStatic34(),rn.__initStatic35(),rn.__initStatic36(),rn.__initStatic37(),rn.__initStatic38(),rn.__initStatic39(),rn.__initStatic40();var an=function(){function t(e){Le(this,t),this.frames=z.newFloatArray(e),this.attachmentNames=new Array(e)}return Ie(t,[{key:"getPropertyId",value:function(){return(Ze.attachment<<24)+this.slotIndex}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=t.slots[this.slotIndex];if(o!=qe.out||a!=ze.setup){var u=this.frames;if(n<u[0]){if(a==ze.setup||a==ze.first){var l=s.data.attachmentName;s.setAttachment(null==l?null:t.getAttachment(this.slotIndex,l))}}else{var h=0;h=n>=u[u.length-1]?u.length-1:Ke.binarySearch(u,n,1)-1;var c=this.attachmentNames[h];t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))}}else{var f=s.data.attachmentName;s.setAttachment(null==f?null:t.getAttachment(this.slotIndex,f))}}}]),t}(),on=null,sn=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t),i.frameVertices=new Array(t),null==on&&(on=z.newFloatArray(64)),i}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.deform<<27)+ +this.attachment.id+this.slotIndex}},{key:"setFrame",value:function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=t.slots[this.slotIndex],u=s.getAttachment();if(u instanceof Be&&u.applyDeform(this.attachment)){var l=s.attachmentVertices;0==l.length&&(a=ze.setup);var h=this.frameVertices,c=h[0].length,f=this.frames;if(n<f[0]){var d=u;switch(a){case ze.setup:return void(l.length=0);case ze.first:if(1==r){l.length=0;break}var p=z.setArraySize(l,c);if(null==d.bones)for(var v=d.vertices,_=0;_<c;_++)p[_]+=(v[_]-p[_])*r;else{r=1-r;for(var m=0;m<c;m++)p[m]*=r}}}else{var y=z.setArraySize(l,c);if(n>=f[f.length-1]){var g=h[f.length-1];if(1==r)if(a==ze.add){var b=u;if(null==b.bones)for(var x=b.vertices,w=0;w<c;w++)y[w]+=g[w]-x[w];else for(var E=0;E<c;E++)y[E]+=g[E]}else z.arrayCopy(g,0,y,0,c);else switch(a){case ze.setup:var S=u;if(null==S.bones)for(var k=S.vertices,T=0;T<c;T++){var A=k[T];y[T]=A+(g[T]-A)*r}else for(var R=0;R<c;R++)y[R]=g[R]*r;break;case ze.first:case ze.replace:for(var I=0;I<c;I++)y[I]+=(g[I]-y[I])*r;case ze.add:var C=u;if(null==C.bones)for(var P=C.vertices,M=0;M<c;M++)y[M]+=(g[M]-P[M])*r;else for(var O=0;O<c;O++)y[O]+=g[O]*r}}else{var D=Ke.binarySearch(f,n),N=h[D-1],L=h[D],F=f[D],B=this.getCurvePercent(D-1,1-(n-F)/(f[D-1]-F));if(1==r)if(a==ze.add){var V=u;if(null==V.bones)for(var U=V.vertices,X=0;X<c;X++){var Y=N[X];y[X]+=Y+(L[X]-Y)*B-U[X]}else for(var j=0;j<c;j++){var G=N[j];y[j]+=G+(L[j]-G)*B}}else for(var H=0;H<c;H++){var W=N[H];y[H]=W+(L[H]-W)*B}else switch(a){case ze.setup:var q=u;if(null==q.bones)for(var Z=q.vertices,K=0;K<c;K++){var $=N[K],Q=Z[K];y[K]=Q+($+(L[K]-$)*B-Q)*r}else for(var J=0;J<c;J++){var tt=N[J];y[J]=(tt+(L[J]-tt)*B)*r}break;case ze.first:case ze.replace:for(var et=0;et<c;et++){var nt=N[et];y[et]+=(nt+(L[et]-nt)*B-y[et])*r}break;case ze.add:var it=u;if(null==it.bones)for(var rt=it.vertices,at=0;at<c;at++){var ot=N[at];y[at]+=(ot+(L[at]-ot)*B-rt[at])*r}else for(var st=0;st<c;st++){var ut=N[st];y[st]+=(ut+(L[st]-ut)*B)*r}}}}}}}]),n}($e),un=function(){function t(e){Le(this,t),this.frames=z.newFloatArray(e),this.events=new Array(e)}return Ie(t,[{key:"getPropertyId",value:function(){return Ze.event<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e){this.frames[t]=e.time,this.events[t]=e}},{key:"apply",value:function(t,e,n,i,r,a,o){if(null!=i){var s=this.frames,u=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,i,r,a,o),e=-1;else if(e>=s[u-1])return;if(!(n<s[0])){var l=0;if(e<s[0])l=0;else for(var h=s[l=Ke.binarySearch(s,e)];l>0&&s[l-1]==h;)l--;for(;l<u&&n>=s[l];l++)i.push(this.events[l])}}}}]),t}(),ln=function(){function t(e){Le(this,t),this.frames=z.newFloatArray(e),this.drawOrders=new Array(e)}return Ie(t,[{key:"getPropertyId",value:function(){return Ze.drawOrder<<24}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=t.drawOrder,u=t.slots;if(o!=qe.out||a!=ze.setup){var l=this.frames;if(n<l[0])a!=ze.setup&&a!=ze.first||z.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var h=0;h=n>=l[l.length-1]?l.length-1:Ke.binarySearch(l,n)-1;var c=this.drawOrders[h];if(null==c)z.arrayCopy(u,0,s,0,u.length);else for(var f=0,d=c.length;f<d;f++)s[f]=u[c[f]]}}else z.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}]),t}(),hn=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.ikConstraint<<24)+this.ikConstraintIndex}},{key:"setFrame",value:function(t,e,i,r,a,o){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.MIX]=i,this.frames[t+n.BEND_DIRECTION]=r,this.frames[t+n.COMPRESS]=a?1:0,this.frames[t+n.STRETCH]=o?1:0}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.ikConstraints[this.ikConstraintIndex];if(i<u[0])switch(o){case ze.setup:return l.mix=l.data.mix,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,void(l.stretch=l.data.stretch);case ze.first:l.mix+=(l.data.mix-l.mix)*a,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}else if(i>=u[u.length-n.ENTRIES])o==ze.setup?(l.mix=l.data.mix+(u[u.length+n.PREV_MIX]-l.data.mix)*a,s==qe.out?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[u.length+n.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+n.PREV_COMPRESS],l.stretch=0!=u[u.length+n.PREV_STRETCH])):(l.mix+=(u[u.length+n.PREV_MIX]-l.mix)*a,s==qe.in&&(l.bendDirection=u[u.length+n.PREV_BEND_DIRECTION],l.compress=0!=u[u.length+n.PREV_COMPRESS],l.stretch=0!=u[u.length+n.PREV_STRETCH]));else{var h=Ke.binarySearch(u,i,n.ENTRIES),c=u[h+n.PREV_MIX],f=u[h],d=this.getCurvePercent(h/n.ENTRIES-1,1-(i-f)/(u[h+n.PREV_TIME]-f));o==ze.setup?(l.mix=l.data.mix+(c+(u[h+n.MIX]-c)*d-l.data.mix)*a,s==qe.out?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[h+n.PREV_BEND_DIRECTION],l.compress=0!=u[h+n.PREV_COMPRESS],l.stretch=0!=u[h+n.PREV_STRETCH])):(l.mix+=(c+(u[h+n.MIX]-c)*d-l.mix)*a,s==qe.in&&(l.bendDirection=u[h+n.PREV_BEND_DIRECTION],l.compress=0!=u[h+n.PREV_COMPRESS],l.stretch=0!=u[h+n.PREV_STRETCH]))}}}],[{key:"__initStatic41",value:function(){this.ENTRIES=5}},{key:"__initStatic42",value:function(){this.PREV_TIME=-5}},{key:"__initStatic43",value:function(){this.PREV_MIX=-4}},{key:"__initStatic44",value:function(){this.PREV_BEND_DIRECTION=-3}},{key:"__initStatic45",value:function(){this.PREV_COMPRESS=-2}},{key:"__initStatic46",value:function(){this.PREV_STRETCH=-1}},{key:"__initStatic47",value:function(){this.MIX=1}},{key:"__initStatic48",value:function(){this.BEND_DIRECTION=2}},{key:"__initStatic49",value:function(){this.COMPRESS=3}},{key:"__initStatic50",value:function(){this.STRETCH=4}}]),n}($e);hn.__initStatic41(),hn.__initStatic42(),hn.__initStatic43(),hn.__initStatic44(),hn.__initStatic45(),hn.__initStatic46(),hn.__initStatic47(),hn.__initStatic48(),hn.__initStatic49(),hn.__initStatic50();var cn=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.transformConstraint<<24)+this.transformConstraintIndex}},{key:"setFrame",value:function(t,e,i,r,a,o){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.ROTATE]=i,this.frames[t+n.TRANSLATE]=r,this.frames[t+n.SCALE]=a,this.frames[t+n.SHEAR]=o}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(i<u[0]){var h=l.data;switch(o){case ze.setup:return l.rotateMix=h.rotateMix,l.translateMix=h.translateMix,l.scaleMix=h.scaleMix,void(l.shearMix=h.shearMix);case ze.first:l.rotateMix+=(h.rotateMix-l.rotateMix)*a,l.translateMix+=(h.translateMix-l.translateMix)*a,l.scaleMix+=(h.scaleMix-l.scaleMix)*a,l.shearMix+=(h.shearMix-l.shearMix)*a}}else{var c=0,f=0,d=0,p=0;if(i>=u[u.length-n.ENTRIES]){var v=u.length;c=u[v+n.PREV_ROTATE],f=u[v+n.PREV_TRANSLATE],d=u[v+n.PREV_SCALE],p=u[v+n.PREV_SHEAR]}else{var _=Ke.binarySearch(u,i,n.ENTRIES);c=u[_+n.PREV_ROTATE],f=u[_+n.PREV_TRANSLATE],d=u[_+n.PREV_SCALE],p=u[_+n.PREV_SHEAR];var m=u[_],y=this.getCurvePercent(_/n.ENTRIES-1,1-(i-m)/(u[_+n.PREV_TIME]-m));c+=(u[_+n.ROTATE]-c)*y,f+=(u[_+n.TRANSLATE]-f)*y,d+=(u[_+n.SCALE]-d)*y,p+=(u[_+n.SHEAR]-p)*y}if(o==ze.setup){var g=l.data;l.rotateMix=g.rotateMix+(c-g.rotateMix)*a,l.translateMix=g.translateMix+(f-g.translateMix)*a,l.scaleMix=g.scaleMix+(d-g.scaleMix)*a,l.shearMix=g.shearMix+(p-g.shearMix)*a}else l.rotateMix+=(c-l.rotateMix)*a,l.translateMix+=(f-l.translateMix)*a,l.scaleMix+=(d-l.scaleMix)*a,l.shearMix+=(p-l.shearMix)*a}}}],[{key:"__initStatic51",value:function(){this.ENTRIES=5}},{key:"__initStatic52",value:function(){this.PREV_TIME=-5}},{key:"__initStatic53",value:function(){this.PREV_ROTATE=-4}},{key:"__initStatic54",value:function(){this.PREV_TRANSLATE=-3}},{key:"__initStatic55",value:function(){this.PREV_SCALE=-2}},{key:"__initStatic56",value:function(){this.PREV_SHEAR=-1}},{key:"__initStatic57",value:function(){this.ROTATE=1}},{key:"__initStatic58",value:function(){this.TRANSLATE=2}},{key:"__initStatic59",value:function(){this.SCALE=3}},{key:"__initStatic60",value:function(){this.SHEAR=4}}]),n}($e);cn.__initStatic51(),cn.__initStatic52(),cn.__initStatic53(),cn.__initStatic54(),cn.__initStatic55(),cn.__initStatic56(),cn.__initStatic57(),cn.__initStatic58(),cn.__initStatic59(),cn.__initStatic60();var fn=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.pathConstraintPosition<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,e,i){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.VALUE]=i}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(i<u[0])switch(o){case ze.setup:return void(l.position=l.data.position);case ze.first:l.position+=(l.data.position-l.position)*a}else{var h=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_VALUE];else{var c=Ke.binarySearch(u,i,n.ENTRIES);h=u[c+n.PREV_VALUE];var f=u[c],d=this.getCurvePercent(c/n.ENTRIES-1,1-(i-f)/(u[c+n.PREV_TIME]-f));h+=(u[c+n.VALUE]-h)*d}o==ze.setup?l.position=l.data.position+(h-l.data.position)*a:l.position+=(h-l.position)*a}}}],[{key:"__initStatic61",value:function(){this.ENTRIES=2}},{key:"__initStatic62",value:function(){this.PREV_TIME=-2}},{key:"__initStatic63",value:function(){this.PREV_VALUE=-1}},{key:"__initStatic64",value:function(){this.VALUE=1}}]),n}($e);fn.__initStatic61(),fn.__initStatic62(),fn.__initStatic63(),fn.__initStatic64();var dn=function(t){Ce(n,t);var e=Me(n);function n(t){return Le(this,n),e.call(this,t)}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.pathConstraintSpacing<<24)+this.pathConstraintIndex}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(i<u[0])switch(o){case ze.setup:return void(l.spacing=l.data.spacing);case ze.first:l.spacing+=(l.data.spacing-l.spacing)*a}else{var h=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_VALUE];else{var c=Ke.binarySearch(u,i,n.ENTRIES);h=u[c+n.PREV_VALUE];var f=u[c],d=this.getCurvePercent(c/n.ENTRIES-1,1-(i-f)/(u[c+n.PREV_TIME]-f));h+=(u[c+n.VALUE]-h)*d}o==ze.setup?l.spacing=l.data.spacing+(h-l.data.spacing)*a:l.spacing+=(h-l.spacing)*a}}}]),n}(fn),pn=function(t){Ce(n,t);var e=Me(n);function n(t){var i;return Le(this,n),(i=e.call(this,t)).frames=z.newFloatArray(t*n.ENTRIES),i}return Ie(n,[{key:"getPropertyId",value:function(){return(Ze.pathConstraintMix<<24)+this.pathConstraintIndex}},{key:"setFrame",value:function(t,e,i,r){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.ROTATE]=i,this.frames[t+n.TRANSLATE]=r}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(i<u[0])switch(o){case ze.setup:return l.rotateMix=l.data.rotateMix,void(l.translateMix=l.data.translateMix);case ze.first:l.rotateMix+=(l.data.rotateMix-l.rotateMix)*a,l.translateMix+=(l.data.translateMix-l.translateMix)*a}else{var h=0,c=0;if(i>=u[u.length-n.ENTRIES])h=u[u.length+n.PREV_ROTATE],c=u[u.length+n.PREV_TRANSLATE];else{var f=Ke.binarySearch(u,i,n.ENTRIES);h=u[f+n.PREV_ROTATE],c=u[f+n.PREV_TRANSLATE];var d=u[f],p=this.getCurvePercent(f/n.ENTRIES-1,1-(i-d)/(u[f+n.PREV_TIME]-d));h+=(u[f+n.ROTATE]-h)*p,c+=(u[f+n.TRANSLATE]-c)*p}o==ze.setup?(l.rotateMix=l.data.rotateMix+(h-l.data.rotateMix)*a,l.translateMix=l.data.translateMix+(c-l.data.translateMix)*a):(l.rotateMix+=(h-l.rotateMix)*a,l.translateMix+=(c-l.translateMix)*a)}}}],[{key:"__initStatic65",value:function(){this.ENTRIES=3}},{key:"__initStatic66",value:function(){this.PREV_TIME=-3}},{key:"__initStatic67",value:function(){this.PREV_ROTATE=-2}},{key:"__initStatic68",value:function(){this.PREV_TRANSLATE=-1}},{key:"__initStatic69",value:function(){this.ROTATE=1}},{key:"__initStatic70",value:function(){this.TRANSLATE=2}}]),n}($e);pn.__initStatic65(),pn.__initStatic66(),pn.__initStatic67(),pn.__initStatic68(),pn.__initStatic69(),pn.__initStatic70();var vn=function(){function t(e){Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),this.data=e}return Ie(t,[{key:"__init",value:function(){this.tracks=new Array}},{key:"__init2",value:function(){this.events=new Array}},{key:"__init3",value:function(){this.listeners=new Array}},{key:"__init4",value:function(){this.queue=new yn(this)}},{key:"__init5",value:function(){this.propertyIDs=new U}},{key:"__init6",value:function(){this.animationsChanged=!1}},{key:"__init7",value:function(){this.timeScale=1}},{key:"__init8",value:function(){this.trackEntryPool=new Z((function(){return new _n}))}},{key:"update",value:function(t){t*=this.timeScale;for(var e=this.tracks,n=0,i=e.length;n<i;n++){var r=e[n];if(null!=r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var a=t*r.timeScale;if(r.delay>0){if(r.delay-=a,r.delay>0)continue;a=-r.delay,r.delay=0}var o=r.next;if(null!=o){var s=r.trackLast-o.delay;if(s>=0){for(o.delay=0,o.trackTime=0==r.timeScale?0:(s/r.timeScale+t)*o.timeScale,r.trackTime+=a,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&null==r.mixingFrom){e[n]=null,this.queue.end(r),this.disposeNext(r);continue}if(null!=r.mixingFrom&&this.updateMixingFrom(r,t)){var u=r.mixingFrom;for(r.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}r.trackTime+=a}}this.queue.drain()}},{key:"updateMixingFrom",value:function(t,e){var n=t.mixingFrom;if(null==n)return!0;var i=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)}},{key:"apply",value:function(e){if(null==e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,i=this.tracks,r=!1,a=0,o=i.length;a<o;a++){var s=i[a];if(!(null==s||s.delay>0)){r=!0;var u=0==a?ze.first:s.mixBlend,l=s.alpha;null!=s.mixingFrom?l*=this.applyMixingFrom(s,e,u):s.trackTime>=s.trackEnd&&null==s.next&&(l=0);var h=s.animationLast,c=s.getAnimationTime(),f=s.animation.timelines.length,d=s.animation.timelines;if(0==a&&1==l||u==ze.add)for(var p=0;p<f;p++)z.webkit602BugfixHelper(l,u),d[p].apply(e,h,c,n,l,u,qe.in);else{var v=s.timelineMode,_=0==s.timelinesRotation.length;_&&z.setArraySize(s.timelinesRotation,f<<1,null);for(var m=s.timelinesRotation,y=0;y<f;y++){var g=d[y],b=v[y]==t.SUBSEQUENT?u:ze.setup;g instanceof Qe?this.applyRotateTimeline(g,e,c,l,b,m,y<<1,_):(z.webkit602BugfixHelper(l,u),g.apply(e,h,c,n,l,b,qe.in))}}this.queueEvents(s,c),n.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}return this.queue.drain(),r}},{key:"applyMixingFrom",value:function(e,n,i){var r=e.mixingFrom;null!=r.mixingFrom&&this.applyMixingFrom(r,n,i);var a=0;0==e.mixDuration?(a=1,i==ze.first&&(i=ze.setup)):((a=e.mixTime/e.mixDuration)>1&&(a=1),i!=ze.first&&(i=r.mixBlend));var o=a<r.eventThreshold?this.events:null,s=a<r.attachmentThreshold,u=a<r.drawOrderThreshold,l=r.animationLast,h=r.getAnimationTime(),c=r.animation.timelines.length,f=r.animation.timelines,d=r.alpha*e.interruptAlpha,p=d*(1-a);if(i==ze.add)for(var v=0;v<c;v++)f[v].apply(n,l,h,o,p,i,qe.out);else{var _=r.timelineMode,m=r.timelineHoldMix,y=0==r.timelinesRotation.length;y&&z.setArraySize(r.timelinesRotation,c<<1,null);var g=r.timelinesRotation;r.totalAlpha=0;for(var b=0;b<c;b++){var x=f[b],w=qe.out,E=void 0,S=0;switch(_[b]){case t.SUBSEQUENT:if(!s&&x instanceof an)continue;if(!u&&x instanceof ln)continue;E=i,S=p;break;case t.FIRST:E=ze.setup,S=p;break;case t.HOLD:E=ze.setup,S=d;break;default:E=ze.setup;var k=m[b];S=d*Math.max(0,1-k.mixTime/k.mixDuration)}r.totalAlpha+=S,x instanceof Qe?this.applyRotateTimeline(x,n,h,S,E,g,b<<1,y):(z.webkit602BugfixHelper(S,i),E==ze.setup&&(x instanceof an?s&&(w=qe.out):x instanceof ln&&u&&(w=qe.out)),x.apply(n,l,h,o,S,E,w))}}return e.mixDuration>0&&this.queueEvents(r,h),this.events.length=0,r.nextAnimationLast=h,r.nextTrackLast=r.trackTime,a}},{key:"applyRotateTimeline",value:function(t,e,n,i,r,a,o,s){if(s&&(a[o]=0),1!=i){var u=t,l=u.frames,h=e.bones[u.boneIndex],c=0,f=0;if(n<l[0])switch(r){case ze.setup:h.rotation=h.data.rotation;default:return;case ze.first:c=h.rotation,f=h.data.rotation}else if(c=r==ze.setup?h.data.rotation:h.rotation,n>=l[l.length-Qe.ENTRIES])f=h.data.rotation+l[l.length+Qe.PREV_ROTATION];else{var d=Ke.binarySearch(l,n,Qe.ENTRIES),p=l[d+Qe.PREV_ROTATION],v=l[d],_=u.getCurvePercent((d>>1)-1,1-(n-v)/(l[d+Qe.PREV_TIME]-v));f=l[d+Qe.ROTATION]-p,f=p+(f-=360*(16384-(16384.499999999996-f/360|0)))*_+h.data.rotation,f-=360*(16384-(16384.499999999996-f/360|0))}var m=0,y=f-c;if(0==(y-=360*(16384-(16384.499999999996-y/360|0))))m=a[o];else{var g=0,b=0;s?(g=0,b=y):(g=a[o],b=a[o+1]);var x=y>0,w=g>=0;j.signum(b)!=j.signum(y)&&Math.abs(b)<=90&&(Math.abs(g)>180&&(g+=360*j.signum(g)),w=x),m=y+g-g%360,w!=x&&(m+=360*j.signum(g)),a[o]=m}a[o+1]=y,c+=m*i,h.rotation=c-360*(16384-(16384.499999999996-c/360|0))}else t.apply(e,0,n,null,1,r,qe.in)}},{key:"queueEvents",value:function(t,e){for(var n=t.animationStart,i=t.animationEnd,r=i-n,a=t.trackLast%r,o=this.events,s=0,u=o.length;s<u;s++){var l=o[s];if(l.time<a)break;l.time>i||this.queue.event(t,l)}for((t.loop?0==r||a>t.trackTime%r:e>=i&&t.animationLast<i)&&this.queue.complete(t);s<u;s++){o[s].time<n||this.queue.event(t,o[s])}}},{key:"clearTracks",value:function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}},{key:"clearTrack",value:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var i=n.mixingFrom;if(null==i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[e.trackIndex]=null,this.queue.drain()}}}},{key:"setCurrent",value:function(t,e,n){var i=this.expandToIndex(t);this.tracks[t]=e,null!=i&&(n&&this.queue.interrupt(i),e.mixingFrom=i,i.mixingTo=e,e.mixTime=0,null!=i.mixingFrom&&i.mixDuration>0&&(e.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(e)}},{key:"setAnimation",value:function(t,e,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,i,n)}},{key:"setAnimationWith",value:function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var i=!0,r=this.expandToIndex(t);null!=r&&(-1==r.nextTrackLast?(this.tracks[t]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.disposeNext(r),r=r.mixingFrom,i=!1):this.disposeNext(r));var a=this.trackEntry(t,e,n,r);return this.setCurrent(t,a,i),this.queue.drain(),a}},{key:"addAnimation",value:function(t,e,n,i){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,r,n,i)}},{key:"addAnimationWith",value:function(t,e,n,i){if(null==e)throw new Error("animation cannot be null.");var r=this.expandToIndex(t);if(null!=r)for(;null!=r.next;)r=r.next;var a=this.trackEntry(t,e,n,r);if(null==r)this.setCurrent(t,a,!0),this.queue.drain();else if(r.next=a,i<=0){var o=r.animationEnd-r.animationStart;0!=o?(r.loop?i+=o*(1+(r.trackTime/o|0)):i+=Math.max(o,r.trackTime),i-=this.data.getMix(r.animation,e)):i=r.trackTime}return a.delay=i,a}},{key:"setEmptyAnimation",value:function(e,n){var i=this.setAnimationWith(e,t.emptyAnimation,!1);return i.mixDuration=n,i.trackEnd=n,i}},{key:"addEmptyAnimation",value:function(e,n,i){i<=0&&(i-=n);var r=this.addAnimationWith(e,t.emptyAnimation,!1,i);return r.mixDuration=n,r.trackEnd=n,r}},{key:"setEmptyAnimations",value:function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var r=this.tracks[n];null!=r&&this.setEmptyAnimation(r.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}},{key:"expandToIndex",value:function(t){return t<this.tracks.length?this.tracks[t]:(z.ensureArrayCapacity(this.tracks,t-this.tracks.length+1,null),this.tracks.length=t+1,null)}},{key:"trackEntry",value:function(t,e,n,i){var r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=n,r.holdPrevious=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=null==i?0:this.data.getMix(i.animation,e),r}},{key:"disposeNext",value:function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var n=this.tracks[t];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;do{null!=n.mixingFrom&&n.mixBlend==ze.add||this.setTimelineModes(n),n=n.mixingTo}while(null!=n)}}}},{key:"setTimelineModes",value:function(e){var n=e.mixingTo,i=e.animation.timelines,r=e.animation.timelines.length,a=z.setArraySize(e.timelineMode,r);e.timelineHoldMix.length=0;var o=z.setArraySize(e.timelineHoldMix,r),s=this.propertyIDs;if(null!=n&&n.holdPrevious)for(var u=0;u<r;u++)s.add(i[u].getPropertyId()),a[u]=t.HOLD;else t:for(var l=0;l<r;l++){var h=i[l].getPropertyId();if(s.add(h))if(null!=n&&this.hasTimeline(n,h)){for(var c=n.mixingTo;null!=c;c=c.mixingTo)if(!this.hasTimeline(c,h)){if(e.mixDuration>0){a[l]=t.HOLD_MIX,o[l]=c;continue t}break}a[l]=t.HOLD}else a[l]=t.FIRST;else a[l]=t.SUBSEQUENT}}},{key:"hasTimeline",value:function(t,e){for(var n=t.animation.timelines,i=0,r=n.length;i<r;i++)if(n[i].getPropertyId()==e)return!0;return!1}},{key:"getCurrent",value:function(t){return t>=this.tracks.length?null:this.tracks[t]}},{key:"addListener",value:function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(e,n,i){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.setAnimation(e,n,i)}},{key:"addAnimationByName",value:function(e,n,i,r){t.deprecatedWarning2||(t.deprecatedWarning2=!0),this.addAnimation(e,n,i,r)}},{key:"hasAnimation",value:function(t){return null!==this.data.skeletonData.findAnimation(t)}},{key:"hasAnimationByName",value:function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0),this.hasAnimation(e)}}],[{key:"__initStatic",value:function(){this.emptyAnimation=new Ke("<empty>",[],0)}},{key:"__initStatic2",value:function(){this.SUBSEQUENT=0}},{key:"__initStatic3",value:function(){this.FIRST=1}},{key:"__initStatic4",value:function(){this.HOLD=2}},{key:"__initStatic5",value:function(){this.HOLD_MIX=3}},{key:"__initStatic6",value:function(){this.deprecatedWarning1=!1}},{key:"__initStatic7",value:function(){this.deprecatedWarning2=!1}},{key:"__initStatic8",value:function(){this.deprecatedWarning3=!1}}]),t}();vn.__initStatic(),vn.__initStatic2(),vn.__initStatic3(),vn.__initStatic4(),vn.__initStatic5(),vn.__initStatic6(),vn.__initStatic7(),vn.__initStatic8();var _n=function(){function t(){Le(this,t),t.prototype.__init9.call(this),t.prototype.__init10.call(this),t.prototype.__init11.call(this),t.prototype.__init12.call(this)}return Ie(t,[{key:"__init9",value:function(){this.mixBlend=ze.replace}},{key:"__init10",value:function(){this.timelineMode=new Array}},{key:"__init11",value:function(){this.timelineHoldMix=new Array}},{key:"__init12",value:function(){this.timelinesRotation=new Array}},{key:"reset",value:function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(t){this.animationLast=t,this.nextAnimationLast=t}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"time",get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.trackTime=e}},{key:"endTime",get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0),this.trackTime=e}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}}],[{key:"__initStatic9",value:function(){this.deprecatedWarning1=!1}},{key:"__initStatic10",value:function(){this.deprecatedWarning2=!1}}]),t}();_n.__initStatic9(),_n.__initStatic10();var mn,yn=function(){function t(e){Le(this,t),t.prototype.__init13.call(this),t.prototype.__init14.call(this),this.animState=e}return Ie(t,[{key:"__init13",value:function(){this.objects=[]}},{key:"__init14",value:function(){this.drainDisabled=!1}},{key:"start",value:function(t){this.objects.push(mn.start),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(t){this.objects.push(mn.interrupt),this.objects.push(t)}},{key:"end",value:function(t){this.objects.push(mn.end),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"dispose",value:function(t){this.objects.push(mn.dispose),this.objects.push(t)}},{key:"complete",value:function(t){this.objects.push(mn.complete),this.objects.push(t)}},{key:"event",value:function(t,e){this.objects.push(mn.event),this.objects.push(t),this.objects.push(e)}},{key:"deprecateStuff",value:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0),!0}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];switch(i){case mn.start:null!=r.listener&&r.listener.start&&r.listener.start(r);for(var a=0;a<e.length;a++)e[a].start&&e[a].start(r);r.onStart&&this.deprecateStuff()&&r.onStart(r.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(r.trackIndex);break;case mn.interrupt:null!=r.listener&&r.listener.interrupt&&r.listener.interrupt(r);for(var o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(r);break;case mn.end:null!=r.listener&&r.listener.end&&r.listener.end(r);for(var s=0;s<e.length;s++)e[s].end&&e[s].end(r);r.onEnd&&this.deprecateStuff()&&r.onEnd(r.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(r.trackIndex);case mn.dispose:null!=r.listener&&r.listener.dispose&&r.listener.dispose(r);for(var u=0;u<e.length;u++)e[u].dispose&&e[u].dispose(r);this.animState.trackEntryPool.free(r);break;case mn.complete:null!=r.listener&&r.listener.complete&&r.listener.complete(r);for(var l=0;l<e.length;l++)e[l].complete&&e[l].complete(r);var h=j.toInt(r.loopsCount());r.onComplete&&this.deprecateStuff()&&r.onComplete(r.trackIndex,h),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(r.trackIndex,h);break;case mn.event:var c=t[2+n++];null!=r.listener&&r.listener.event&&r.listener.event(r,c);for(var f=0;f<e.length;f++)e[f].event&&e[f].event(r,c);r.onEvent&&this.deprecateStuff()&&r.onEvent(r.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(r.trackIndex,c)}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}],[{key:"__initStatic11",value:function(){this.deprecatedWarning1=!1}}]),t}();yn.__initStatic11(),function(t){t[t.start=0]="start";t[t.interrupt=1]="interrupt";t[t.end=2]="end";t[t.dispose=3]="dispose";t[t.complete=4]="complete";t[t.event=5]="event"}(mn||(mn={}));var gn=function(){function t(){Le(this,t)}return Ie(t,[{key:"start",value:function(t){}},{key:"interrupt",value:function(t){}},{key:"end",value:function(t){}},{key:"dispose",value:function(t){}},{key:"complete",value:function(t){}},{key:"event",value:function(t,e){}}]),t}(),bn=function(){function t(e){if(Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),null==e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return Ie(t,[{key:"__init",value:function(){this.animationToMixTime={}}},{key:"__init2",value:function(){this.defaultMix=0}},{key:"setMix",value:function(t,e,n){var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: "+t);var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);this.setMixWith(i,r,n)}},{key:"setMixByName",value:function(e,n,i){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.setMix(e,n,i)}},{key:"setMixWith",value:function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var i=t.name+"."+e.name;this.animationToMixTime[i]=n}},{key:"getMix",value:function(t,e){var n=t.name+"."+e.name,i=this.animationToMixTime[n];return void 0===i?this.defaultMix:i}}],[{key:"__initStatic",value:function(){this.deprecatedWarning1=!1}}]),t}();bn.__initStatic();var xn,wn=function(){function t(e){Le(this,t),this.atlas=e}return Ie(t,[{key:"newRegionAttachment",value:function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");var r=new Ge(e);return r.region=i,r}},{key:"newMeshAttachment",value:function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");var r=new Xe(e);return r.region=i,r}},{key:"newBoundingBoxAttachment",value:function(t,e){return new Ve(e)}},{key:"newPathAttachment",value:function(t,e){return new Ye(e)}},{key:"newPointAttachment",value:function(t,e){return new je(e)}},{key:"newClippingAttachment",value:function(t,e){return new Ue(e)}}]),t}(),En=function(){function t(e,n,i){if(Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),e<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");this.index=e,this.name=n,this.parent=i}return Ie(t,[{key:"__init",value:function(){this.x=0}},{key:"__init2",value:function(){this.y=0}},{key:"__init3",value:function(){this.rotation=0}},{key:"__init4",value:function(){this.scaleX=1}},{key:"__init5",value:function(){this.scaleY=1}},{key:"__init6",value:function(){this.shearX=0}},{key:"__init7",value:function(){this.shearY=0}},{key:"__init8",value:function(){this.transformMode=xn.Normal}}]),t}();!function(t){t[t.Normal=0]="Normal";t[t.OnlyTranslation=1]="OnlyTranslation";t[t.NoRotationOrReflection=2]="NoRotationOrReflection";t[t.NoScale=3]="NoScale";t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(xn||(xn={}));var Sn,kn,Tn,An=function(){function t(e,n,i){if(Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),t.prototype.__init11.call(this),t.prototype.__init12.call(this),t.prototype.__init13.call(this),t.prototype.__init14.call(this),t.prototype.__init15.call(this),t.prototype.__init16.call(this),t.prototype.__init17.call(this),t.prototype.__init18.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=n,this.parent=i,this.setToSetupPose()}return Ie(t,[{key:"__init",value:function(){this.matrix=new h.y3}},{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}},{key:"__init2",value:function(){this.children=new Array}},{key:"__init3",value:function(){this.x=0}},{key:"__init4",value:function(){this.y=0}},{key:"__init5",value:function(){this.rotation=0}},{key:"__init6",value:function(){this.scaleX=0}},{key:"__init7",value:function(){this.scaleY=0}},{key:"__init8",value:function(){this.shearX=0}},{key:"__init9",value:function(){this.shearY=0}},{key:"__init10",value:function(){this.ax=0}},{key:"__init11",value:function(){this.ay=0}},{key:"__init12",value:function(){this.arotation=0}},{key:"__init13",value:function(){this.ascaleX=0}},{key:"__init14",value:function(){this.ascaleY=0}},{key:"__init15",value:function(){this.ashearX=0}},{key:"__init16",value:function(){this.ashearY=0}},{key:"__init17",value:function(){this.appliedValid=!1}},{key:"__init18",value:function(){this.sorted=!1}},{key:"update",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(t,e,n,i,r,a,o){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=i,this.ascaleY=r,this.ashearX=a,this.ashearY=o,this.appliedValid=!0;var s=this.parent,u=this.matrix,l=this.skeleton.scaleX,h=J.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var c=this.skeleton,f=n+90+o;return u.a=j.cosDeg(n+a)*i*l,u.c=j.cosDeg(f)*r*l,u.b=j.sinDeg(n+a)*i*h,u.d=j.sinDeg(f)*r*h,u.tx=t*l+c.x,void(u.ty=e*h+c.y)}var d=s.matrix.a,p=s.matrix.c,v=s.matrix.b,_=s.matrix.d;switch(u.tx=d*t+p*e+s.matrix.tx,u.ty=v*t+_*e+s.matrix.ty,this.data.transformMode){case xn.Normal:var m=n+90+o,y=j.cosDeg(n+a)*i,g=j.cosDeg(m)*r,b=j.sinDeg(n+a)*i,x=j.sinDeg(m)*r;return u.a=d*y+p*b,u.c=d*g+p*x,u.b=v*y+_*b,void(u.d=v*g+_*x);case xn.OnlyTranslation:var w=n+90+o;u.a=j.cosDeg(n+a)*i,u.c=j.cosDeg(w)*r,u.b=j.sinDeg(n+a)*i,u.d=j.sinDeg(w)*r;break;case xn.NoRotationOrReflection:var E=d*d+v*v,S=0;E>1e-4?(p=v*(E=Math.abs(d*_-p*v)/E),_=d*E,S=Math.atan2(v,d)*j.radDeg):(d=0,v=0,S=90-Math.atan2(_,p)*j.radDeg);var k=n+a-S,T=n+o-S+90,A=j.cosDeg(k)*i,R=j.cosDeg(T)*r,I=j.sinDeg(k)*i,C=j.sinDeg(T)*r;u.a=d*A-p*I,u.c=d*R-p*C,u.b=v*A+_*I,u.d=v*R+_*C;break;case xn.NoScale:case xn.NoScaleOrReflection:var P=j.cosDeg(n),M=j.sinDeg(n),O=(d*P+p*M)/l,D=(v*P+_*M)/h,N=Math.sqrt(O*O+D*D);N>1e-5&&(N=1/N),O*=N,D*=N,N=Math.sqrt(O*O+D*D),this.data.transformMode==xn.NoScale&&d*_-p*v<0!=(J.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(N=-N);var L=Math.PI/2+Math.atan2(D,O),F=Math.cos(L)*N,B=Math.sin(L)*N,V=j.cosDeg(a)*i,U=j.cosDeg(90+o)*r,X=j.sinDeg(a)*i,Y=j.sinDeg(90+o)*r;u.a=O*V+F*X,u.c=O*U+F*Y,u.b=D*V+B*X,u.d=D*U+B*Y}u.a*=l,u.c*=l,u.b*=h,u.d*=h}},{key:"setToSetupPose",value:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*j.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*j.radDeg}},{key:"getWorldScaleX",value:function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)}},{key:"getWorldScaleY",value:function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)}},{key:"updateAppliedTransform",value:function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*j.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*j.radDeg);var n=t.matrix,i=1/(n.a*n.d-n.b*n.c),r=e.tx-n.tx,a=e.ty-n.ty;this.ax=r*n.d*i-a*n.c*i,this.ay=a*n.a*i-r*n.b*i;var o=i*n.d,s=i*n.a,u=i*n.c,l=i*n.b,h=o*e.a-u*e.b,c=o*e.c-u*e.d,f=s*e.b-l*e.a,d=s*e.d-l*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+f*f),this.ascaleX>1e-4){var p=h*d-c*f;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(h*c+f*d,p)*j.radDeg,this.arotation=Math.atan2(f,h)*j.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(c*c+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,c)*j.radDeg}},{key:"worldToLocal",value:function(t){var e=this.matrix,n=e.a,i=e.c,r=e.b,a=e.d,o=1/(n*a-i*r),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*a*o-u*i*o,t.y=u*n*o-s*r*o,t}},{key:"localToWorld",value:function(t){var e=this.matrix,n=t.x,i=t.y;return t.x=n*e.a+i*e.c+e.tx,t.y=n*e.b+i*e.d+e.ty,t}},{key:"worldToLocalRotation",value:function(t){var e=j.sinDeg(t),n=j.cosDeg(t),i=this.matrix;return Math.atan2(i.a*e-i.b*n,i.d*n-i.c*e)*j.radDeg}},{key:"localToWorldRotation",value:function(t){var e=j.sinDeg(t),n=j.cosDeg(t),i=this.matrix;return Math.atan2(n*i.b+e*i.d,n*i.a+e*i.c)*j.radDeg}},{key:"rotateWorld",value:function(t){var e=this.matrix,n=e.a,i=e.c,r=e.b,a=e.d,o=j.cosDeg(t),s=j.sinDeg(t);e.a=o*n-s*r,e.c=o*i-s*a,e.b=s*n+o*r,e.d=s*i+o*a,this.appliedValid=!1}}]),t}(),Rn=function t(e,n){if(Le(this,t),null==n)throw new Error("data cannot be null.");this.time=e,this.data=n},In=function t(e){Le(this,t),this.name=e},Cn=function(){function t(e,n){if(Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var i=0;i<e.bones.length;i++)this.bones.push(n.findBone(e.bones[i].name));this.target=n.findBone(e.target.name)}return Ie(t,[{key:"__init",value:function(){this.bendDirection=0}},{key:"__init2",value:function(){this.compress=!1}},{key:"__init3",value:function(){this.stretch=!1}},{key:"__init4",value:function(){this.mix=1}},{key:"getOrder",value:function(){return this.data.order}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.mix)}}},{key:"apply1",value:function(t,e,n,i,r,a,o){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,u=1/(s.a*s.d-s.b*s.c),l=e-s.tx,h=n-s.ty,c=(l*s.d-h*s.c)*u-t.ax,f=(h*s.a-l*s.b)*u-t.ay,d=Math.atan2(f,c)*j.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(d+=180),d>180?d-=360:d<-180&&(d+=360);var p=t.ascaleX,v=t.ascaleY;if(i||r){var _=t.data.length*p,m=Math.sqrt(c*c+f*f);if(i&&m<_||r&&m>_&&_>1e-4){var y=(m/_-1)*o+1;p*=y,a&&(v*=y)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+d*o,p,v,t.ashearX,t.ashearY)}},{key:"apply2",value:function(t,e,n,i,r,a,o){if(0!=o){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var s=t.ax,u=t.ay,l=t.ascaleX,h=l,c=t.ascaleY,f=e.ascaleX,d=t.matrix,p=0,v=0,_=0;l<0?(l=-l,p=180,_=-1):(p=0,_=1),c<0&&(c=-c,_=-_),f<0?(f=-f,v=180):v=0;var m=e.ax,y=0,g=0,b=0,x=d.a,w=d.c,E=d.b,S=d.d,k=Math.abs(l-c)<=1e-4;k?(g=x*m+w*(y=e.ay)+d.tx,b=E*m+S*y+d.ty):(y=0,g=x*m+d.tx,b=E*m+d.ty);var T=t.parent.matrix;x=T.a,w=T.c,E=T.b;var A=1/(x*(S=T.d)-w*E),R=n-T.tx,I=i-T.ty,C=(R*S-I*w)*A-s,P=(I*x-R*E)*A-u,M=C*C+P*P,O=((R=g-T.tx)*S-(I=b-T.ty)*w)*A-s,D=(I*x-R*E)*A-u,N=Math.sqrt(O*O+D*D),L=e.data.length*f,F=0,B=0;t:if(k){var V=(M-N*N-(L*=l)*L)/(2*N*L);V<-1?V=-1:V>1&&(V=1,a&&N+L>1e-4&&(h*=(Math.sqrt(M)/(N+L)-1)*o+1)),B=Math.acos(V)*r,x=N+L*V,w=L*Math.sin(B),F=Math.atan2(P*x-C*w,C*x+P*w)}else{var U=(x=l*L)*x,X=(w=c*L)*w,Y=Math.atan2(P,C),G=-2*X*N,H=X-U;if((S=G*G-4*H*(E=X*N*N+U*M-U*X))>=0){var W=Math.sqrt(S);G<0&&(W=-W);var z=(W=-(G+W)/2)/H,q=E/W,Z=Math.abs(z)<Math.abs(q)?z:q;if(Z*Z<=M){I=Math.sqrt(M-Z*Z)*r,F=Y-Math.atan2(I,Z),B=Math.atan2(I/c,(Z-N)/l);break t}}var K=j.PI,$=N-x,Q=$*$,J=0,tt=0,et=N+x,nt=et*et,it=0;(E=-x*N/(U-X))>=-1&&E<=1&&(E=Math.acos(E),(S=(R=x*Math.cos(E)+N)*R+(I=w*Math.sin(E))*I)<Q&&(K=E,Q=S,$=R,J=I),S>nt&&(tt=E,nt=S,et=R,it=I)),M<=(Q+nt)/2?(F=Y-Math.atan2(J*r,$),B=K*r):(F=Y-Math.atan2(it*r,et),B=tt*r)}var rt=Math.atan2(y,m)*_,at=t.arotation;(F=(F-rt)*j.radDeg+p-at)>180?F-=360:F<-180&&(F+=360),t.updateWorldTransformWith(s,u,at+F*o,h,t.ascaleY,0,0),at=e.arotation,(B=((B+rt)*j.radDeg-e.ashearX)*_+v-at)>180?B-=360:B<-180&&(B+=360),e.updateWorldTransformWith(m,y,at+B*o,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()}}]),t}(),Pn=function(){function t(e){Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),this.name=e}return Ie(t,[{key:"__init",value:function(){this.order=0}},{key:"__init2",value:function(){this.bones=new Array}},{key:"__init3",value:function(){this.bendDirection=1}},{key:"__init4",value:function(){this.compress=!1}},{key:"__init5",value:function(){this.stretch=!1}},{key:"__init6",value:function(){this.uniform=!1}},{key:"__init7",value:function(){this.mix=1}}]),t}(),Mn=function(){function t(e){Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),this.name=e}return Ie(t,[{key:"__init",value:function(){this.order=0}},{key:"__init2",value:function(){this.bones=new Array}}]),t}();!function(t){t[t.Fixed=0]="Fixed";t[t.Percent=1]="Percent"}(Sn||(Sn={})),function(t){t[t.Length=0]="Length";t[t.Fixed=1]="Fixed";t[t.Percent=2]="Percent"}(kn||(kn={})),function(t){t[t.Tangent=0]="Tangent";t[t.Chain=1]="Chain";t[t.ChainScale=2]="ChainScale"}(Tn||(Tn={}));var On=function(){function t(e,n){if(Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var i=0,r=e.bones.length;i<r;i++)this.bones.push(n.findBone(e.bones[i].name));this.target=n.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix}return Ie(t,[{key:"__init",value:function(){this.position=0}},{key:"__init2",value:function(){this.spacing=0}},{key:"__init3",value:function(){this.rotateMix=0}},{key:"__init4",value:function(){this.translateMix=0}},{key:"__init5",value:function(){this.spaces=new Array}},{key:"__init6",value:function(){this.positions=new Array}},{key:"__init7",value:function(){this.world=new Array}},{key:"__init8",value:function(){this.curves=new Array}},{key:"__init9",value:function(){this.lengths=new Array}},{key:"__init10",value:function(){this.segments=new Array}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){var e=this.target.getAttachment();if(e instanceof Ye){var n=this.rotateMix,i=this.translateMix,r=n>0;if(i>0||r){var a=this.data,o=a.spacingMode,s=o==kn.Length,u=a.rotateMode,l=u==Tn.Tangent,h=u==Tn.ChainScale,c=this.bones.length,f=l?c:c+1,d=this.bones,p=z.setArraySize(this.spaces,f),v=null,_=this.spacing;if(h||s){h&&(v=z.setArraySize(this.lengths,c));for(var m=0,y=f-1;m<y;){var g=d[m],b=g.data.length;if(b<t.epsilon)h&&(v[m]=0),p[++m]=0;else{var x=b*g.matrix.a,w=b*g.matrix.b,E=Math.sqrt(x*x+w*w);h&&(v[m]=E),p[++m]=(s?b+_:_)*E/b}}}else for(var S=1;S<f;S++)p[S]=_;var k=this.computeWorldPositions(e,f,l,a.positionMode==Sn.Percent,o==kn.Percent),T=k[0],A=k[1],R=a.offsetRotation,I=!1;if(0==R)I=u==Tn.Chain;else{I=!1;var C=this.target.bone.matrix;R*=C.a*C.d-C.b*C.c>0?j.degRad:-j.degRad}for(var P=0,M=3;P<c;P++,M+=3){var O=d[P],D=O.matrix;D.tx+=(T-D.tx)*i,D.ty+=(A-D.ty)*i;var N=k[M],L=k[M+1],F=N-T,B=L-A;if(h){var V=v[P];if(0!=V){var U=(Math.sqrt(F*F+B*B)/V-1)*n+1;D.a*=U,D.b*=U}}if(T=N,A=L,r){var X=D.a,Y=D.c,G=D.b,H=D.d,W=0,q=0,Z=0;if(W=l?k[M-1]:0==p[P+1]?k[M+2]:Math.atan2(B,F),W-=Math.atan2(G,X),I){q=Math.cos(W),Z=Math.sin(W);var K=O.data.length;T+=(K*(q*X-Z*G)-F)*n,A+=(K*(Z*X+q*G)-B)*n}else W+=R;W>j.PI?W-=j.PI2:W<-j.PI&&(W+=j.PI2),W*=n,q=Math.cos(W),Z=Math.sin(W),D.a=q*X-Z*G,D.c=q*Y-Z*H,D.b=Z*X+q*G,D.d=Z*Y+q*H}O.appliedValid=!1}}}}},{key:"computeWorldPositions",value:function(e,n,i,r,a){var o=this.target,s=this.position,u=this.spaces,l=z.setArraySize(this.positions,3*n+2),h=null,c=e.closed,f=e.worldVerticesLength,d=f/6,p=t.NONE;if(!e.constantSpeed){var v=e.lengths,_=v[d-=c?1:2];if(r&&(s*=_),a)for(var m=0;m<n;m++)u[m]*=_;h=z.setArraySize(this.world,8);for(var y=0,g=0,b=0;y<n;y++,g+=3){var x=u[y],w=s+=x;if(c)(w%=_)<0&&(w+=_),b=0;else{if(w<0){p!=t.BEFORE&&(p=t.BEFORE,e.computeWorldVertices(o,2,4,h,0,2)),this.addBeforePosition(w,h,0,l,g);continue}if(w>_){p!=t.AFTER&&(p=t.AFTER,e.computeWorldVertices(o,f-6,4,h,0,2)),this.addAfterPosition(w-_,h,0,l,g);continue}}for(;;b++){var E=v[b];if(!(w>E)){if(0==b)w/=E;else{var S=v[b-1];w=(w-S)/(E-S)}break}}b!=p&&(p=b,c&&b==d?(e.computeWorldVertices(o,f-4,4,h,0,2),e.computeWorldVertices(o,0,4,h,4,2)):e.computeWorldVertices(o,6*b+2,8,h,0,2)),this.addCurvePosition(w,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],l,g,i||y>0&&0==x)}return l}c?(f+=2,h=z.setArraySize(this.world,f),e.computeWorldVertices(o,2,f-4,h,0,2),e.computeWorldVertices(o,0,2,h,f-4,2),h[f-2]=h[0],h[f-1]=h[1]):(d--,f-=4,h=z.setArraySize(this.world,f),e.computeWorldVertices(o,2,f,h,0,2));for(var k=z.setArraySize(this.curves,d),T=0,A=h[0],R=h[1],I=0,C=0,P=0,M=0,O=0,D=0,N=0,L=0,F=0,B=0,V=0,U=0,X=0,Y=0,j=0,G=2;j<d;j++,G+=6)I=h[G],C=h[G+1],P=h[G+2],M=h[G+3],V=2*(N=.1875*(A-2*I+P))+(F=.09375*(3*(I-P)-A+(O=h[G+4]))),U=2*(L=.1875*(R-2*C+M))+(B=.09375*(3*(C-M)-R+(D=h[G+5]))),X=.75*(I-A)+N+.16666667*F,Y=.75*(C-R)+L+.16666667*B,T+=Math.sqrt(X*X+Y*Y),X+=V,Y+=U,V+=F,U+=B,T+=Math.sqrt(X*X+Y*Y),X+=V,Y+=U,T+=Math.sqrt(X*X+Y*Y),X+=V+F,Y+=U+B,T+=Math.sqrt(X*X+Y*Y),k[j]=T,A=O,R=D;if(r&&(s*=T),a)for(var H=0;H<n;H++)u[H]*=T;for(var W=this.segments,q=0,Z=0,K=0,$=0,Q=0;Z<n;Z++,K+=3){var J=u[Z],tt=s+=J;if(c)(tt%=T)<0&&(tt+=T),$=0;else{if(tt<0){this.addBeforePosition(tt,h,0,l,K);continue}if(tt>T){this.addAfterPosition(tt-T,h,f-4,l,K);continue}}for(;;$++){var et=k[$];if(!(tt>et)){if(0==$)tt/=et;else{var nt=k[$-1];tt=(tt-nt)/(et-nt)}break}}if($!=p){p=$;var it=6*$;for(A=h[it],R=h[it+1],I=h[it+2],C=h[it+3],P=h[it+4],M=h[it+5],V=2*(N=.03*(A-2*I+P))+(F=.006*(3*(I-P)-A+(O=h[it+6]))),U=2*(L=.03*(R-2*C+M))+(B=.006*(3*(C-M)-R+(D=h[it+7]))),X=.3*(I-A)+N+.16666667*F,Y=.3*(C-R)+L+.16666667*B,q=Math.sqrt(X*X+Y*Y),W[0]=q,it=1;it<8;it++)X+=V,Y+=U,V+=F,U+=B,q+=Math.sqrt(X*X+Y*Y),W[it]=q;X+=V,Y+=U,q+=Math.sqrt(X*X+Y*Y),W[8]=q,X+=V+F,Y+=U+B,q+=Math.sqrt(X*X+Y*Y),W[9]=q,Q=0}for(tt*=q;;Q++){var rt=W[Q];if(!(tt>rt)){if(0==Q)tt/=rt;else{var at=W[Q-1];tt=Q+(tt-at)/(rt-at)}break}}this.addCurvePosition(.1*tt,A,R,I,C,P,M,O,D,l,K,i||Z>0&&0==J)}return l}},{key:"addBeforePosition",value:function(t,e,n,i,r){var a=e[n],o=e[n+1],s=e[n+2]-a,u=e[n+3]-o,l=Math.atan2(u,s);i[r]=a+t*Math.cos(l),i[r+1]=o+t*Math.sin(l),i[r+2]=l}},{key:"addAfterPosition",value:function(t,e,n,i,r){var a=e[n+2],o=e[n+3],s=a-e[n],u=o-e[n+1],l=Math.atan2(u,s);i[r]=a+t*Math.cos(l),i[r+1]=o+t*Math.sin(l),i[r+2]=l}},{key:"addCurvePosition",value:function(t,e,n,i,r,a,o,s,u,l,h,c){(0==t||isNaN(t))&&(t=1e-4);var f=t*t,d=f*t,p=1-t,v=p*p,_=v*p,m=p*t,y=3*m,g=p*y,b=y*t,x=e*_+i*g+a*b+s*d,w=n*_+r*g+o*b+u*d;l[h]=x,l[h+1]=w,c&&(l[h+2]=Math.atan2(w-(n*v+r*m*2+o*f),x-(e*v+i*m*2+a*f)))}},{key:"getOrder",value:function(){return this.data.order}}],[{key:"__initStatic",value:function(){this.NONE=-1}},{key:"__initStatic2",value:function(){this.BEFORE=-2}},{key:"__initStatic3",value:function(){this.AFTER=-3}},{key:"__initStatic4",value:function(){this.epsilon=1e-5}}]),t}();On.__initStatic(),On.__initStatic2(),On.__initStatic3(),On.__initStatic4();var Dn=function(){function t(e,n){if(Le(this,t),t.prototype.__init.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=e,this.bone=n,this.color=new Y,this.darkColor=null==e.darkColor?null:new Y,this.setToSetupPose(),this.blendMode=this.data.blendMode}return Ie(t,[{key:"__init",value:function(){this.attachmentVertices=new Array}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)}},{key:"setAttachmentTime",value:function(t){this.attachmentTime=this.bone.skeleton.time-t}},{key:"getAttachmentTime",value:function(){return this.bone.skeleton.time-this.attachmentTime}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}]),t}(),Nn=function(){function t(e,n){if(Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var i=0;i<e.bones.length;i++)this.bones.push(n.findBone(e.bones[i].name));this.target=n.findBone(e.target.name)}return Ie(t,[{key:"__init",value:function(){this.rotateMix=0}},{key:"__init2",value:function(){this.translateMix=0}},{key:"__init3",value:function(){this.scaleMix=0}},{key:"__init4",value:function(){this.shearMix=0}},{key:"__init5",value:function(){this.temp=new K}},{key:"apply",value:function(){this.update()}},{key:"update",value:function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}},{key:"applyAbsoluteWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,a=r.matrix,o=a.a,s=a.c,u=a.b,l=a.d,h=o*l-s*u>0?j.degRad:-j.degRad,c=this.data.offsetRotation*h,f=this.data.offsetShearY*h,d=this.bones,p=0,v=d.length;p<v;p++){var _=d[p],m=!1,y=_.matrix;if(0!=t){var g=y.a,b=y.c,x=y.b,w=y.d,E=Math.atan2(u,o)-Math.atan2(x,g)+c;E>j.PI?E-=j.PI2:E<-j.PI&&(E+=j.PI2),E*=t;var S=Math.cos(E),k=Math.sin(E);y.a=S*g-k*x,y.c=S*b-k*w,y.b=k*g+S*x,y.d=k*b+S*w,m=!0}if(0!=e){var T=this.temp;r.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),y.tx+=(T.x-y.tx)*e,y.ty+=(T.y-y.ty)*e,m=!0}if(n>0){var A=Math.sqrt(y.a*y.a+y.b*y.b),R=Math.sqrt(o*o+u*u);A>1e-5&&(A=(A+(R-A+this.data.offsetScaleX)*n)/A),y.a*=A,y.b*=A,A=Math.sqrt(y.c*y.c+y.d*y.d),R=Math.sqrt(s*s+l*l),A>1e-5&&(A=(A+(R-A+this.data.offsetScaleY)*n)/A),y.c*=A,y.d*=A,m=!0}if(i>0){var I=y.c,C=y.d,P=Math.atan2(C,I),M=Math.atan2(l,s)-Math.atan2(u,o)-(P-Math.atan2(y.b,y.a));M>j.PI?M-=j.PI2:M<-j.PI&&(M+=j.PI2),M=P+(M+f)*i;var O=Math.sqrt(I*I+C*C);y.c=Math.cos(M)*O,y.d=Math.sin(M)*O,m=!0}m&&(_.appliedValid=!1)}}},{key:"applyRelativeWorld",value:function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,a=r.matrix,o=a.a,s=a.c,u=a.b,l=a.d,h=o*l-s*u>0?j.degRad:-j.degRad,c=this.data.offsetRotation*h,f=this.data.offsetShearY*h,d=this.bones,p=0,v=d.length;p<v;p++){var _=d[p],m=!1,y=_.matrix;if(0!=t){var g=y.a,b=y.c,x=y.b,w=y.d,E=Math.atan2(u,o)+c;E>j.PI?E-=j.PI2:E<-j.PI&&(E+=j.PI2),E*=t;var S=Math.cos(E),k=Math.sin(E);y.a=S*g-k*x,y.c=S*b-k*w,y.b=k*g+S*x,y.d=k*b+S*w,m=!0}if(0!=e){var T=this.temp;r.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),y.tx+=T.x*e,y.ty+=T.y*e,m=!0}if(n>0){var A=(Math.sqrt(o*o+u*u)-1+this.data.offsetScaleX)*n+1;y.a*=A,y.b*=A,A=(Math.sqrt(s*s+l*l)-1+this.data.offsetScaleY)*n+1,y.c*=A,y.d*=A,m=!0}if(i>0){var R=Math.atan2(l,s)-Math.atan2(u,o);R>j.PI?R-=j.PI2:R<-j.PI&&(R+=j.PI2);var I=y.c,C=y.d;R=Math.atan2(C,I)+(R-j.PI/2+f)*i;var P=Math.sqrt(I*I+C*C);y.c=Math.cos(R)*P,y.d=Math.sin(R)*P,m=!0}m&&(_.appliedValid=!1)}}},{key:"applyAbsoluteLocal",value:function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;if(0!=t){var h=r.arotation-l+this.data.offsetRotation;l+=(h-=360*(16384-(16384.499999999996-h/360|0)))*t}var c=u.ax,f=u.ay;0!=e&&(c+=(r.ax-c+this.data.offsetX)*e,f+=(r.ay-f+this.data.offsetY)*e);var d=u.ascaleX,p=u.ascaleY;n>0&&(d>1e-5&&(d=(d+(r.ascaleX-d+this.data.offsetScaleX)*n)/d),p>1e-5&&(p=(p+(r.ascaleY-p+this.data.offsetScaleY)*n)/p));var v=u.ashearY;if(i>0){var _=r.ashearY-v+this.data.offsetShearY;_-=360*(16384-(16384.499999999996-_/360|0)),u.shearY+=_*i}u.updateWorldTransformWith(c,f,l,d,p,u.ashearX,v)}}},{key:"applyRelativeLocal",value:function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var l=u.arotation;0!=t&&(l+=(r.arotation+this.data.offsetRotation)*t);var h=u.ax,c=u.ay;0!=e&&(h+=(r.ax+this.data.offsetX)*e,c+=(r.ay+this.data.offsetY)*e);var f=u.ascaleX,d=u.ascaleY;n>0&&(f>1e-5&&(f*=(r.ascaleX-1+this.data.offsetScaleX)*n+1),d>1e-5&&(d*=(r.ascaleY-1+this.data.offsetScaleY)*n+1));var p=u.ashearY;i>0&&(p+=(r.ashearY+this.data.offsetShearY)*i),u.updateWorldTransformWith(h,c,l,f,d,u.ashearX,p)}}},{key:"getOrder",value:function(){return this.data.order}}]),t}(),Ln=function(){function t(e){if(Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=e.bones[n],r=void 0;if(null==i.parent)r=new An(i,this,null);else{var a=this.bones[i.parent.index];r=new An(i,this,a),a.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(var o=0;o<e.slots.length;o++){var s=e.slots[o],u=this.bones[s.boneData.index],l=new Dn(s,u);this.slots.push(l),this.drawOrder.push(l)}this.ikConstraints=new Array;for(var h=0;h<e.ikConstraints.length;h++){var c=e.ikConstraints[h];this.ikConstraints.push(new Cn(c,this))}this.transformConstraints=new Array;for(var f=0;f<e.transformConstraints.length;f++){var d=e.transformConstraints[f];this.transformConstraints.push(new Nn(d,this))}this.pathConstraints=new Array;for(var p=0;p<e.pathConstraints.length;p++){var v=e.pathConstraints[p];this.pathConstraints.push(new On(v,this))}this.color=new Y(1,1,1,1),this.updateCache()}return Ie(t,[{key:"__init",value:function(){this._updateCache=new Array}},{key:"__init2",value:function(){this.updateCacheReset=new Array}},{key:"__init3",value:function(){this.time=0}},{key:"__init4",value:function(){this.scaleX=1}},{key:"__init5",value:function(){this.scaleY=1}},{key:"__init6",value:function(){this.x=0}},{key:"__init7",value:function(){this.y=0}},{key:"updateCache",value:function(){var t=this._updateCache;t.length=0,this.updateCacheReset.length=0;for(var e=this.bones,n=0,i=e.length;n<i;n++)e[n].sorted=!1;var r=this.ikConstraints,a=this.transformConstraints,o=this.pathConstraints,s=r.length,u=a.length,l=o.length,h=s+u+l;t:for(var c=0;c<h;c++){for(var f=0;f<s;f++){var d=r[f];if(d.data.order==c){this.sortIkConstraint(d);continue t}}for(var p=0;p<u;p++){var v=a[p];if(v.data.order==c){this.sortTransformConstraint(v);continue t}}for(var _=0;_<l;_++){var m=o[_];if(m.data.order==c){this.sortPathConstraint(m);continue t}}}for(var y=0,g=e.length;y<g;y++)this.sortBone(e[y])}},{key:"sortIkConstraint",value:function(t){var e=t.target;this.sortBone(e);var n=t.bones,i=n[0];if(this.sortBone(i),n.length>1){var r=n[n.length-1];this._updateCache.indexOf(r)>-1||this.updateCacheReset.push(r)}this._updateCache.push(t),this.sortReset(i.children),n[n.length-1].sorted=!0}},{key:"sortPathConstraint",value:function(t){var e=t.target,n=e.data.index,i=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var r=0,a=this.data.skins.length;r<a;r++)this.sortPathConstraintAttachment(this.data.skins[r],n,i);var o=e.getAttachment();o instanceof Ye&&this.sortPathConstraintAttachmentWith(o,i);for(var s=t.bones,u=s.length,l=0;l<u;l++)this.sortBone(s[l]);this._updateCache.push(t);for(var h=0;h<u;h++)this.sortReset(s[h].children);for(var c=0;c<u;c++)s[c].sorted=!0}},{key:"sortTransformConstraint",value:function(t){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var i=0;i<n;i++){var r=e[i];this.sortBone(r.parent),this._updateCache.indexOf(r)>-1||this.updateCacheReset.push(r)}else for(var a=0;a<n;a++)this.sortBone(e[a]);this._updateCache.push(t);for(var o=0;o<n;o++)this.sortReset(e[o].children);for(var s=0;s<n;s++)e[s].sorted=!0}},{key:"sortPathConstraintAttachment",value:function(t,e,n){var i=t.attachments[e];if(i)for(var r in i)this.sortPathConstraintAttachmentWith(i[r],n)}},{key:"sortPathConstraintAttachmentWith",value:function(t,e){if(t instanceof Ye){var n=t.bones;if(null==n)this.sortBone(e);else for(var i=this.bones,r=0;r<n.length;)for(var a=n[r++],o=r+a;r<o;r++){var s=n[r];this.sortBone(i[s])}}}},{key:"sortBone",value:function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}}},{key:"sortReset",value:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];i.sorted&&this.sortReset(i.children),i.sorted=!1}}},{key:"updateWorldTransform",value:function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var r=this._updateCache,a=0,o=r.length;a<o;a++)r[a].update()}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,r=0,a=i.length;r<a;r++){var o=i[r];o.bendDirection=o.data.bendDirection,o.mix=o.data.mix}for(var s=this.transformConstraints,u=0,l=s.length;u<l;u++){var h=s[u],c=h.data;h.rotateMix=c.rotateMix,h.translateMix=c.translateMix,h.scaleMix=c.scaleMix,h.shearMix=c.shearMix}for(var f=this.pathConstraints,d=0,p=f.length;d<p;d++){var v=f[d],_=v.data;v.position=_.position,v.spacing=_.spacing,v.rotateMix=_.rotateMix,v.translateMix=_.translateMix}}},{key:"setSlotsToSetupPose",value:function(){var t=this.slots;z.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1}},{key:"setSkinByName",value:function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)}},{key:"setSkin",value:function(t){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n],a=r.data.attachmentName;if(null!=a){var o=t.getAttachment(n,a);null!=o&&r.setAttachment(o)}}this.skin=t}},{key:"getAttachmentByName",value:function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)}},{key:"getAttachment",value:function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}},{key:"setAttachment",value:function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,r=n.length;i<r;i++){var a=n[i];if(a.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(i,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(o)}}throw new Error("Slot not found: "+t)}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"getBounds",value:function(t,e,n){if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var i=this.drawOrder,r=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=i.length;u<l;u++){var h=i[u],c=0,f=null,d=h.getAttachment();if(d instanceof Ge)c=8,f=z.setArraySize(n,c,0),d.computeWorldVertices(h.bone,f,0,2);else if(d instanceof Xe){var p=d;c=p.worldVerticesLength,f=z.setArraySize(n,c,0),p.computeWorldVertices(h,0,c,f,0,2)}if(null!=f)for(var v=0,_=f.length;v<_;v+=2){var m=f[v],y=f[v+1];r=Math.min(r,m),a=Math.min(a,y),o=Math.max(o,m),s=Math.max(s,y)}}t.set(r,a),e.set(o-r,s-a)}},{key:"update",value:function(t){this.time+=t}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.scaleX=e?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.scaleY=e?1:-1}}],[{key:"__initStatic",value:function(){this.deprecatedWarning1=!1}}]),t}();Ln.__initStatic();var Fn=function(){function t(){Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this)}return Ie(t,[{key:"__init",value:function(){this.minX=0}},{key:"__init2",value:function(){this.minY=0}},{key:"__init3",value:function(){this.maxX=0}},{key:"__init4",value:function(){this.maxY=0}},{key:"__init5",value:function(){this.boundingBoxes=new Array}},{key:"__init6",value:function(){this.polygons=new Array}},{key:"__init7",value:function(){this.polygonPool=new Z((function(){return z.newFloatArray(16)}))}},{key:"update",value:function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,r=this.polygonPool,a=t.slots,o=a.length;n.length=0,r.freeAll(i),i.length=0;for(var s=0;s<o;s++){var u=a[s],l=u.getAttachment();if(l instanceof Ve){var h=l;n.push(h);var c=r.obtain();c.length!=h.worldVerticesLength&&(c=z.newFloatArray(h.worldVerticesLength)),i.push(c),h.computeWorldVertices(u,0,h.worldVerticesLength,c,0,2)}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}},{key:"aabbCompute",value:function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=this.polygons,a=0,o=r.length;a<o;a++)for(var s=r[a],u=s,l=0,h=s.length;l<h;l+=2){var c=u[l],f=u[l+1];t=Math.min(t,c),e=Math.min(e,f),n=Math.max(n,c),i=Math.max(i,f)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=i}},{key:"aabbContainsPoint",value:function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}},{key:"aabbIntersectsSegment",value:function(t,e,n,i){var r=this.minX,a=this.minY,o=this.maxX,s=this.maxY;if(t<=r&&n<=r||e<=a&&i<=a||t>=o&&n>=o||e>=s&&i>=s)return!1;var u=(i-e)/(n-t),l=u*(r-t)+e;if(l>a&&l<s)return!0;if((l=u*(o-t)+e)>a&&l<s)return!0;var h=(a-e)/u+t;return h>r&&h<o||(h=(s-e)/u+t)>r&&h<o}},{key:"aabbIntersectsSkeleton",value:function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}},{key:"containsPoint",value:function(t,e){for(var n=this.polygons,i=0,r=n.length;i<r;i++)if(this.containsPointPolygon(n[i],t,e))return this.boundingBoxes[i];return null}},{key:"containsPointPolygon",value:function(t,e,n){for(var i=t,r=t.length,a=r-2,o=!1,s=0;s<r;s+=2){var u=i[s+1],l=i[a+1];if(u<n&&l>=n||l<n&&u>=n){var h=i[s];h+(n-u)/(l-u)*(i[a]-h)<e&&(o=!o)}a=s}return o}},{key:"intersectsSegment",value:function(t,e,n,i){for(var r=this.polygons,a=0,o=r.length;a<o;a++)if(this.intersectsSegmentPolygon(r[a],t,e,n,i))return this.boundingBoxes[a];return null}},{key:"intersectsSegmentPolygon",value:function(t,e,n,i,r){for(var a=t,o=t.length,s=e-i,u=n-r,l=e*r-n*i,h=a[o-2],c=a[o-1],f=0;f<o;f+=2){var d=a[f],p=a[f+1],v=h*p-c*d,_=h-d,m=c-p,y=s*m-u*_,g=(l*_-s*v)/y;if((g>=h&&g<=d||g>=d&&g<=h)&&(g>=e&&g<=i||g>=i&&g<=e)){var b=(l*m-u*v)/y;if((b>=c&&b<=p||b>=p&&b<=c)&&(b>=n&&b<=r||b>=r&&b<=n))return!0}h=d,c=p}return!1}},{key:"getPolygon",value:function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}},{key:"getWidth",value:function(){return this.maxX-this.minX}},{key:"getHeight",value:function(){return this.maxY-this.minY}}]),t}(),Bn=function(){function t(){Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this)}return Ie(t,[{key:"__init",value:function(){this.bones=new Array}},{key:"__init2",value:function(){this.slots=new Array}},{key:"__init3",value:function(){this.skins=new Array}},{key:"__init4",value:function(){this.events=new Array}},{key:"__init5",value:function(){this.animations=new Array}},{key:"__init6",value:function(){this.ikConstraints=new Array}},{key:"__init7",value:function(){this.transformConstraints=new Array}},{key:"__init8",value:function(){this.pathConstraints=new Array}},{key:"__init9",value:function(){this.fps=0}},{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1}},{key:"findSkin",value:function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findEvent",value:function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findAnimation",value:function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findPathConstraintIndex",value:function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1}}]),t}(),Vn=function(){function t(e,n,i){if(Le(this,t),t.prototype.__init.call(this),e<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==i)throw new Error("boneData cannot be null.");this.index=e,this.name=n,this.boneData=i}return Ie(t,[{key:"__init",value:function(){this.color=new Y(1,1,1,1)}}]),t}(),Un=function(){function t(e){if(Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),t.prototype.__init11.call(this),t.prototype.__init12.call(this),t.prototype.__init13.call(this),t.prototype.__init14.call(this),null==e)throw new Error("name cannot be null.");this.name=e}return Ie(t,[{key:"__init",value:function(){this.order=0}},{key:"__init2",value:function(){this.bones=new Array}},{key:"__init3",value:function(){this.rotateMix=0}},{key:"__init4",value:function(){this.translateMix=0}},{key:"__init5",value:function(){this.scaleMix=0}},{key:"__init6",value:function(){this.shearMix=0}},{key:"__init7",value:function(){this.offsetRotation=0}},{key:"__init8",value:function(){this.offsetX=0}},{key:"__init9",value:function(){this.offsetY=0}},{key:"__init10",value:function(){this.offsetScaleX=0}},{key:"__init11",value:function(){this.offsetScaleY=0}},{key:"__init12",value:function(){this.offsetShearY=0}},{key:"__init13",value:function(){this.relative=!1}},{key:"__init14",value:function(){this.local=!1}}]),t}(),Xn=function(){function t(e){if(Le(this,t),t.prototype.__init.call(this),null==e)throw new Error("name cannot be null.");this.name=e}return Ie(t,[{key:"__init",value:function(){this.attachments=new Array}},{key:"addAttachment",value:function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=n}},{key:"getAttachment",value:function(t,e){var n=this.attachments[t];return n?n[e]:null}},{key:"attachAll",value:function(t,e){for(var n=0,i=0;i<t.slots.length;i++){var r=t.slots[i],a=r.getAttachment();if(a&&n<e.attachments.length){var o=e.attachments[n];for(var s in o){if(a==o[s]){var u=this.getAttachment(n,s);null!=u&&r.setAttachment(u);break}}}n++}}}]),t}(),Yn=function(){function t(e){Le(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),this.attachmentLoader=e}return Ie(t,[{key:"__init",value:function(){this.scale=1}},{key:"__init2",value:function(){this.linkedMeshes=new Array}},{key:"readSkeletonData",value:function(e){var n=this.scale,i=new Bn,r="string"==typeof e?JSON.parse(e):e,a=r.skeleton;if(null!=a&&(i.hash=a.hash,i.version=a.spine,i.width=a.width,i.height=a.height,i.fps=a.fps,i.imagesPath=a.images),r.bones)for(var o=0;o<r.bones.length;o++){var s=r.bones[o],u=null,l=this.getValue(s,"parent",null);if(null!=l&&null==(u=i.findBone(l)))throw new Error("Parent bone not found: "+l);var h=new En(i.bones.length,s.name,u);h.length=this.getValue(s,"length",0)*n,h.x=this.getValue(s,"x",0)*n,h.y=this.getValue(s,"y",0)*n,h.rotation=this.getValue(s,"rotation",0),h.scaleX=this.getValue(s,"scaleX",1),h.scaleY=this.getValue(s,"scaleY",1),h.shearX=this.getValue(s,"shearX",0),h.shearY=this.getValue(s,"shearY",0),h.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),i.bones.push(h)}if(r.slots)for(var c=0;c<r.slots.length;c++){var f=r.slots[c],d=f.name,p=f.bone,v=i.findBone(p);if(null==v)throw new Error("Slot bone not found: "+p);var _=new Vn(i.slots.length,d,v),m=this.getValue(f,"color",null);null!=m&&_.color.setFromString(m);var y=this.getValue(f,"dark",null);null!=y&&(_.darkColor=new Y(1,1,1,1),_.darkColor.setFromString(y)),_.attachmentName=this.getValue(f,"attachment",null),_.blendMode=t.blendModeFromString(this.getValue(f,"blend","normal")),i.slots.push(_)}if(r.ik)for(var g=0;g<r.ik.length;g++){var b=r.ik[g],x=new Pn(b.name);x.order=this.getValue(b,"order",0);for(var w=0;w<b.bones.length;w++){var E=b.bones[w],S=i.findBone(E);if(null==S)throw new Error("IK bone not found: "+E);x.bones.push(S)}var k=b.target;if(x.target=i.findBone(k),null==x.target)throw new Error("IK target bone not found: "+k);x.bendDirection=this.getValue(b,"bendPositive",!0)?1:-1,x.mix=this.getValue(b,"mix",1),i.ikConstraints.push(x)}if(r.transform)for(var T=0;T<r.transform.length;T++){var A=r.transform[T],R=new Un(A.name);R.order=this.getValue(A,"order",0);for(var I=0;I<A.bones.length;I++){var C=A.bones[I],P=i.findBone(C);if(null==P)throw new Error("Transform constraint bone not found: "+C);R.bones.push(P)}var M=A.target;if(R.target=i.findBone(M),null==R.target)throw new Error("Transform constraint target bone not found: "+M);R.local=this.getValue(A,"local",!1),R.relative=this.getValue(A,"relative",!1),R.offsetRotation=this.getValue(A,"rotation",0),R.offsetX=this.getValue(A,"x",0)*n,R.offsetY=this.getValue(A,"y",0)*n,R.offsetScaleX=this.getValue(A,"scaleX",0),R.offsetScaleY=this.getValue(A,"scaleY",0),R.offsetShearY=this.getValue(A,"shearY",0),R.rotateMix=this.getValue(A,"rotateMix",1),R.translateMix=this.getValue(A,"translateMix",1),R.scaleMix=this.getValue(A,"scaleMix",1),R.shearMix=this.getValue(A,"shearMix",1),i.transformConstraints.push(R)}if(r.path)for(var O=0;O<r.path.length;O++){var D=r.path[O],N=new Mn(D.name);N.order=this.getValue(D,"order",0);for(var L=0;L<D.bones.length;L++){var F=D.bones[L],B=i.findBone(F);if(null==B)throw new Error("Transform constraint bone not found: "+F);N.bones.push(B)}var V=D.target;if(N.target=i.findSlot(V),null==N.target)throw new Error("Path target slot not found: "+V);N.positionMode=t.positionModeFromString(this.getValue(D,"positionMode","percent")),N.spacingMode=t.spacingModeFromString(this.getValue(D,"spacingMode","length")),N.rotateMode=t.rotateModeFromString(this.getValue(D,"rotateMode","tangent")),N.offsetRotation=this.getValue(D,"rotation",0),N.position=this.getValue(D,"position",0),N.positionMode==Sn.Fixed&&(N.position*=n),N.spacing=this.getValue(D,"spacing",0),N.spacingMode!=kn.Length&&N.spacingMode!=kn.Fixed||(N.spacing*=n),N.rotateMix=this.getValue(D,"rotateMix",1),N.translateMix=this.getValue(D,"translateMix",1),i.pathConstraints.push(N)}if(r.skins)for(var U in r.skins){var X=r.skins[U],j=new Xn(U);for(var G in X){var H=i.findSlotIndex(G);if(-1==H)throw new Error("Slot not found: "+G);var W=X[G];for(var z in W){var q=this.readAttachment(W[z],j,H,z,i);null!=q&&j.addAttachment(H,z,q)}}i.skins.push(j),"default"==j.name&&(i.defaultSkin=j)}for(var Z=0,K=this.linkedMeshes.length;Z<K;Z++){var $=this.linkedMeshes[Z],Q=null==$.skin?i.defaultSkin:i.findSkin($.skin);if(null==Q)throw new Error("Skin not found: "+$.skin);var J=Q.getAttachment($.slotIndex,$.parent);if(null==J)throw new Error("Parent mesh not found: "+$.parent);$.mesh.setParentMesh(J)}if(this.linkedMeshes.length=0,r.events)for(var tt in r.events){var et=r.events[tt],nt=new In(tt);nt.intValue=this.getValue(et,"int",0),nt.floatValue=this.getValue(et,"float",0),nt.stringValue=this.getValue(et,"string",""),nt.audioPath=this.getValue(et,"audio",null),null!=nt.audioPath&&(nt.volume=this.getValue(et,"volume",1),nt.balance=this.getValue(et,"balance",0)),i.events.push(nt)}if(r.animations)for(var it in r.animations){var rt=r.animations[it];this.readAnimation(rt,it,i)}return i}},{key:"readAttachment",value:function(t,e,n,i,r){var a=this.scale;switch(i=this.getValue(t,"name",i),this.getValue(t,"type","region")){case"region":var o=this.getValue(t,"path",i),s=this.attachmentLoader.newRegionAttachment(e,i,o);if(null==s)return null;s.path=o,s.x=this.getValue(t,"x",0)*a,s.y=this.getValue(t,"y",0)*a,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*a,s.height=t.height*a;var u=this.getValue(t,"color",null);return null!=u&&s.color.setFromString(u),s;case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,i);if(null==l)return null;this.readVertices(t,l,t.vertexCount<<1);var h=this.getValue(t,"color",null);return null!=h&&l.color.setFromString(h),l;case"mesh":case"linkedmesh":var c=this.getValue(t,"path",i),f=this.attachmentLoader.newMeshAttachment(e,i,c);if(null==f)return null;f.path=c;var d=this.getValue(t,"color",null);null!=d&&f.color.setFromString(d);var p=this.getValue(t,"parent",null);if(null!=p)return f.inheritDeform=this.getValue(t,"deform",!0),this.linkedMeshes.push(new jn(f,this.getValue(t,"skin",null),n,p)),f;var v=t.uvs;return this.readVertices(t,f,v.length),f.triangles=t.triangles,f.regionUVs=new Float32Array(v),f.hullLength=2*this.getValue(t,"hull",0),f;case"path":var _=this.attachmentLoader.newPathAttachment(e,i);if(null==_)return null;_.closed=this.getValue(t,"closed",!1),_.constantSpeed=this.getValue(t,"constantSpeed",!0);var m=t.vertexCount;this.readVertices(t,_,m<<1);for(var y=z.newArray(m/3,0),g=0;g<t.lengths.length;g++)y[g]=t.lengths[g]*a;_.lengths=y;var b=this.getValue(t,"color",null);return null!=b&&_.color.setFromString(b),_;case"point":var x=this.attachmentLoader.newPointAttachment(e,i);if(null==x)return null;x.x=this.getValue(t,"x",0)*a,x.y=this.getValue(t,"y",0)*a,x.rotation=this.getValue(t,"rotation",0);var w=this.getValue(t,"color",null);return null!=w&&x.color.setFromString(w),x;case"clipping":var E=this.attachmentLoader.newClippingAttachment(e,i);if(null==E)return null;var S=this.getValue(t,"end",null);if(null!=S){var k=r.findSlot(S);if(null==k)throw new Error("Clipping end slot not found: "+S);E.endSlot=k}var T=t.vertexCount;this.readVertices(t,E,T<<1);var A=this.getValue(t,"color",null);return null!=A&&E.color.setFromString(A),E}return null}},{key:"readVertices",value:function(t,e,n){var i=this.scale;e.worldVerticesLength=n;var r=t.vertices;if(n!=r.length){for(var a=new Array,o=new Array,s=0,u=r.length;s<u;){var l=r[s++];o.push(l);for(var h=s+4*l;s<h;s+=4)o.push(r[s]),a.push(r[s+1]*i),a.push(r[s+2]*i),a.push(r[s+3])}e.bones=o,e.vertices=z.toFloatArray(a)}else{var c=z.toFloatArray(r);if(1!=i)for(var f=0,d=r.length;f<d;f++)c[f]*=i;e.vertices=c}}},{key:"readAnimation",value:function(t,e,n){var i=this.scale,r=new Array,a=0;if(t.slots)for(var o in t.slots){var s=t.slots[o],u=n.findSlotIndex(o);if(-1==u)throw new Error("Slot not found: "+o);for(var l in s){var h=s[l];if("attachment"==l){var c=new an(h.length);c.slotIndex=u;for(var f=0,d=0;d<h.length;d++){var p=h[d];c.setFrame(f++,p.time,p.name)}r.push(c),a=Math.max(a,c.frames[c.getFrameCount()-1])}else if("color"==l){var v=new nn(h.length);v.slotIndex=u;for(var _=0,m=0;m<h.length;m++){var y=h[m],g=new Y;g.setFromString(y.color||"ffffffff"),v.setFrame(_,y.time,g.r,g.g,g.b,g.a),this.readCurve(y,v,_),_++}r.push(v),a=Math.max(a,v.frames[(v.getFrameCount()-1)*nn.ENTRIES])}else{if("twoColor"!=l)throw new Error("Invalid timeline type for a slot: "+l+" ("+o+")");var b=new rn(h.length);b.slotIndex=u;for(var x=0,w=0;w<h.length;w++){var E=h[w],S=new Y,k=new Y;S.setFromString(E.light),k.setFromString(E.dark),b.setFrame(x,E.time,S.r,S.g,S.b,S.a,k.r,k.g,k.b),this.readCurve(E,b,x),x++}r.push(b),a=Math.max(a,b.frames[(b.getFrameCount()-1)*rn.ENTRIES])}}}if(t.bones)for(var T in t.bones){var A=t.bones[T],R=n.findBoneIndex(T);if(-1==R)throw new Error("Bone not found: "+T);for(var I in A){var C=A[I];if("rotate"===I){var P=new Qe(C.length);P.boneIndex=R;for(var M=0,O=0;O<C.length;O++){var D=C[O];P.setFrame(M,D.time,D.angle),this.readCurve(D,P,M),M++}r.push(P),a=Math.max(a,P.frames[(P.getFrameCount()-1)*Qe.ENTRIES])}else{if("translate"!==I&&"scale"!==I&&"shear"!==I)throw new Error("Invalid timeline type for a bone: "+I+" ("+T+")");var N=null,L=1;"scale"===I?N=new tn(C.length):"shear"===I?N=new en(C.length):(N=new Je(C.length),L=i),N.boneIndex=R;for(var F=0,B=0;B<C.length;B++){var V=C[B],U=this.getValue(V,"x",0),X=this.getValue(V,"y",0);N.setFrame(F,V.time,U*L,X*L),this.readCurve(V,N,F),F++}r.push(N),a=Math.max(a,N.frames[(N.getFrameCount()-1)*Je.ENTRIES])}}}if(t.ik)for(var j in t.ik){var G=t.ik[j],H=n.findIkConstraint(j),W=new hn(G.length);W.ikConstraintIndex=n.ikConstraints.indexOf(H);for(var q=0,Z=0;Z<G.length;Z++){var K=G[Z];W.setFrame(q,K.time,this.getValue(K,"mix",1),this.getValue(K,"bendPositive",!0)?1:-1,this.getValue(K,"compress",!1),this.getValue(K,"stretch",!1)),this.readCurve(K,W,q),q++}r.push(W),a=Math.max(a,W.frames[(W.getFrameCount()-1)*hn.ENTRIES])}if(t.transform)for(var $ in t.transform){var Q=t.transform[$],tt=n.findTransformConstraint($),et=new cn(Q.length);et.transformConstraintIndex=n.transformConstraints.indexOf(tt);for(var nt=0,it=0;it<Q.length;it++){var rt=Q[it];et.setFrame(nt,rt.time,this.getValue(rt,"rotateMix",1),this.getValue(rt,"translateMix",1),this.getValue(rt,"scaleMix",1),this.getValue(rt,"shearMix",1)),this.readCurve(rt,et,nt),nt++}r.push(et),a=Math.max(a,et.frames[(et.getFrameCount()-1)*cn.ENTRIES])}if(t.paths)for(var at in t.paths){var ot=t.paths[at],st=n.findPathConstraintIndex(at);if(-1==st)throw new Error("Path constraint not found: "+at);var ut=n.pathConstraints[st];for(var lt in ot){var ht=ot[lt];if("position"===lt||"spacing"===lt){var ct=null,ft=1;"spacing"===lt?(ct=new dn(ht.length),ut.spacingMode!=kn.Length&&ut.spacingMode!=kn.Fixed||(ft=i)):(ct=new fn(ht.length),ut.positionMode==Sn.Fixed&&(ft=i)),ct.pathConstraintIndex=st;for(var dt=0,pt=0;pt<ht.length;pt++){var vt=ht[pt];ct.setFrame(dt,vt.time,this.getValue(vt,lt,0)*ft),this.readCurve(vt,ct,dt),dt++}r.push(ct),a=Math.max(a,ct.frames[(ct.getFrameCount()-1)*fn.ENTRIES])}else if("mix"===lt){var _t=new pn(ht.length);_t.pathConstraintIndex=st;for(var mt=0,yt=0;yt<ht.length;yt++){var gt=ht[yt];_t.setFrame(mt,gt.time,this.getValue(gt,"rotateMix",1),this.getValue(gt,"translateMix",1)),this.readCurve(gt,_t,mt),mt++}r.push(_t),a=Math.max(a,_t.frames[(_t.getFrameCount()-1)*pn.ENTRIES])}}}if(t.deform)for(var bt in t.deform){var xt=t.deform[bt],wt=n.findSkin(bt);if(null!=wt)for(var Et in xt){var St=xt[Et],kt=n.findSlotIndex(Et);if(-1==kt)throw new Error("Slot not found: "+St.name);for(var Tt in St){var At=St[Tt],Rt=wt.getAttachment(kt,Tt);if(null==Rt)throw new Error("Deform attachment not found: "+At.name);var It=null!=Rt.bones,Ct=Rt.vertices,Pt=It?Ct.length/3*2:Ct.length,Mt=new sn(At.length);Mt.slotIndex=kt,Mt.attachment=Rt;for(var Ot=0,Dt=0;Dt<At.length;Dt++){var Nt=At[Dt],Lt=void 0,Ft=this.getValue(Nt,"vertices",null);if(null==Ft)Lt=It?z.newFloatArray(Pt):Ct;else{Lt=z.newFloatArray(Pt);var Bt=this.getValue(Nt,"offset",0);if(z.arrayCopy(Ft,0,Lt,Bt,Ft.length),1!=i)for(var Vt=Bt,Ut=Vt+Ft.length;Vt<Ut;Vt++)Lt[Vt]*=i;if(!It)for(var Xt=0;Xt<Pt;Xt++)Lt[Xt]+=Ct[Xt]}Mt.setFrame(Ot,Nt.time,Lt),this.readCurve(Nt,Mt,Ot),Ot++}r.push(Mt),a=Math.max(a,Mt.frames[Mt.getFrameCount()-1])}}else if(J.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+bt)}var Yt=t.drawOrder;if(null==Yt&&(Yt=t.draworder),null!=Yt){for(var jt=new ln(Yt.length),Gt=n.slots.length,Ht=0,Wt=0;Wt<Yt.length;Wt++){var zt=Yt[Wt],qt=null,Zt=this.getValue(zt,"offsets",null);if(null!=Zt){qt=z.newArray(Gt,-1);for(var Kt=z.newArray(Gt-Zt.length,0),$t=0,Qt=0,Jt=0;Jt<Zt.length;Jt++){var te=Zt[Jt],ee=n.findSlotIndex(te.slot);if(-1==ee)throw new Error("Slot not found: "+te.slot);for(;$t!=ee;)Kt[Qt++]=$t++;qt[$t+te.offset]=$t++}for(;$t<Gt;)Kt[Qt++]=$t++;for(var ne=Gt-1;ne>=0;ne--)-1==qt[ne]&&(qt[ne]=Kt[--Qt])}jt.setFrame(Ht++,zt.time,qt)}r.push(jt),a=Math.max(a,jt.frames[jt.getFrameCount()-1])}if(t.events){for(var ie=new un(t.events.length),re=0,ae=0;ae<t.events.length;ae++){var oe=t.events[ae],se=n.findEvent(oe.name);if(null==se)throw new Error("Event not found: "+oe.name);var ue=new Rn(z.toSinglePrecision(oe.time),se);ue.intValue=this.getValue(oe,"int",se.intValue),ue.floatValue=this.getValue(oe,"float",se.floatValue),ue.stringValue=this.getValue(oe,"string",se.stringValue),null!=ue.data.audioPath&&(ue.volume=this.getValue(oe,"volume",1),ue.balance=this.getValue(oe,"balance",0)),ie.setFrame(re++,ue)}r.push(ie),a=Math.max(a,ie.frames[ie.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new Ke(e,r,a))}},{key:"readCurve",value:function(t,e,n){if(t.curve)if("stepped"===t.curve)e.setStepped(n);else if("[object Array]"===Object.prototype.toString.call(t.curve)){var i=t.curve;e.setCurve(n,i[0],i[1],i[2],i[3])}}},{key:"getValue",value:function(t,e,n){return void 0!==t[e]?t[e]:n}}],[{key:"blendModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return l.T$.NORMAL;if("additive"==t)return l.T$.ADD;if("multiply"==t)return l.T$.MULTIPLY;if("screen"==t)return l.T$.SCREEN;throw new Error(`Unknown blend mode: ${t}`)}},{key:"positionModeFromString",value:function(t){if("fixed"==(t=t.toLowerCase()))return Sn.Fixed;if("percent"==t)return Sn.Percent;throw new Error(`Unknown position mode: ${t}`)}},{key:"spacingModeFromString",value:function(t){if("length"==(t=t.toLowerCase()))return kn.Length;if("fixed"==t)return kn.Fixed;if("percent"==t)return kn.Percent;throw new Error(`Unknown position mode: ${t}`)}},{key:"rotateModeFromString",value:function(t){if("tangent"==(t=t.toLowerCase()))return Tn.Tangent;if("chain"==t)return Tn.Chain;if("chainscale"==t)return Tn.ChainScale;throw new Error(`Unknown rotate mode: ${t}`)}},{key:"transformModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return xn.Normal;if("onlytranslation"==t)return xn.OnlyTranslation;if("norotationorreflection"==t)return xn.NoRotationOrReflection;if("noscale"==t)return xn.NoScale;if("noscaleorreflection"==t)return xn.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${t}`)}}]),t}(),jn=function t(e,n,i,r){Le(this,t),this.mesh=e,this.skin=n,this.slotIndex=i,this.parent=r},Gn=function(t){Ce(n,t);var e=Me(n);function n(){return Le(this,n),e.apply(this,arguments)}return Ie(n,[{key:"createSkeleton",value:function(t){this.skeleton=new Ln(t),this.skeleton.updateWorldTransform(),this.stateData=new bn(t),this.state=new vn(this.stateData)}}]),n}(it);n(4765),n(5069),n(9714);function Hn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Wn(t,e,n){return e&&Hn(t.prototype,e),n&&Hn(t,n),t}function zn(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qn(t,e)}function qn(t,e){return(qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Zn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Qn(t);if(e){var r=Qn(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Kn(this,n)}}function Kn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?$n(t):e}function $n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qn(t){return(Qn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ti=function t(e){if(Jn(this,t),null==e)throw new Error("name cannot be null.");this.name=e},ei=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),n.prototype.__init3.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.id=n.nextID++}},{key:"__init2",value:function(){this.worldVerticesLength=0}},{key:"__init3",value:function(){this.deformAttachment=this}},{key:"computeWorldVerticesOld",value:function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)}},{key:"computeWorldVertices",value:function(t,e,n,i,r,a){n=r+(n>>1)*a;var o=t.bone.skeleton,s=t.deform,u=this.vertices,l=this.bones;if(null!=l){for(var h=0,c=0,f=0;f<e;f+=2){var d=l[h];h+=d+1,c+=d}var p=o.bones;if(0==s.length)for(var v=r,_=3*c;v<n;v+=a){var m=0,y=0,g=l[h++];for(g+=h;h<g;h++,_+=3){var b=p[l[h]].matrix,x=u[_],w=u[_+1],E=u[_+2];m+=(x*b.a+w*b.c+b.tx)*E,y+=(x*b.b+w*b.d+b.ty)*E}i[v]=m,i[v+1]=y}else for(var S=s,k=r,T=3*c,A=c<<1;k<n;k+=a){var R=0,I=0,C=l[h++];for(C+=h;h<C;h++,T+=3,A+=2){var P=p[l[h]].matrix,M=u[T]+S[A],O=u[T+1]+S[A+1],D=u[T+2];R+=(M*P.a+O*P.c+P.tx)*D,I+=(M*P.b+O*P.d+P.ty)*D}i[k]=R,i[k+1]=I}}else{s.length>0&&(u=s);for(var N=t.bone.matrix,L=N.tx,F=N.ty,B=N.a,V=N.c,U=N.b,X=N.d,Y=e,j=r;j<n;Y+=2,j+=a){var G=u[Y],H=u[Y+1];i[j]=G*B+H*V+L,i[j+1]=G*U+H*X+F}}}},{key:"copyTo",value:function(t){null!=this.bones?(t.bones=new Array(this.bones.length),z.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=z.newFloatArray(this.vertices.length),z.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment}}],[{key:"__initStatic",value:function(){this.nextID=0}}]),n}(ti);ei.__initStatic();var ni=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.type=o.BoundingBox}},{key:"__init2",value:function(){this.color=new Y(1,1,1,1)}},{key:"copy",value:function(){var t=new n(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t}}]),n}(ei),ii=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.type=o.Clipping}},{key:"__init2",value:function(){this.color=new Y(.2275,.2275,.8078,1)}},{key:"copy",value:function(){var t=new n(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t}}]),n}(ei),ri=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),n.prototype.__init3.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.type=o.Mesh}},{key:"__init2",value:function(){this.color=new Y(1,1,1,1)}},{key:"__init3",value:function(){this.tempColor=new Y(0,0,0,0)}},{key:"getParentMesh",value:function(){return this.parentMesh}},{key:"setParentMesh",value:function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)}},{key:"copy",value:function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Float32Array(this.regionUVs.length),z.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.triangles=new Array(this.triangles.length),z.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),z.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t}},{key:"newLinkedMesh",value:function(){var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t}}]),n}(ei),ai=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),n.prototype.__init3.call($n(i)),n.prototype.__init4.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.type=o.Path}},{key:"__init2",value:function(){this.closed=!1}},{key:"__init3",value:function(){this.constantSpeed=!1}},{key:"__init4",value:function(){this.color=new Y(1,1,1,1)}},{key:"copy",value:function(){var t=new n(this.name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),z.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t}}]),n}(ei),oi=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.type=o.Point}},{key:"__init2",value:function(){this.color=new Y(.38,.94,0,1)}},{key:"computeWorldPosition",value:function(t,e){var n=t.matrix;return e.x=this.x*n.a+this.y*n.c+t.worldX,e.y=this.x*n.b+this.y*n.d+t.worldY,e}},{key:"computeWorldRotation",value:function(t){var e=t.matrix,n=j.cosDeg(this.rotation),i=j.sinDeg(this.rotation),r=n*e.a+i*e.c,a=n*e.b+i*e.d;return Math.atan2(a,r)*j.radDeg}},{key:"copy",value:function(){var t=new n(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t}}]),n}(ei),si=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),n.prototype.__init3.call($n(i)),n.prototype.__init4.call($n(i)),n.prototype.__init5.call($n(i)),n.prototype.__init6.call($n(i)),n.prototype.__init7.call($n(i)),n.prototype.__init8.call($n(i)),n.prototype.__init9.call($n(i)),n.prototype.__init10.call($n(i)),n.prototype.__init11.call($n(i)),n.prototype.__init12.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.type=o.Region}},{key:"__init2",value:function(){this.x=0}},{key:"__init3",value:function(){this.y=0}},{key:"__init4",value:function(){this.scaleX=1}},{key:"__init5",value:function(){this.scaleY=1}},{key:"__init6",value:function(){this.rotation=0}},{key:"__init7",value:function(){this.width=0}},{key:"__init8",value:function(){this.height=0}},{key:"__init9",value:function(){this.color=new Y(1,1,1,1)}},{key:"__init10",value:function(){this.offset=z.newFloatArray(8)}},{key:"__init11",value:function(){this.uvs=z.newFloatArray(8)}},{key:"__init12",value:function(){this.tempColor=new Y(1,1,1,1)}},{key:"updateOffset",value:function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,i=-this.width/2*this.scaleX+this.region.offsetX*t,r=-this.height/2*this.scaleY+this.region.offsetY*e,a=i+this.region.width*t,o=r+this.region.height*e,s=this.rotation*Math.PI/180,u=Math.cos(s),l=Math.sin(s),h=i*u+this.x,c=i*l,f=r*u+this.y,d=r*l,p=a*u+this.x,v=a*l,_=o*u+this.y,m=o*l,y=this.offset;y[n.OX1]=h-d,y[n.OY1]=f+c,y[n.OX2]=h-m,y[n.OY2]=_+c,y[n.OX3]=p-m,y[n.OY3]=_+v,y[n.OX4]=p-d,y[n.OY4]=f+v}},{key:"setRegion",value:function(t){this.region=t;var e=this.uvs;90==t.degrees?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)}},{key:"computeWorldVertices",value:function(t,e,i,r){var a=this.offset,o=t.matrix,s=o.tx,u=o.ty,l=o.a,h=o.c,c=o.b,f=o.d,d=0,p=0;d=a[n.OX1],p=a[n.OY1],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u,i+=r,d=a[n.OX2],p=a[n.OY2],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u,i+=r,d=a[n.OX3],p=a[n.OY3],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u,i+=r,d=a[n.OX4],p=a[n.OY4],e[i]=d*l+p*h+s,e[i+1]=d*c+p*f+u}},{key:"copy",value:function(){var t=new n(this.name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,z.arrayCopy(this.uvs,0,t.uvs,0,8),z.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t}}],[{key:"__initStatic",value:function(){this.OX1=0}},{key:"__initStatic2",value:function(){this.OY1=1}},{key:"__initStatic3",value:function(){this.OX2=2}},{key:"__initStatic4",value:function(){this.OY2=3}},{key:"__initStatic5",value:function(){this.OX3=4}},{key:"__initStatic6",value:function(){this.OY3=5}},{key:"__initStatic7",value:function(){this.OX4=6}},{key:"__initStatic8",value:function(){this.OY4=7}},{key:"__initStatic9",value:function(){this.X1=0}},{key:"__initStatic10",value:function(){this.Y1=1}},{key:"__initStatic11",value:function(){this.C1R=2}},{key:"__initStatic12",value:function(){this.C1G=3}},{key:"__initStatic13",value:function(){this.C1B=4}},{key:"__initStatic14",value:function(){this.C1A=5}},{key:"__initStatic15",value:function(){this.U1=6}},{key:"__initStatic16",value:function(){this.V1=7}},{key:"__initStatic17",value:function(){this.X2=8}},{key:"__initStatic18",value:function(){this.Y2=9}},{key:"__initStatic19",value:function(){this.C2R=10}},{key:"__initStatic20",value:function(){this.C2G=11}},{key:"__initStatic21",value:function(){this.C2B=12}},{key:"__initStatic22",value:function(){this.C2A=13}},{key:"__initStatic23",value:function(){this.U2=14}},{key:"__initStatic24",value:function(){this.V2=15}},{key:"__initStatic25",value:function(){this.X3=16}},{key:"__initStatic26",value:function(){this.Y3=17}},{key:"__initStatic27",value:function(){this.C3R=18}},{key:"__initStatic28",value:function(){this.C3G=19}},{key:"__initStatic29",value:function(){this.C3B=20}},{key:"__initStatic30",value:function(){this.C3A=21}},{key:"__initStatic31",value:function(){this.U3=22}},{key:"__initStatic32",value:function(){this.V3=23}},{key:"__initStatic33",value:function(){this.X4=24}},{key:"__initStatic34",value:function(){this.Y4=25}},{key:"__initStatic35",value:function(){this.C4R=26}},{key:"__initStatic36",value:function(){this.C4G=27}},{key:"__initStatic37",value:function(){this.C4B=28}},{key:"__initStatic38",value:function(){this.C4A=29}},{key:"__initStatic39",value:function(){this.U4=30}},{key:"__initStatic40",value:function(){this.V4=31}}]),n}(ti);si.__initStatic(),si.__initStatic2(),si.__initStatic3(),si.__initStatic4(),si.__initStatic5(),si.__initStatic6(),si.__initStatic7(),si.__initStatic8(),si.__initStatic9(),si.__initStatic10(),si.__initStatic11(),si.__initStatic12(),si.__initStatic13(),si.__initStatic14(),si.__initStatic15(),si.__initStatic16(),si.__initStatic17(),si.__initStatic18(),si.__initStatic19(),si.__initStatic20(),si.__initStatic21(),si.__initStatic22(),si.__initStatic23(),si.__initStatic24(),si.__initStatic25(),si.__initStatic26(),si.__initStatic27(),si.__initStatic28(),si.__initStatic29(),si.__initStatic30(),si.__initStatic31(),si.__initStatic32(),si.__initStatic33(),si.__initStatic34(),si.__initStatic35(),si.__initStatic36(),si.__initStatic37(),si.__initStatic38(),si.__initStatic39(),si.__initStatic40();var ui=function(){function t(e,n){Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),this.jitterX=e,this.jitterY=n}return Wn(t,[{key:"__init",value:function(){this.jitterX=0}},{key:"__init2",value:function(){this.jitterY=0}},{key:"begin",value:function(t){}},{key:"transform",value:function(t,e,n,i){t.x+=j.randomTriangular(-this.jitterX,this.jitterY),t.y+=j.randomTriangular(-this.jitterX,this.jitterY)}},{key:"end",value:function(){}}]),t}(),li=function(){function t(e){Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),this.radius=e}return Wn(t,[{key:"__init",value:function(){this.centerX=0}},{key:"__init2",value:function(){this.centerY=0}},{key:"__init3",value:function(){this.radius=0}},{key:"__init4",value:function(){this.angle=0}},{key:"__init5",value:function(){this.worldX=0}},{key:"__init6",value:function(){this.worldY=0}},{key:"begin",value:function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY}},{key:"transform",value:function(e,n,i,r){var a=this.angle*j.degreesToRadians,o=e.x-this.worldX,s=e.y-this.worldY,u=Math.sqrt(o*o+s*s);if(u<this.radius){var l=t.interpolation.apply(0,a,(this.radius-u)/this.radius),h=Math.cos(l),c=Math.sin(l);e.x=h*o-c*s+this.worldX,e.y=c*o+h*s+this.worldY}}},{key:"end",value:function(){}}],[{key:"__initStatic",value:function(){this.interpolation=new W(2)}}]),t}();li.__initStatic();var hi,ci,fi,di=function(){function t(e,n,i){if(Jn(this,t),null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("timelines cannot be null.");this.name=e,this.timelines=n,this.timelineIds=new X;for(var r=0;r<n.length;r++)this.timelineIds.addAll(n[r].getPropertyIds());this.duration=i}return Wn(t,[{key:"hasTimeline",value:function(t){for(var e=0;e<t.length;e++)if(this.timelineIds.contains(t[e]))return!0;return!1}},{key:"apply",value:function(t,e,n,i,r,a,o,s){if(null==t)throw new Error("skeleton cannot be null.");i&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,l=0,h=u.length;l<h;l++)u[l].apply(t,e,n,r,a,o,s)}}],[{key:"search",value:function(t,e){for(var n=t.length,i=1;i<n;i++)if(t[i]>e)return i-1;return n-1}},{key:"search2",value:function(t,e,n){for(var i=t.length,r=n;r<i;r+=n)if(t[r]>e)return r-n;return i-n}}]),t}();!function(t){t[t.setup=0]="setup";t[t.first=1]="first";t[t.replace=2]="replace";t[t.add=3]="add"}(hi||(hi={})),function(t){t[t.mixIn=0]="mixIn";t[t.mixOut=1]="mixOut"}(ci||(ci={})),function(t){t[t.rotate=0]="rotate";t[t.x=1]="x";t[t.y=2]="y";t[t.scaleX=3]="scaleX";t[t.scaleY=4]="scaleY";t[t.shearX=5]="shearX";t[t.shearY=6]="shearY";t[t.rgb=7]="rgb";t[t.alpha=8]="alpha";t[t.rgb2=9]="rgb2";t[t.attachment=10]="attachment";t[t.deform=11]="deform";t[t.event=12]="event";t[t.drawOrder=13]="drawOrder";t[t.ikConstraint=14]="ikConstraint";t[t.transformConstraint=15]="transformConstraint";t[t.pathConstraintPosition=16]="pathConstraintPosition";t[t.pathConstraintSpacing=17]="pathConstraintSpacing";t[t.pathConstraintMix=18]="pathConstraintMix"}(fi||(fi={}));var pi=function(){function t(e,n){Jn(this,t),this.propertyIds=n,this.frames=z.newFloatArray(e*this.getFrameEntries())}return Wn(t,[{key:"getPropertyIds",value:function(){return this.propertyIds}},{key:"getFrameCount",value:function(){return this.frames.length/this.getFrameEntries()}},{key:"getDuration",value:function(){return this.frames[this.frames.length-this.getFrameEntries()]}}]),t}(),vi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),(a=e.call(this,t,r)).curves=z.newFloatArray(t+i*n.BEZIER_SIZE),a.curves[t-1]=n.STEPPED,a}return Wn(n,[{key:"setLinear",value:function(t){this.curves[t]=n.LINEAR}},{key:"setStepped",value:function(t){this.curves[t]=n.STEPPED}},{key:"shrink",value:function(t){var e=this.getFrameCount()+t*n.BEZIER_SIZE;if(this.curves.length>e){var i=z.newFloatArray(e);z.arrayCopy(this.curves,0,i,0,e),this.curves=i}}},{key:"setBezier",value:function(t,e,i,r,a,o,s,u,l,h,c){var f=this.curves,d=this.getFrameCount()+t*n.BEZIER_SIZE;0==i&&(f[e]=n.BEZIER+d);for(var p=.03*(r-2*o+u),v=.03*(a-2*s+l),_=.006*(3*(o-u)-r+h),m=.006*(3*(s-l)-a+c),y=2*p+_,g=2*v+m,b=.3*(o-r)+p+.16666667*_,x=.3*(s-a)+v+.16666667*m,w=r+b,E=a+x,S=d+n.BEZIER_SIZE;d<S;d+=2)f[d]=w,f[d+1]=E,b+=y,x+=g,y+=_,g+=m,w+=b,E+=x}},{key:"getBezierValue",value:function(t,e,i,r){var a=this.curves,o=this.frames;if(a[r]>t){var s=o[e],u=o[e+i];return u+(t-s)/(a[r]-s)*(a[r+1]-u)}var l=r+n.BEZIER_SIZE;for(r+=2;r<l;r+=2)if(a[r]>=t){var h=a[r-2],c=a[r-1];return c+(t-h)/(a[r]-h)*(a[r+1]-c)}e+=this.getFrameEntries();var f=a[l-2],d=a[l-1];return d+(t-f)/(o[e]-f)*(o[e+i]-d)}}],[{key:"__initStatic",value:function(){this.LINEAR=0}},{key:"__initStatic2",value:function(){this.STEPPED=1}},{key:"__initStatic3",value:function(){this.BEZIER=2}},{key:"__initStatic4",value:function(){this.BEZIER_SIZE=18}}]),n}(pi);vi.__initStatic(),vi.__initStatic2(),vi.__initStatic3(),vi.__initStatic4();var _i=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){return Jn(this,n),e.call(this,t,i,r)}return Wn(n,[{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"setFrame",value:function(t,e,i){t<<=1,this.frames[t]=e,this.frames[t+n.VALUE]=i}},{key:"getCurveValue",value:function(t){for(var e=this.frames,i=e.length-2,r=2;r<=i;r+=2)if(e[r]>t){i=r-2;break}var a=this.curves[i>>1];switch(a){case vi.LINEAR:var o=e[i],s=e[i+n.VALUE];return s+(t-o)/(e[i+n.ENTRIES]-o)*(e[i+n.ENTRIES+n.VALUE]-s);case vi.STEPPED:return e[i+n.VALUE]}return this.getBezierValue(t,i,n.VALUE,a-n.BEZIER)}}],[{key:"__initStatic5",value:function(){this.ENTRIES=2}},{key:"__initStatic6",value:function(){this.VALUE=1}}]),n}(vi);_i.__initStatic5(),_i.__initStatic6();var mi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){return Jn(this,n),e.call(this,t,i,r)}return Wn(n,[{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"setFrame",value:function(t,e,i,r){t*=n.ENTRIES;var a=this.frames;a[t]=e,a[t+n.VALUE1]=i,a[t+n.VALUE2]=r}}],[{key:"__initStatic7",value:function(){this.ENTRIES=3}},{key:"__initStatic8",value:function(){this.VALUE1=1}},{key:"__initStatic9",value:function(){this.VALUE2=2}}]),n}(vi);mi.__initStatic7(),mi.__initStatic8(),mi.__initStatic9();var yi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.rotate+"|"+r]),n.prototype.__init.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return void(u.rotation=u.data.rotation);case hi.first:u.rotation+=(u.data.rotation-u.rotation)*r}else{var l=this.getCurveValue(n);switch(a){case hi.setup:u.rotation=u.data.rotation+l*r;break;case hi.first:case hi.replace:l+=u.data.rotation-u.rotation;case hi.add:u.rotation+=l*r}}}}]),n}(_i),gi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.x+"|"+r,fi.y+"|"+r]),n.prototype.__init2.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init2",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return u.x=u.data.x,void(u.y=u.data.y);case hi.first:u.x+=(u.data.x-u.x)*r,u.y+=(u.data.y-u.y)*r}else{var l=0,h=0,c=di.search2(s,n,mi.ENTRIES),f=this.curves[c/mi.ENTRIES];switch(f){case vi.LINEAR:var d=s[c];l=s[c+mi.VALUE1],h=s[c+mi.VALUE2];var p=(n-d)/(s[c+mi.ENTRIES]-d);l+=(s[c+mi.ENTRIES+mi.VALUE1]-l)*p,h+=(s[c+mi.ENTRIES+mi.VALUE2]-h)*p;break;case vi.STEPPED:l=s[c+mi.VALUE1],h=s[c+mi.VALUE2];break;default:l=this.getBezierValue(n,c,mi.VALUE1,f-vi.BEZIER),h=this.getBezierValue(n,c,mi.VALUE2,f+vi.BEZIER_SIZE-vi.BEZIER)}switch(a){case hi.setup:u.x=u.data.x+l*r,u.y=u.data.y+h*r;break;case hi.first:case hi.replace:u.x+=(u.data.x+l-u.x)*r,u.y+=(u.data.y+h-u.y)*r;break;case hi.add:u.x+=l*r,u.y+=h*r}}}}]),n}(mi),bi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.x+"|"+r]),n.prototype.__init3.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init3",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return void(u.x=u.data.x);case hi.first:u.x+=(u.data.x-u.x)*r}else{var l=this.getCurveValue(n);switch(a){case hi.setup:u.x=u.data.x+l*r;break;case hi.first:case hi.replace:u.x+=(u.data.x+l-u.x)*r;break;case hi.add:u.x+=l*r}}}}]),n}(_i),xi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.y+"|"+r]),n.prototype.__init4.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init4",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return void(u.y=u.data.y);case hi.first:u.y+=(u.data.y-u.y)*r}else{var l=this.getCurveValue(n);switch(a){case hi.setup:u.y=u.data.y+l*r;break;case hi.first:case hi.replace:u.y+=(u.data.y+l-u.y)*r;break;case hi.add:u.y+=l*r}}}}]),n}(_i),wi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.scaleX+"|"+r,fi.scaleY+"|"+r]),n.prototype.__init5.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init5",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return u.scaleX=u.data.scaleX,void(u.scaleY=u.data.scaleY);case hi.first:u.scaleX+=(u.data.scaleX-u.scaleX)*r,u.scaleY+=(u.data.scaleY-u.scaleY)*r}else{var l=0,h=0,c=di.search2(s,n,mi.ENTRIES),f=this.curves[c/mi.ENTRIES];switch(f){case vi.LINEAR:var d=s[c];l=s[c+mi.VALUE1],h=s[c+mi.VALUE2];var p=(n-d)/(s[c+mi.ENTRIES]-d);l+=(s[c+mi.ENTRIES+mi.VALUE1]-l)*p,h+=(s[c+mi.ENTRIES+mi.VALUE2]-h)*p;break;case vi.STEPPED:l=s[c+mi.VALUE1],h=s[c+mi.VALUE2];break;default:l=this.getBezierValue(n,c,mi.VALUE1,f-mi.BEZIER),h=this.getBezierValue(n,c,mi.VALUE2,f+mi.BEZIER_SIZE-mi.BEZIER)}if(l*=u.data.scaleX,h*=u.data.scaleY,1==r)a==hi.add?(u.scaleX+=l-u.data.scaleX,u.scaleY+=h-u.data.scaleY):(u.scaleX=l,u.scaleY=h);else{var v=0,_=0;if(o==ci.mixOut)switch(a){case hi.setup:v=u.data.scaleX,_=u.data.scaleY,u.scaleX=v+(Math.abs(l)*j.signum(v)-v)*r,u.scaleY=_+(Math.abs(h)*j.signum(_)-_)*r;break;case hi.first:case hi.replace:v=u.scaleX,_=u.scaleY,u.scaleX=v+(Math.abs(l)*j.signum(v)-v)*r,u.scaleY=_+(Math.abs(h)*j.signum(_)-_)*r;break;case hi.add:v=u.scaleX,_=u.scaleY,u.scaleX=v+(Math.abs(l)*j.signum(v)-u.data.scaleX)*r,u.scaleY=_+(Math.abs(h)*j.signum(_)-u.data.scaleY)*r}else switch(a){case hi.setup:v=Math.abs(u.data.scaleX)*j.signum(l),_=Math.abs(u.data.scaleY)*j.signum(h),u.scaleX=v+(l-v)*r,u.scaleY=_+(h-_)*r;break;case hi.first:case hi.replace:v=Math.abs(u.scaleX)*j.signum(l),_=Math.abs(u.scaleY)*j.signum(h),u.scaleX=v+(l-v)*r,u.scaleY=_+(h-_)*r;break;case hi.add:v=j.signum(l),_=j.signum(h),u.scaleX=Math.abs(u.scaleX)*v+(l-Math.abs(u.data.scaleX)*v)*r,u.scaleY=Math.abs(u.scaleY)*_+(h-Math.abs(u.data.scaleY)*_)*r}}}}}]),n}(mi),Ei=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.scaleX+"|"+r]),n.prototype.__init6.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init6",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return void(u.scaleX=u.data.scaleX);case hi.first:u.scaleX+=(u.data.scaleX-u.scaleX)*r}else{var l=this.getCurveValue(n)*u.data.scaleX;if(1==r)a==hi.add?u.scaleX+=l-u.data.scaleX:u.scaleX=l;else{var h=0;if(o==ci.mixOut)switch(a){case hi.setup:h=u.data.scaleX,u.scaleX=h+(Math.abs(l)*j.signum(h)-h)*r;break;case hi.first:case hi.replace:h=u.scaleX,u.scaleX=h+(Math.abs(l)*j.signum(h)-h)*r;break;case hi.add:h=u.scaleX,u.scaleX=h+(Math.abs(l)*j.signum(h)-u.data.scaleX)*r}else switch(a){case hi.setup:h=Math.abs(u.data.scaleX)*j.signum(l),u.scaleX=h+(l-h)*r;break;case hi.first:case hi.replace:h=Math.abs(u.scaleX)*j.signum(l),u.scaleX=h+(l-h)*r;break;case hi.add:h=j.signum(l),u.scaleX=Math.abs(u.scaleX)*h+(l-Math.abs(u.data.scaleX)*h)*r}}}}}]),n}(_i),Si=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.scaleY+"|"+r]),n.prototype.__init7.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init7",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return void(u.scaleY=u.data.scaleY);case hi.first:u.scaleY+=(u.data.scaleY-u.scaleY)*r}else{var l=this.getCurveValue(n)*u.data.scaleY;if(1==r)a==hi.add?u.scaleY+=l-u.data.scaleY:u.scaleY=l;else{var h=0;if(o==ci.mixOut)switch(a){case hi.setup:h=u.data.scaleY,u.scaleY=h+(Math.abs(l)*j.signum(h)-h)*r;break;case hi.first:case hi.replace:h=u.scaleY,u.scaleY=h+(Math.abs(l)*j.signum(h)-h)*r;break;case hi.add:h=u.scaleY,u.scaleY=h+(Math.abs(l)*j.signum(h)-u.data.scaleY)*r}else switch(a){case hi.setup:h=Math.abs(u.data.scaleY)*j.signum(l),u.scaleY=h+(l-h)*r;break;case hi.first:case hi.replace:h=Math.abs(u.scaleY)*j.signum(l),u.scaleY=h+(l-h)*r;break;case hi.add:h=j.signum(l),u.scaleY=Math.abs(u.scaleY)*h+(l-Math.abs(u.data.scaleY)*h)*r}}}}}]),n}(_i),ki=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.shearX+"|"+r,fi.shearY+"|"+r]),n.prototype.__init8.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init8",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return u.shearX=u.data.shearX,void(u.shearY=u.data.shearY);case hi.first:u.shearX+=(u.data.shearX-u.shearX)*r,u.shearY+=(u.data.shearY-u.shearY)*r}else{var l=0,h=0,c=di.search2(s,n,mi.ENTRIES),f=this.curves[c/mi.ENTRIES];switch(f){case mi.LINEAR:var d=s[c];l=s[c+mi.VALUE1],h=s[c+mi.VALUE2];var p=(n-d)/(s[c+mi.ENTRIES]-d);l+=(s[c+mi.ENTRIES+mi.VALUE1]-l)*p,h+=(s[c+mi.ENTRIES+mi.VALUE2]-h)*p;break;case mi.STEPPED:l=s[c+mi.VALUE1],h=s[c+mi.VALUE2];break;default:l=this.getBezierValue(n,c,mi.VALUE1,f-mi.BEZIER),h=this.getBezierValue(n,c,mi.VALUE2,f+mi.BEZIER_SIZE-mi.BEZIER)}switch(a){case hi.setup:u.shearX=u.data.shearX+l*r,u.shearY=u.data.shearY+h*r;break;case hi.first:case hi.replace:u.shearX+=(u.data.shearX+l-u.shearX)*r,u.shearY+=(u.data.shearY+h-u.shearY)*r;break;case hi.add:u.shearX+=l*r,u.shearY+=h*r}}}}]),n}(mi),Ti=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.shearX+"|"+r]),n.prototype.__init9.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init9",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return void(u.shearX=u.data.shearX);case hi.first:u.shearX+=(u.data.shearX-u.shearX)*r}else{var l=this.getCurveValue(n);switch(a){case hi.setup:u.shearX=u.data.shearX+l*r;break;case hi.first:case hi.replace:u.shearX+=(u.data.shearX+l-u.shearX)*r;break;case hi.add:u.shearX+=l*r}}}}]),n}(_i),Ai=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.shearY+"|"+r]),n.prototype.__init10.call($n(a)),a.boneIndex=r,a}return Wn(n,[{key:"__init10",value:function(){this.boneIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.bones[this.boneIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return void(u.shearY=u.data.shearY);case hi.first:u.shearY+=(u.data.shearY-u.shearY)*r}else{var l=this.getCurveValue(n);switch(a){case hi.setup:u.shearY=u.data.shearY+l*r;break;case hi.first:case hi.replace:u.shearY+=(u.data.shearY+l-u.shearY)*r;break;case hi.add:u.shearY+=l*r}}}}]),n}(_i),Ri=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.rgb+"|"+r,fi.alpha+"|"+r]),n.prototype.__init11.call($n(a)),a.slotIndex=r,a}return Wn(n,[{key:"__init11",value:function(){this.slotIndex=0}},{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"setFrame",value:function(t,e,i,r,a,o){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.R]=i,this.frames[t+n.G]=r,this.frames[t+n.B]=a,this.frames[t+n.A]=o}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=t.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(i<l[0]){var h=u.color,c=u.data.color;switch(o){case hi.setup:return void h.setFromColor(u.data.color);case hi.first:h.add((c.r-h.r)*a,(c.g-h.g)*a,(c.b-h.b)*a,(c.a-h.a)*a)}}else{var f=0,d=0,p=0,v=0,_=di.search2(l,i,n.ENTRIES),m=this.curves[_/n.ENTRIES];switch(m){case n.LINEAR:var y=l[_];f=l[_+n.R],d=l[_+n.G],p=l[_+n.B],v=l[_+n.A];var g=(i-y)/(l[_+n.ENTRIES]-y);f+=(l[_+n.ENTRIES+n.R]-f)*g,d+=(l[_+n.ENTRIES+n.G]-d)*g,p+=(l[_+n.ENTRIES+n.B]-p)*g,v+=(l[_+n.ENTRIES+n.A]-v)*g;break;case n.STEPPED:f=l[_+n.R],d=l[_+n.G],p=l[_+n.B],v=l[_+n.A];break;default:f=this.getBezierValue(i,_,n.R,m-n.BEZIER),d=this.getBezierValue(i,_,n.G,m+n.BEZIER_SIZE-n.BEZIER),p=this.getBezierValue(i,_,n.B,m+2*n.BEZIER_SIZE-n.BEZIER),v=this.getBezierValue(i,_,n.A,m+3*n.BEZIER_SIZE-n.BEZIER)}var b=u.color;1==a?b.set(f,d,p,v):(o==hi.setup&&b.setFromColor(u.data.color),b.add((f-b.r)*a,(d-b.g)*a,(p-b.b)*a,(v-b.a)*a))}}}}],[{key:"__initStatic10",value:function(){this.ENTRIES=5}},{key:"__initStatic11",value:function(){this.R=1}},{key:"__initStatic12",value:function(){this.G=2}},{key:"__initStatic13",value:function(){this.B=3}},{key:"__initStatic14",value:function(){this.A=4}}]),n}(vi);Ri.__initStatic10(),Ri.__initStatic11(),Ri.__initStatic12(),Ri.__initStatic13(),Ri.__initStatic14();var Ii=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.rgb+"|"+r]),n.prototype.__init12.call($n(a)),a.slotIndex=r,a}return Wn(n,[{key:"__init12",value:function(){this.slotIndex=0}},{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"setFrame",value:function(t,e,i,r,a){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.R]=i,this.frames[t+n.G]=r,this.frames[t+n.B]=a}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=t.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(i<l[0]){var h=u.color,c=u.data.color;switch(o){case hi.setup:return h.r=c.r,h.g=c.g,void(h.b=c.b);case hi.first:h.r+=(c.r-h.r)*a,h.g+=(c.g-h.g)*a,h.b+=(c.b-h.b)*a}}else{var f=0,d=0,p=0,v=di.search2(l,i,n.ENTRIES),_=this.curves[v/n.ENTRIES];switch(_){case n.LINEAR:var m=l[v];f=l[v+n.R],d=l[v+n.G],p=l[v+n.B];var y=(i-m)/(l[v+n.ENTRIES]-m);f+=(l[v+n.ENTRIES+n.R]-f)*y,d+=(l[v+n.ENTRIES+n.G]-d)*y,p+=(l[v+n.ENTRIES+n.B]-p)*y;break;case Ri.STEPPED:f=l[v+n.R],d=l[v+n.G],p=l[v+n.B];break;default:f=this.getBezierValue(i,v,n.R,_-n.BEZIER),d=this.getBezierValue(i,v,n.G,_+n.BEZIER_SIZE-n.BEZIER),p=this.getBezierValue(i,v,n.B,_+2*n.BEZIER_SIZE-n.BEZIER)}var g=u.color;if(1==a)g.r=f,g.g=d,g.b=p;else{if(o==hi.setup){var b=u.data.color;g.r=b.r,g.g=b.g,g.b=b.b}g.r+=(f-g.r)*a,g.g+=(d-g.g)*a,g.b+=(p-g.b)*a}}}}}],[{key:"__initStatic15",value:function(){this.ENTRIES=4}},{key:"__initStatic16",value:function(){this.R=1}},{key:"__initStatic17",value:function(){this.G=2}},{key:"__initStatic18",value:function(){this.B=3}}]),n}(vi);Ii.__initStatic15(),Ii.__initStatic16(),Ii.__initStatic17(),Ii.__initStatic18();var Ci=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.alpha+"|"+r]),n.prototype.__init13.call($n(a)),a.slotIndex=r,a}return Wn(n,[{key:"__init13",value:function(){this.slotIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.slots[this.slotIndex];if(u.bone.active)if(n<s[0]){var l=u.color,h=u.data.color;switch(a){case hi.setup:return void(l.a=h.a);case hi.first:l.a+=(h.a-l.a)*r}}else{var c=this.getCurveValue(n);1==r?u.color.a=c:(a==hi.setup&&(u.color.a=u.data.color.a),u.color.a+=(c-u.color.a)*r)}}}]),n}(_i),Pi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.rgb+"|"+r,fi.alpha+"|"+r,fi.rgb2+"|"+r]),n.prototype.__init14.call($n(a)),a.slotIndex=r,a}return Wn(n,[{key:"__init14",value:function(){this.slotIndex=0}},{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"setFrame",value:function(t,e,i,r,a,o,s,u,l){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.R]=i,this.frames[t+n.G]=r,this.frames[t+n.B]=a,this.frames[t+n.A]=o,this.frames[t+n.R2]=s,this.frames[t+n.G2]=u,this.frames[t+n.B2]=l}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=t.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(i<l[0]){var h=u.color,c=u.darkColor,f=u.data.color,d=u.data.darkColor;switch(o){case hi.setup:return h.setFromColor(f),c.r=d.r,c.g=d.g,void(c.b=d.b);case hi.first:h.add((f.r-h.r)*a,(f.g-h.g)*a,(f.b-h.b)*a,(f.a-h.a)*a),c.r+=(d.r-c.r)*a,c.g+=(d.g-c.g)*a,c.b+=(d.b-c.b)*a}}else{var p=0,v=0,_=0,m=0,y=0,g=0,b=0,x=di.search2(l,i,n.ENTRIES),w=this.curves[x>>3];switch(w){case n.LINEAR:var E=l[x];p=l[x+n.R],v=l[x+n.G],_=l[x+n.B],m=l[x+n.A],y=l[x+n.R2],g=l[x+n.G2],b=l[x+n.B2];var S=(i-E)/(l[x+n.ENTRIES]-E);p+=(l[x+n.ENTRIES+n.R]-p)*S,v+=(l[x+n.ENTRIES+n.G]-v)*S,_+=(l[x+n.ENTRIES+n.B]-_)*S,m+=(l[x+n.ENTRIES+n.A]-m)*S,y+=(l[x+n.ENTRIES+n.R2]-y)*S,g+=(l[x+n.ENTRIES+n.G2]-g)*S,b+=(l[x+n.ENTRIES+n.B2]-b)*S;break;case n.STEPPED:p=l[x+n.R],v=l[x+n.G],_=l[x+n.B],m=l[x+n.A],y=l[x+n.R2],g=l[x+n.G2],b=l[x+n.B2];break;default:p=this.getBezierValue(i,x,n.R,w-n.BEZIER),v=this.getBezierValue(i,x,n.G,w+n.BEZIER_SIZE-n.BEZIER),_=this.getBezierValue(i,x,n.B,w+2*n.BEZIER_SIZE-n.BEZIER),m=this.getBezierValue(i,x,n.A,w+3*n.BEZIER_SIZE-n.BEZIER),y=this.getBezierValue(i,x,n.R2,w+4*n.BEZIER_SIZE-n.BEZIER),g=this.getBezierValue(i,x,n.G2,w+5*n.BEZIER_SIZE-n.BEZIER),b=this.getBezierValue(i,x,n.B2,w+6*n.BEZIER_SIZE-n.BEZIER)}var k=u.color,T=u.darkColor;1==a?(k.set(p,v,_,m),T.r=y,T.g=g,T.b=b):(o==hi.setup&&(k.setFromColor(u.data.color),T.setFromColor(u.data.darkColor)),k.add((p-k.r)*a,(v-k.g)*a,(_-k.b)*a,(m-k.a)*a),T.r+=(y-T.r)*a,T.g+=(g-T.g)*a,T.b+=(b-T.b)*a)}}}}],[{key:"__initStatic19",value:function(){this.ENTRIES=8}},{key:"__initStatic20",value:function(){this.R=1}},{key:"__initStatic21",value:function(){this.G=2}},{key:"__initStatic22",value:function(){this.B=3}},{key:"__initStatic23",value:function(){this.A=4}},{key:"__initStatic24",value:function(){this.R2=5}},{key:"__initStatic25",value:function(){this.G2=6}},{key:"__initStatic26",value:function(){this.B2=7}}]),n}(vi);Pi.__initStatic19(),Pi.__initStatic20(),Pi.__initStatic21(),Pi.__initStatic22(),Pi.__initStatic23(),Pi.__initStatic24(),Pi.__initStatic25(),Pi.__initStatic26();var Mi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.rgb+"|"+r,fi.rgb2+"|"+r]),n.prototype.__init15.call($n(a)),a.slotIndex=r,a}return Wn(n,[{key:"__init15",value:function(){this.slotIndex=0}},{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"setFrame",value:function(t,e,i,r,a,o,s,u){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.R]=i,this.frames[t+n.G]=r,this.frames[t+n.B]=a,this.frames[t+n.R2]=o,this.frames[t+n.G2]=s,this.frames[t+n.B2]=u}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=t.slots[this.slotIndex];if(u.bone.active){var l=this.frames;if(i<l[0]){var h=u.color,c=u.darkColor,f=u.data.color,d=u.data.darkColor;switch(o){case hi.setup:return h.r=f.r,h.g=f.g,h.b=f.b,c.r=d.r,c.g=d.g,void(c.b=d.b);case hi.first:h.r+=(f.r-h.r)*a,h.g+=(f.g-h.g)*a,h.b+=(f.b-h.b)*a,c.r+=(d.r-c.r)*a,c.g+=(d.g-c.g)*a,c.b+=(d.b-c.b)*a}}else{var p=0,v=0,_=0,m=0,y=0,g=0,b=di.search2(l,i,n.ENTRIES),x=this.curves[b>>3];switch(x){case n.LINEAR:var w=l[b];p=l[b+n.R],v=l[b+n.G],_=l[b+n.B],m=l[b+n.R2],y=l[b+n.G2],g=l[b+n.B2];var E=(i-w)/(l[b+n.ENTRIES]-w);p+=(l[b+n.ENTRIES+n.R]-p)*E,v+=(l[b+n.ENTRIES+n.G]-v)*E,_+=(l[b+n.ENTRIES+n.B]-_)*E,m+=(l[b+n.ENTRIES+n.R2]-m)*E,y+=(l[b+n.ENTRIES+n.G2]-y)*E,g+=(l[b+n.ENTRIES+n.B2]-g)*E;break;case n.STEPPED:p=l[b+n.R],v=l[b+n.G],_=l[b+n.B],m=l[b+n.R2],y=l[b+n.G2],g=l[b+n.B2];break;default:p=this.getBezierValue(i,b,n.R,x-n.BEZIER),v=this.getBezierValue(i,b,n.G,x+n.BEZIER_SIZE-n.BEZIER),_=this.getBezierValue(i,b,n.B,x+2*n.BEZIER_SIZE-n.BEZIER),m=this.getBezierValue(i,b,n.R2,x+3*n.BEZIER_SIZE-n.BEZIER),y=this.getBezierValue(i,b,n.G2,x+4*n.BEZIER_SIZE-n.BEZIER),g=this.getBezierValue(i,b,n.B2,x+5*n.BEZIER_SIZE-n.BEZIER)}var S=u.color,k=u.darkColor;if(1==a)S.r=p,S.g=v,S.b=_,k.r=m,k.g=y,k.b=g;else{if(o==hi.setup){var T=u.data.color,A=u.data.darkColor;S.r=T.r,S.g=T.g,S.b=T.b,k.r=A.r,k.g=A.g,k.b=A.b}S.r+=(p-S.r)*a,S.g+=(v-S.g)*a,S.b+=(_-S.b)*a,k.r+=(m-k.r)*a,k.g+=(y-k.g)*a,k.b+=(g-k.b)*a}}}}}],[{key:"__initStatic27",value:function(){this.ENTRIES=7}},{key:"__initStatic28",value:function(){this.R=1}},{key:"__initStatic29",value:function(){this.G=2}},{key:"__initStatic30",value:function(){this.B=3}},{key:"__initStatic31",value:function(){this.R2=4}},{key:"__initStatic32",value:function(){this.G2=5}},{key:"__initStatic33",value:function(){this.B2=6}}]),n}(vi);Mi.__initStatic27(),Mi.__initStatic28(),Mi.__initStatic29(),Mi.__initStatic30(),Mi.__initStatic31(),Mi.__initStatic32(),Mi.__initStatic33();var Oi=function(t){zn(n,t);var e=Zn(n);function n(t,i){var r;return Jn(this,n),r=e.call(this,t,[fi.attachment+"|"+i]),n.prototype.__init16.call($n(r)),r.slotIndex=i,r.attachmentNames=new Array(t),r}return Wn(n,[{key:"__init16",value:function(){this.slotIndex=0}},{key:"getFrameEntries",value:function(){return 1}},{key:"getFrameCount",value:function(){return this.frames.length}},{key:"setFrame",value:function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=t.slots[this.slotIndex];if(s.bone.active)if(o!=ci.mixOut){var u=this.frames;n<u[0]?a!=hi.setup&&a!=hi.first||this.setAttachment(t,s,s.data.attachmentName):this.setAttachment(t,s,this.attachmentNames[di.search(u,n)])}else a==hi.setup&&this.setAttachment(t,s,s.data.attachmentName)}},{key:"setAttachment",value:function(t,e,n){e.setAttachment(null==n?null:t.getAttachment(this.slotIndex,n))}}]),n}(pi),Di=null,Ni=function(t){zn(n,t);var e=Zn(n);function n(t,i,r,a){var o;return Jn(this,n),o=e.call(this,t,i,[fi.deform+"|"+r+"|"+a.id]),n.prototype.__init17.call($n(o)),o.slotIndex=r,o.attachment=a,o.vertices=new Array(t),null==Di&&(Di=z.newFloatArray(64)),o}return Wn(n,[{key:"__init17",value:function(){this.slotIndex=0}},{key:"getFrameEntries",value:function(){return 1}},{key:"setFrame",value:function(t,e,n){this.frames[t]=e,this.vertices[t]=n}},{key:"setBezier",value:function(t,e,i,r,a,o,s,u,l,h,c){var f=this.curves,d=this.getFrameCount()+t*n.BEZIER_SIZE;0==i&&(f[e]=n.BEZIER+d);for(var p=.03*(r-2*o+u),v=.03*l-.06*s,_=.006*(3*(o-u)-r+h),m=.018*(s-l+.33333333),y=2*p+_,g=2*v+m,b=.3*(o-r)+p+.16666667*_,x=.3*s+v+.16666667*m,w=r+b,E=x,S=d+n.BEZIER_SIZE;d<S;d+=2)f[d]=w,f[d+1]=E,b+=y,x+=g,y+=_,g+=m,w+=b,E+=x}},{key:"getCurvePercent",value:function(t,e){var i=this.curves,r=this.frames,a=i[e];switch(a){case n.LINEAR:var o=r[e];return(t-o)/(r[e+this.getFrameEntries()]-o);case n.STEPPED:return 0}if(i[a-=n.BEZIER]>t){var s=r[e];return i[a+1]*(t-s)/(i[a]-s)}var u=a+n.BEZIER_SIZE;for(a+=2;a<u;a+=2)if(i[a]>=t){var l=i[a-2],h=i[a-1];return h+(t-l)/(i[a]-l)*(i[a+1]-h)}var c=i[u-2],f=i[u-1];return f+(1-f)*(t-c)/(r[e+this.getFrameEntries()]-c)}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=t.slots[this.slotIndex];if(s.bone.active){var u=s.getAttachment();if(u instanceof ei&&u.deformAttachment==this.attachment){var l=s.deform;0==l.length&&(a=hi.setup);var h=this.vertices,c=h[0].length,f=this.frames;if(n<f[0]){var d=u;switch(a){case hi.setup:return void(l.length=0);case hi.first:if(1==r){l.length=0;break}var p=z.setArraySize(l,c);if(null==d.bones)for(var v=d.vertices,_=0;_<c;_++)p[_]+=(v[_]-p[_])*r;else{r=1-r;for(_=0;_<c;_++)p[_]*=r}}}else{var m=z.setArraySize(l,c);if(n>=f[f.length-1]){var y=h[f.length-1];if(1==r)if(a==hi.add){var g=u;if(null==g.bones)for(var b=g.vertices,x=0;x<c;x++)m[x]+=y[x]-b[x];else for(var w=0;w<c;w++)m[w]+=y[w]}else z.arrayCopy(y,0,m,0,c);else switch(a){case hi.setup:var E=u;if(null==E.bones)for(var S=E.vertices,k=0;k<c;k++){var T=S[k];m[k]=T+(y[k]-T)*r}else for(var A=0;A<c;A++)m[A]=y[A]*r;break;case hi.first:case hi.replace:for(var R=0;R<c;R++)m[R]+=(y[R]-m[R])*r;break;case hi.add:var I=u;if(null==I.bones)for(var C=I.vertices,P=0;P<c;P++)m[P]+=(y[P]-C[P])*r;else for(var M=0;M<c;M++)m[M]+=y[M]*r}}else{var O=di.search(f,n),D=this.getCurvePercent(n,O),N=h[O],L=h[O+1];if(1==r)if(a==hi.add){var F=u;if(null==F.bones)for(var B=F.vertices,V=0;V<c;V++){var U=N[V];m[V]+=U+(L[V]-U)*D-B[V]}else for(var X=0;X<c;X++){var Y=N[X];m[X]+=Y+(L[X]-Y)*D}}else for(var j=0;j<c;j++){var G=N[j];m[j]=G+(L[j]-G)*D}else switch(a){case hi.setup:var H=u;if(null==H.bones)for(var W=H.vertices,q=0;q<c;q++){var Z=N[q],K=W[q];m[q]=K+(Z+(L[q]-Z)*D-K)*r}else for(var $=0;$<c;$++){var Q=N[$];m[$]=(Q+(L[$]-Q)*D)*r}break;case hi.first:case hi.replace:for(var J=0;J<c;J++){var tt=N[J];m[J]+=(tt+(L[J]-tt)*D-m[J])*r}break;case hi.add:var et=u;if(null==et.bones)for(var nt=et.vertices,it=0;it<c;it++){var rt=N[it];m[it]+=(rt+(L[it]-rt)*D-nt[it])*r}else for(var at=0;at<c;at++){var ot=N[at];m[at]+=(ot+(L[at]-ot)*D)*r}}}}}}}}]),n}(vi),Li=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),(i=e.call(this,t,n.propertyIds)).events=new Array(t),i}return Wn(n,[{key:"getFrameEntries",value:function(){return 1}},{key:"setFrame",value:function(t,e){this.frames[t]=e.time,this.events[t]=e}},{key:"apply",value:function(t,e,n,i,r,a,o){if(null!=i){var s=this.frames,u=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,i,r,a,o),e=-1;else if(e>=s[u-1])return;if(!(n<s[0])){var l=0;if(e<s[0])l=0;else for(var h=s[l=di.search(s,e)+1];l>0&&s[l-1]==h;)l--;for(;l<u&&n>=s[l];l++)i.push(this.events[l])}}}}],[{key:"__initStatic34",value:function(){this.propertyIds=[""+fi.event]}}]),n}(pi);Li.__initStatic34();var Fi=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),(i=e.call(this,t,n.propertyIds)).drawOrders=new Array(t),i}return Wn(n,[{key:"getFrameEntries",value:function(){return 1}},{key:"setFrame",value:function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=t.drawOrder,u=t.slots;if(o!=ci.mixOut){var l=this.frames;if(n<l[0])a!=hi.setup&&a!=hi.first||z.arrayCopy(t.slots,0,s,0,t.slots.length);else{var h=this.drawOrders[di.search(l,n)];if(null==h)z.arrayCopy(u,0,s,0,u.length);else for(var c=0,f=h.length;c<f;c++)s[c]=u[h[c]]}}else a==hi.setup&&z.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)}}],[{key:"__initStatic35",value:function(){this.propertyIds=[""+fi.drawOrder]}}]),n}(pi);Fi.__initStatic35();var Bi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),(a=e.call(this,t,i,[fi.ikConstraint+"|"+r])).ikConstraintIndex=r,a}return Wn(n,[{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"setFrame",value:function(t,e,i,r,a,o,s){t*=n.ENTRIES,this.frames[t]=e,this.frames[t+n.MIX]=i,this.frames[t+n.SOFTNESS]=r,this.frames[t+n.BEND_DIRECTION]=a,this.frames[t+n.COMPRESS]=o?1:0,this.frames[t+n.STRETCH]=s?1:0}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.ikConstraints[this.ikConstraintIndex];if(l.active)if(i<u[0])switch(o){case hi.setup:return l.mix=l.data.mix,l.softness=l.data.softness,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,void(l.stretch=l.data.stretch);case hi.first:l.mix+=(l.data.mix-l.mix)*a,l.softness+=(l.data.softness-l.softness)*a,l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch}else{var h=0,c=0,f=di.search2(u,i,n.ENTRIES),d=this.curves[f/n.ENTRIES];switch(d){case n.LINEAR:var p=u[f];h=u[f+n.MIX],c=u[f+n.SOFTNESS];var v=(i-p)/(u[f+n.ENTRIES]-p);h+=(u[f+n.ENTRIES+n.MIX]-h)*v,c+=(u[f+n.ENTRIES+n.SOFTNESS]-c)*v;break;case n.STEPPED:h=u[f+n.MIX],c=u[f+n.SOFTNESS];break;default:h=this.getBezierValue(i,f,n.MIX,d-n.BEZIER),c=this.getBezierValue(i,f,n.SOFTNESS,d+n.BEZIER_SIZE-n.BEZIER)}o==hi.setup?(l.mix=l.data.mix+(h-l.data.mix)*a,l.softness=l.data.softness+(c-l.data.softness)*a,s==ci.mixOut?(l.bendDirection=l.data.bendDirection,l.compress=l.data.compress,l.stretch=l.data.stretch):(l.bendDirection=u[f+n.BEND_DIRECTION],l.compress=0!=u[f+n.COMPRESS],l.stretch=0!=u[f+n.STRETCH])):(l.mix+=(h-l.mix)*a,l.softness+=(c-l.softness)*a,s==ci.mixIn&&(l.bendDirection=u[f+n.BEND_DIRECTION],l.compress=0!=u[f+n.COMPRESS],l.stretch=0!=u[f+n.STRETCH]))}}}],[{key:"__initStatic36",value:function(){this.ENTRIES=6}},{key:"__initStatic37",value:function(){this.MIX=1}},{key:"__initStatic38",value:function(){this.SOFTNESS=2}},{key:"__initStatic39",value:function(){this.BEND_DIRECTION=3}},{key:"__initStatic40",value:function(){this.COMPRESS=4}},{key:"__initStatic41",value:function(){this.STRETCH=5}}]),n}(vi);Bi.__initStatic36(),Bi.__initStatic37(),Bi.__initStatic38(),Bi.__initStatic39(),Bi.__initStatic40(),Bi.__initStatic41();var Vi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),(a=e.call(this,t,i,[fi.transformConstraint+"|"+r])).transformConstraintIndex=r,a}return Wn(n,[{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"setFrame",value:function(t,e,i,r,a,o,s,u){var l=this.frames;t*=n.ENTRIES,this.frames[t]=e,l[t+n.ROTATE]=i,l[t+n.X]=r,l[t+n.Y]=a,l[t+n.SCALEX]=o,l[t+n.SCALEY]=s,l[t+n.SHEARY]=u}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.transformConstraints[this.transformConstraintIndex];if(l.active)if(i<u[0]){var h=l.data;switch(o){case hi.setup:return l.mixRotate=h.mixRotate,l.mixX=h.mixX,l.mixY=h.mixY,l.mixScaleX=h.mixScaleX,l.mixScaleY=h.mixScaleY,void(l.mixShearY=h.mixShearY);case hi.first:l.mixRotate+=(h.mixRotate-l.mixRotate)*a,l.mixX+=(h.mixX-l.mixX)*a,l.mixY+=(h.mixY-l.mixY)*a,l.mixScaleX+=(h.mixScaleX-l.mixScaleX)*a,l.mixScaleY+=(h.mixScaleY-l.mixScaleY)*a,l.mixShearY+=(h.mixShearY-l.mixShearY)*a}}else{var c,f,d,p,v,_,m=di.search2(u,i,n.ENTRIES),y=this.curves[m/n.ENTRIES],g=n.ROTATE,b=n.X,x=n.Y,w=n.SCALEX,E=n.SCALEY,S=n.SHEARY,k=n.ENTRIES,T=n.BEZIER,A=n.BEZIER_SIZE;switch(y){case n.LINEAR:var R=u[m];c=u[m+g],f=u[m+b],d=u[m+x],p=u[m+w],v=u[m+E],_=u[m+S];var I=(i-R)/(u[m+k]-R);c+=(u[m+k+g]-c)*I,f+=(u[m+k+b]-f)*I,d+=(u[m+k+x]-d)*I,p+=(u[m+k+w]-p)*I,v+=(u[m+k+E]-v)*I,_+=(u[m+k+S]-_)*I;break;case n.STEPPED:c=u[m+g],f=u[m+b],d=u[m+x],p=u[m+w],v=u[m+E],_=u[m+S];break;default:c=this.getBezierValue(i,m,g,y-T),f=this.getBezierValue(i,m,b,y+A-T),d=this.getBezierValue(i,m,x,y+2*A-T),p=this.getBezierValue(i,m,w,y+3*A-T),v=this.getBezierValue(i,m,E,y+4*A-T),_=this.getBezierValue(i,m,S,y+5*A-T)}if(o==hi.setup){var C=l.data;l.mixRotate=C.mixRotate+(c-C.mixRotate)*a,l.mixX=C.mixX+(f-C.mixX)*a,l.mixY=C.mixY+(d-C.mixY)*a,l.mixScaleX=C.mixScaleX+(p-C.mixScaleX)*a,l.mixScaleY=C.mixScaleY+(v-C.mixScaleY)*a,l.mixShearY=C.mixShearY+(_-C.mixShearY)*a}else l.mixRotate+=(c-l.mixRotate)*a,l.mixX+=(f-l.mixX)*a,l.mixY+=(d-l.mixY)*a,l.mixScaleX+=(p-l.mixScaleX)*a,l.mixScaleY+=(v-l.mixScaleY)*a,l.mixShearY+=(_-l.mixShearY)*a}}}],[{key:"__initStatic42",value:function(){this.ENTRIES=7}},{key:"__initStatic43",value:function(){this.ROTATE=1}},{key:"__initStatic44",value:function(){this.X=2}},{key:"__initStatic45",value:function(){this.Y=3}},{key:"__initStatic46",value:function(){this.SCALEX=4}},{key:"__initStatic47",value:function(){this.SCALEY=5}},{key:"__initStatic48",value:function(){this.SHEARY=6}}]),n}(vi);Vi.__initStatic42(),Vi.__initStatic43(),Vi.__initStatic44(),Vi.__initStatic45(),Vi.__initStatic46(),Vi.__initStatic47(),Vi.__initStatic48();var Ui=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),(a=e.call(this,t,i,[fi.pathConstraintPosition+"|"+r])).pathConstraintIndex=r,a}return Wn(n,[{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return void(u.position=u.data.position);case hi.first:u.position+=(u.data.position-u.position)*r}else{var l=this.getCurveValue(n);a==hi.setup?u.position=u.data.position+(l-u.data.position)*r:u.position+=(l-u.position)*r}}}]),n}(_i),Xi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.pathConstraintSpacing+"|"+r]),n.prototype.__init18.call($n(a)),a.pathConstraintIndex=r,a}return Wn(n,[{key:"__init18",value:function(){this.pathConstraintIndex=0}},{key:"apply",value:function(t,e,n,i,r,a,o){var s=this.frames,u=t.pathConstraints[this.pathConstraintIndex];if(u.active)if(n<s[0])switch(a){case hi.setup:return void(u.spacing=u.data.spacing);case hi.first:u.spacing+=(u.data.spacing-u.spacing)*r}else{var l=this.getCurveValue(n);a==hi.setup?u.spacing=u.data.spacing+(l-u.data.spacing)*r:u.spacing+=(l-u.spacing)*r}}}]),n}(_i),Yi=function(t){zn(n,t);var e=Zn(n);function n(t,i,r){var a;return Jn(this,n),a=e.call(this,t,i,[fi.pathConstraintMix+"|"+r]),n.prototype.__init19.call($n(a)),a.pathConstraintIndex=r,a}return Wn(n,[{key:"__init19",value:function(){this.pathConstraintIndex=0}},{key:"getFrameEntries",value:function(){return n.ENTRIES}},{key:"setFrame",value:function(t,e,i,r,a){var o=this.frames;o[t<<=2]=e,o[t+n.ROTATE]=i,o[t+n.X]=r,o[t+n.Y]=a}},{key:"apply",value:function(t,e,i,r,a,o,s){var u=this.frames,l=t.pathConstraints[this.pathConstraintIndex];if(l.active)if(i<u[0])switch(o){case hi.setup:return l.mixRotate=l.data.mixRotate,l.mixX=l.data.mixX,void(l.mixY=l.data.mixY);case hi.first:l.mixRotate+=(l.data.mixRotate-l.mixRotate)*a,l.mixX+=(l.data.mixX-l.mixX)*a,l.mixY+=(l.data.mixY-l.mixY)*a}else{var h,c,f,d=di.search2(u,i,n.ENTRIES),p=this.curves[d>>2];switch(p){case n.LINEAR:var v=u[d];h=u[d+n.ROTATE],c=u[d+n.X],f=u[d+n.Y];var _=(i-v)/(u[d+n.ENTRIES]-v);h+=(u[d+n.ENTRIES+n.ROTATE]-h)*_,c+=(u[d+n.ENTRIES+n.X]-c)*_,f+=(u[d+n.ENTRIES+n.Y]-f)*_;break;case n.STEPPED:h=u[d+n.ROTATE],c=u[d+n.X],f=u[d+n.Y];break;default:h=this.getBezierValue(i,d,n.ROTATE,p-n.BEZIER),c=this.getBezierValue(i,d,n.X,p+n.BEZIER_SIZE-n.BEZIER),f=this.getBezierValue(i,d,n.Y,p+2*n.BEZIER_SIZE-n.BEZIER)}if(o==hi.setup){var m=l.data;l.mixRotate=m.mixRotate+(h-m.mixRotate)*a,l.mixX=m.mixX+(c-m.mixX)*a,l.mixY=m.mixY+(f-m.mixY)*a}else l.mixRotate+=(h-l.mixRotate)*a,l.mixX+=(c-l.mixX)*a,l.mixY+=(f-l.mixY)*a}}}],[{key:"__initStatic49",value:function(){this.ENTRIES=4}},{key:"__initStatic50",value:function(){this.ROTATE=1}},{key:"__initStatic51",value:function(){this.X=2}},{key:"__initStatic52",value:function(){this.Y=3}}]),n}(vi);Yi.__initStatic49(),Yi.__initStatic50(),Yi.__initStatic51(),Yi.__initStatic52();var ji=function(){function t(e){Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),this.data=e}return Wn(t,[{key:"__init",value:function(){this.tracks=new Array}},{key:"__init2",value:function(){this.timeScale=1}},{key:"__init3",value:function(){this.unkeyedState=0}},{key:"__init4",value:function(){this.events=new Array}},{key:"__init5",value:function(){this.listeners=new Array}},{key:"__init6",value:function(){this.queue=new Wi(this)}},{key:"__init7",value:function(){this.propertyIDs=new X}},{key:"__init8",value:function(){this.animationsChanged=!1}},{key:"__init9",value:function(){this.trackEntryPool=new Z((function(){return new Gi}))}},{key:"update",value:function(t){t*=this.timeScale;for(var e=this.tracks,n=0,i=e.length;n<i;n++){var r=e[n];if(null!=r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var a=t*r.timeScale;if(r.delay>0){if(r.delay-=a,r.delay>0)continue;a=-r.delay,r.delay=0}var o=r.next;if(null!=o){var s=r.trackLast-o.delay;if(s>=0){for(o.delay=0,o.trackTime+=0==r.timeScale?0:(s/r.timeScale+t)*o.timeScale,r.trackTime+=a,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&null==r.mixingFrom){e[n]=null,this.queue.end(r),this.disposeNext(r);continue}if(null!=r.mixingFrom&&this.updateMixingFrom(r,t)){var u=r.mixingFrom;for(r.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}r.trackTime+=a}}this.queue.drain()}},{key:"updateMixingFrom",value:function(t,e){var n=t.mixingFrom;if(null==n)return!0;var i=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)}},{key:"apply",value:function(e){if(null==e)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var n=this.events,i=this.tracks,r=!1,a=0,o=i.length;a<o;a++){var s=i[a];if(!(null==s||s.delay>0)){r=!0;var u=0==a?hi.first:s.mixBlend,l=s.alpha;null!=s.mixingFrom?l*=this.applyMixingFrom(s,e,u):s.trackTime>=s.trackEnd&&null==s.next&&(l=0);var h=s.animationLast,c=s.getAnimationTime(),f=c,d=n;s.reverse&&(f=s.animation.duration-f,d=null);var p=s.animation.timelines.length,v=s.animation.timelines;if(0==a&&1==l||u==hi.add)for(var _=0;_<p;_++){z.webkit602BugfixHelper(l,u);var m=v[_];m instanceof Oi?this.applyAttachmentTimeline(m,e,f,u,!0):m.apply(e,h,f,d,l,u,ci.mixIn)}else{var y=s.timelineMode,g=0==s.timelinesRotation.length;g&&z.setArraySize(s.timelinesRotation,p<<1,null);for(var b=s.timelinesRotation,x=0;x<p;x++){var w=v[x],E=y[x]==t.SUBSEQUENT?u:hi.setup;w instanceof yi?this.applyRotateTimeline(w,e,f,l,E,b,x<<1,g):w instanceof Oi?this.applyAttachmentTimeline(w,e,f,u,!0):(z.webkit602BugfixHelper(l,u),w.apply(e,h,f,d,l,E,ci.mixIn))}}this.queueEvents(s,c),n.length=0,s.nextAnimationLast=c,s.nextTrackLast=s.trackTime}}for(var S=this.unkeyedState+t.SETUP,k=e.slots,T=0,A=e.slots.length;T<A;T++){var R=k[T];if(R.attachmentState==S){var I=R.data.attachmentName;R.setAttachment(null==I?null:e.getAttachment(R.data.index,I))}}return this.unkeyedState+=2,this.queue.drain(),r}},{key:"applyMixingFrom",value:function(e,n,i){var r=e.mixingFrom;null!=r.mixingFrom&&this.applyMixingFrom(r,n,i);var a=0;0==e.mixDuration?(a=1,i==hi.first&&(i=hi.setup)):((a=e.mixTime/e.mixDuration)>1&&(a=1),i!=hi.first&&(i=r.mixBlend));var o=a<r.attachmentThreshold,s=a<r.drawOrderThreshold,u=r.animation.timelines.length,l=r.animation.timelines,h=r.alpha*e.interruptAlpha,c=h*(1-a),f=r.animationLast,d=r.getAnimationTime(),p=d,v=null;if(r.reverse?p=r.animation.duration-p:a<r.eventThreshold&&(v=this.events),i==hi.add)for(var _=0;_<u;_++)l[_].apply(n,f,p,v,c,i,ci.mixOut);else{var m=r.timelineMode,y=r.timelineHoldMix,g=0==r.timelinesRotation.length;g&&z.setArraySize(r.timelinesRotation,u<<1,null);var b=r.timelinesRotation;r.totalAlpha=0;for(var x=0;x<u;x++){var w=l[x],E=ci.mixOut,S=void 0,k=0;switch(m[x]){case t.SUBSEQUENT:if(!s&&w instanceof Fi)continue;S=i,k=c;break;case t.FIRST:S=hi.setup,k=c;break;case t.HOLD_SUBSEQUENT:S=i,k=h;break;case t.HOLD_FIRST:S=hi.setup,k=h;break;default:S=hi.setup;var T=y[x];k=h*Math.max(0,1-T.mixTime/T.mixDuration)}r.totalAlpha+=k,w instanceof yi?this.applyRotateTimeline(w,n,p,k,S,b,x<<1,g):w instanceof Oi?this.applyAttachmentTimeline(w,n,p,S,o):(z.webkit602BugfixHelper(k,i),s&&w instanceof Fi&&S==hi.setup&&(E=ci.mixIn),w.apply(n,f,p,v,k,S,E))}}return e.mixDuration>0&&this.queueEvents(r,d),this.events.length=0,r.nextAnimationLast=d,r.nextTrackLast=r.trackTime,a}},{key:"applyAttachmentTimeline",value:function(e,n,i,r,a){var o=n.slots[e.slotIndex];if(o.bone.active){var s=e.frames;i<s[0]?r!=hi.setup&&r!=hi.first||this.setAttachment(n,o,o.data.attachmentName,a):this.setAttachment(n,o,e.attachmentNames[di.search(s,i)],a),o.attachmentState<=this.unkeyedState&&(o.attachmentState=this.unkeyedState+t.SETUP)}}},{key:"setAttachment",value:function(e,n,i,r){n.setAttachment(null==i?null:e.getAttachment(n.data.index,i)),r&&(n.attachmentState=this.unkeyedState+t.CURRENT)}},{key:"applyRotateTimeline",value:function(t,e,n,i,r,a,o,s){if(s&&(a[o]=0),1!=i){var u=t,l=e.bones[u.boneIndex];if(l.active){var h=0,c=0;if(n<u.frames[0])switch(r){case hi.setup:l.rotation=l.data.rotation;default:return;case hi.first:h=l.rotation,c=l.data.rotation}else h=r==hi.setup?l.data.rotation:l.rotation,c=l.data.rotation+u.getCurveValue(n);var f=0,d=c-h;if(0==(d-=360*(16384-(16384.499999999996-d/360|0))))f=a[o];else{var p=0,v=0;s?(p=0,v=d):(p=a[o],v=a[o+1]);var _=d>0,m=p>=0;j.signum(v)!=j.signum(d)&&Math.abs(v)<=90&&(Math.abs(p)>180&&(p+=360*j.signum(p)),m=_),f=d+p-p%360,m!=_&&(f+=360*j.signum(p)),a[o]=f}a[o+1]=d,l.rotation=h+f*i}}else t.apply(e,0,n,null,1,r,ci.mixIn)}},{key:"queueEvents",value:function(t,e){for(var n=t.animationStart,i=t.animationEnd,r=i-n,a=t.trackLast%r,o=this.events,s=0,u=o.length;s<u;s++){var l=o[s];if(l.time<a)break;l.time>i||this.queue.event(t,l)}for((t.loop?0==r||a>t.trackTime%r:e>=i&&t.animationLast<i)&&this.queue.complete(t);s<u;s++){var h=o[s];h.time<n||this.queue.event(t,h)}}},{key:"clearTracks",value:function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()}},{key:"clearTrack",value:function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var i=n.mixingFrom;if(null==i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[e.trackIndex]=null,this.queue.drain()}}}},{key:"clearNext",value:function(t){this.disposeNext(t.next)}},{key:"setCurrent",value:function(t,e,n){var i=this.expandToIndex(t);this.tracks[t]=e,e.previous=null,null!=i&&(n&&this.queue.interrupt(i),e.mixingFrom=i,i.mixingTo=e,e.mixTime=0,null!=i.mixingFrom&&i.mixDuration>0&&(e.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(e)}},{key:"setAnimation",value:function(t,e,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,i,n)}},{key:"setAnimationWith",value:function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var i=!0,r=this.expandToIndex(t);null!=r&&(-1==r.nextTrackLast?(this.tracks[t]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.disposeNext(r),r=r.mixingFrom,i=!1):this.disposeNext(r));var a=this.trackEntry(t,e,n,r);return this.setCurrent(t,a,i),this.queue.drain(),a}},{key:"addAnimation",value:function(t,e,n,i){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,r,n,i)}},{key:"addAnimationWith",value:function(t,e,n,i){if(null==e)throw new Error("animation cannot be null.");var r=this.expandToIndex(t);if(null!=r)for(;null!=r.next;)r=r.next;var a=this.trackEntry(t,e,n,r);return null==r?(this.setCurrent(t,a,!0),this.queue.drain()):(r.next=a,a.previous=r,i<=0&&(i+=r.getTrackComplete()-a.mixDuration)),a.delay=i,a}},{key:"setEmptyAnimation",value:function(e,n){var i=this.setAnimationWith(e,t.emptyAnimation(),!1);return i.mixDuration=n,i.trackEnd=n,i}},{key:"addEmptyAnimation",value:function(e,n,i){var r=this.addAnimationWith(e,t.emptyAnimation(),!1,i<=0?1:i);return r.mixDuration=n,r.trackEnd=n,i<=0&&null!=r.previous&&(r.delay=r.previous.getTrackComplete()-r.mixDuration),r}},{key:"setEmptyAnimations",value:function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var r=this.tracks[n];null!=r&&this.setEmptyAnimation(r.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()}},{key:"expandToIndex",value:function(t){return t<this.tracks.length?this.tracks[t]:(z.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)}},{key:"trackEntry",value:function(t,e,n,i){var r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=n,r.holdPrevious=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=null==i?0:this.data.getMix(i.animation,e),r.mixBlend=hi.replace,r}},{key:"disposeNext",value:function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null}},{key:"_animationsChanged",value:function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++){var n=this.tracks[t];if(null!=n){for(;null!=n.mixingFrom;)n=n.mixingFrom;do{null!=n.mixingFrom&&n.mixBlend==hi.add||this.computeHold(n),n=n.mixingTo}while(null!=n)}}}},{key:"computeHold",value:function(e){var n=e.mixingTo,i=e.animation.timelines,r=e.animation.timelines.length,a=z.setArraySize(e.timelineMode,r);e.timelineHoldMix.length=0;var o=z.setArraySize(e.timelineHoldMix,r),s=this.propertyIDs;if(null!=n&&n.holdPrevious)for(var u=0;u<r;u++)a[u]=s.addAll(i[u].getPropertyIds())?t.HOLD_FIRST:t.HOLD_SUBSEQUENT;else t:for(var l=0;l<r;l++){var h=i[l],c=h.getPropertyIds();if(s.addAll(c))if(null==n||h instanceof Oi||h instanceof Fi||h instanceof Li||!n.animation.hasTimeline(c))a[l]=t.FIRST;else{for(var f=n.mixingTo;null!=f;f=f.mixingTo)if(!f.animation.hasTimeline(c)){if(e.mixDuration>0){a[l]=t.HOLD_MIX,o[l]=f;continue t}break}a[l]=t.HOLD_FIRST}else a[l]=t.SUBSEQUENT}}},{key:"getCurrent",value:function(t){return t>=this.tracks.length?null:this.tracks[t]}},{key:"addListener",value:function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)}},{key:"removeListener",value:function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)}},{key:"clearListeners",value:function(){this.listeners.length=0}},{key:"clearListenerNotifications",value:function(){this.queue.clear()}},{key:"setAnimationByName",value:function(e,n,i){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.setAnimation(e,n,i)}},{key:"addAnimationByName",value:function(e,n,i,r){t.deprecatedWarning2||(t.deprecatedWarning2=!0),this.addAnimation(e,n,i,r)}},{key:"hasAnimation",value:function(t){return null!==this.data.skeletonData.findAnimation(t)}},{key:"hasAnimationByName",value:function(e){return t.deprecatedWarning3||(t.deprecatedWarning3=!0),this.hasAnimation(e)}}],[{key:"__initStatic",value:function(){this._emptyAnimation=null}},{key:"emptyAnimation",value:function(){return null==t._emptyAnimation&&(t._emptyAnimation=new di("<empty>",[],0)),t._emptyAnimation}},{key:"__initStatic2",value:function(){this.SUBSEQUENT=0}},{key:"__initStatic3",value:function(){this.FIRST=1}},{key:"__initStatic4",value:function(){this.HOLD_SUBSEQUENT=2}},{key:"__initStatic5",value:function(){this.HOLD_FIRST=3}},{key:"__initStatic6",value:function(){this.HOLD_MIX=4}},{key:"__initStatic7",value:function(){this.SETUP=1}},{key:"__initStatic8",value:function(){this.CURRENT=2}},{key:"__initStatic9",value:function(){this.deprecatedWarning1=!1}},{key:"__initStatic10",value:function(){this.deprecatedWarning2=!1}},{key:"__initStatic11",value:function(){this.deprecatedWarning3=!1}}]),t}();ji.__initStatic(),ji.__initStatic2(),ji.__initStatic3(),ji.__initStatic4(),ji.__initStatic5(),ji.__initStatic6(),ji.__initStatic7(),ji.__initStatic8(),ji.__initStatic9(),ji.__initStatic10(),ji.__initStatic11();var Gi=function(){function t(){Jn(this,t),t.prototype.__init10.call(this),t.prototype.__init11.call(this),t.prototype.__init12.call(this),t.prototype.__init13.call(this)}return Wn(t,[{key:"__init10",value:function(){this.mixBlend=hi.replace}},{key:"__init11",value:function(){this.timelineMode=new Array}},{key:"__init12",value:function(){this.timelineHoldMix=new Array}},{key:"__init13",value:function(){this.timelinesRotation=new Array}},{key:"reset",value:function(){this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}},{key:"getAnimationTime",value:function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}},{key:"setAnimationLast",value:function(t){this.animationLast=t,this.nextAnimationLast=t}},{key:"isComplete",value:function(){return this.trackTime>=this.animationEnd-this.animationStart}},{key:"resetRotationDirections",value:function(){this.timelinesRotation.length=0}},{key:"getTrackComplete",value:function(){var t=this.animationEnd-this.animationStart;if(0!=t){if(this.loop)return t*(1+(this.trackTime/t|0));if(this.trackTime<t)return t}return this.trackTime}},{key:"time",get:function(){return t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.trackTime},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.trackTime=e}},{key:"endTime",get:function(){return t.deprecatedWarning2||(t.deprecatedWarning2=!0),this.trackTime},set:function(e){t.deprecatedWarning2||(t.deprecatedWarning2=!0),this.trackTime=e}},{key:"loopsCount",value:function(){return Math.floor(this.trackTime/this.trackEnd)}}],[{key:"__initStatic12",value:function(){this.deprecatedWarning1=!1}},{key:"__initStatic13",value:function(){this.deprecatedWarning2=!1}}]),t}();Gi.__initStatic12(),Gi.__initStatic13();var Hi,Wi=function(){function t(e){Jn(this,t),t.prototype.__init14.call(this),t.prototype.__init15.call(this),this.animState=e}return Wn(t,[{key:"__init14",value:function(){this.objects=[]}},{key:"__init15",value:function(){this.drainDisabled=!1}},{key:"start",value:function(t){this.objects.push(Hi.start),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"interrupt",value:function(t){this.objects.push(Hi.interrupt),this.objects.push(t)}},{key:"end",value:function(t){this.objects.push(Hi.end),this.objects.push(t),this.animState.animationsChanged=!0}},{key:"dispose",value:function(t){this.objects.push(Hi.dispose),this.objects.push(t)}},{key:"complete",value:function(t){this.objects.push(Hi.complete),this.objects.push(t)}},{key:"event",value:function(t,e){this.objects.push(Hi.event),this.objects.push(t),this.objects.push(e)}},{key:"drain",value:function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];switch(i){case Hi.start:null!=r.listener&&r.listener.start&&r.listener.start(r);for(var a=0;a<e.length;a++)e[a].start&&e[a].start(r);break;case Hi.interrupt:null!=r.listener&&r.listener.interrupt&&r.listener.interrupt(r);for(var o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(r);break;case Hi.end:null!=r.listener&&r.listener.end&&r.listener.end(r);for(var s=0;s<e.length;s++)e[s].end&&e[s].end(r);case Hi.dispose:null!=r.listener&&r.listener.dispose&&r.listener.dispose(r);for(var u=0;u<e.length;u++)e[u].dispose&&e[u].dispose(r);this.animState.trackEntryPool.free(r);break;case Hi.complete:null!=r.listener&&r.listener.complete&&r.listener.complete(r);for(var l=0;l<e.length;l++)e[l].complete&&e[l].complete(r);break;case Hi.event:var h=t[2+n++];null!=r.listener&&r.listener.event&&r.listener.event(r,h);for(var c=0;c<e.length;c++)e[c].event&&e[c].event(r,h)}}this.clear(),this.drainDisabled=!1}}},{key:"clear",value:function(){this.objects.length=0}}]),t}();!function(t){t[t.start=0]="start";t[t.interrupt=1]="interrupt";t[t.end=2]="end";t[t.dispose=3]="dispose";t[t.complete=4]="complete";t[t.event=5]="event"}(Hi||(Hi={}));var zi,qi=function(){function t(){Jn(this,t)}return Wn(t,[{key:"start",value:function(t){}},{key:"interrupt",value:function(t){}},{key:"end",value:function(t){}},{key:"dispose",value:function(t){}},{key:"complete",value:function(t){}},{key:"event",value:function(t,e){}}]),t}(),Zi=function(){function t(e){if(Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),null==e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}return Wn(t,[{key:"__init",value:function(){this.animationToMixTime={}}},{key:"__init2",value:function(){this.defaultMix=0}},{key:"setMix",value:function(t,e,n){var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: "+t);var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);this.setMixWith(i,r,n)}},{key:"setMixWith",value:function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var i=t.name+"."+e.name;this.animationToMixTime[i]=n}},{key:"getMix",value:function(t,e){var n=t.name+"."+e.name,i=this.animationToMixTime[n];return void 0===i?this.defaultMix:i}}]),t}(),Ki=function(){function t(e){Jn(this,t),this.atlas=e}return Wn(t,[{key:"newRegionAttachment",value:function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");var r=new si(e);return r.region=i,r}},{key:"newMeshAttachment",value:function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");var r=new ri(e);return r.region=i,r}},{key:"newBoundingBoxAttachment",value:function(t,e){return new ni(e)}},{key:"newPathAttachment",value:function(t,e){return new ai(e)}},{key:"newPointAttachment",value:function(t,e){return new oi(e)}},{key:"newClippingAttachment",value:function(t,e){return new ii(e)}}]),t}(),$i=function(){function t(e,n,i){if(Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),e<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");this.index=e,this.name=n,this.parent=i}return Wn(t,[{key:"__init",value:function(){this.x=0}},{key:"__init2",value:function(){this.y=0}},{key:"__init3",value:function(){this.rotation=0}},{key:"__init4",value:function(){this.scaleX=1}},{key:"__init5",value:function(){this.scaleY=1}},{key:"__init6",value:function(){this.shearX=0}},{key:"__init7",value:function(){this.shearY=0}},{key:"__init8",value:function(){this.transformMode=zi.Normal}},{key:"__init9",value:function(){this.skinRequired=!1}},{key:"__init10",value:function(){this.color=new Y}}]),t}();!function(t){t[t.Normal=0]="Normal";t[t.OnlyTranslation=1]="OnlyTranslation";t[t.NoRotationOrReflection=2]="NoRotationOrReflection";t[t.NoScale=3]="NoScale";t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(zi||(zi={}));var Qi,Ji,tr,er=function(){function t(e,n,i){if(Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),t.prototype.__init11.call(this),t.prototype.__init12.call(this),t.prototype.__init13.call(this),t.prototype.__init14.call(this),t.prototype.__init15.call(this),t.prototype.__init16.call(this),t.prototype.__init17.call(this),t.prototype.__init18.call(this),t.prototype.__init19.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=n,this.parent=i,this.setToSetupPose()}return Wn(t,[{key:"__init",value:function(){this.matrix=new h.y3}},{key:"worldX",get:function(){return this.matrix.tx}},{key:"worldY",get:function(){return this.matrix.ty}},{key:"__init2",value:function(){this.children=new Array}},{key:"__init3",value:function(){this.x=0}},{key:"__init4",value:function(){this.y=0}},{key:"__init5",value:function(){this.rotation=0}},{key:"__init6",value:function(){this.scaleX=0}},{key:"__init7",value:function(){this.scaleY=0}},{key:"__init8",value:function(){this.shearX=0}},{key:"__init9",value:function(){this.shearY=0}},{key:"__init10",value:function(){this.ax=0}},{key:"__init11",value:function(){this.ay=0}},{key:"__init12",value:function(){this.arotation=0}},{key:"__init13",value:function(){this.ascaleX=0}},{key:"__init14",value:function(){this.ascaleY=0}},{key:"__init15",value:function(){this.ashearX=0}},{key:"__init16",value:function(){this.ashearY=0}},{key:"__init17",value:function(){this.appliedValid=!1}},{key:"__init18",value:function(){this.sorted=!1}},{key:"__init19",value:function(){this.active=!1}},{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransform",value:function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}},{key:"updateWorldTransformWith",value:function(t,e,n,i,r,a,o){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=i,this.ascaleY=r,this.ashearX=a,this.ashearY=o,this.appliedValid=!0;var s=this.parent,u=this.matrix,l=this.skeleton.scaleX,h=J.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==s){var c=this.skeleton,f=n+90+o;return u.a=j.cosDeg(n+a)*i*l,u.c=j.cosDeg(f)*r*l,u.b=j.sinDeg(n+a)*i*h,u.d=j.sinDeg(f)*r*h,u.tx=t*l+c.x,void(u.ty=e*h+c.y)}var d=s.matrix.a,p=s.matrix.c,v=s.matrix.b,_=s.matrix.d;switch(u.tx=d*t+p*e+s.matrix.tx,u.ty=v*t+_*e+s.matrix.ty,this.data.transformMode){case zi.Normal:var m=n+90+o,y=j.cosDeg(n+a)*i,g=j.cosDeg(m)*r,b=j.sinDeg(n+a)*i,x=j.sinDeg(m)*r;return u.a=d*y+p*b,u.c=d*g+p*x,u.b=v*y+_*b,void(u.d=v*g+_*x);case zi.OnlyTranslation:var w=n+90+o;u.a=j.cosDeg(n+a)*i,u.c=j.cosDeg(w)*r,u.b=j.sinDeg(n+a)*i,u.d=j.sinDeg(w)*r;break;case zi.NoRotationOrReflection:var E=d*d+v*v,S=0;E>1e-4?(E=Math.abs(d*_-p*v)/E,d/=this.skeleton.scaleX,p=(v/=this.skeleton.scaleY)*E,_=d*E,S=Math.atan2(v,d)*j.radDeg):(d=0,v=0,S=90-Math.atan2(_,p)*j.radDeg);var k=n+a-S,T=n+o-S+90,A=j.cosDeg(k)*i,R=j.cosDeg(T)*r,I=j.sinDeg(k)*i,C=j.sinDeg(T)*r;u.a=d*A-p*I,u.c=d*R-p*C,u.b=v*A+_*I,u.d=v*R+_*C;break;case zi.NoScale:case zi.NoScaleOrReflection:var P=j.cosDeg(n),M=j.sinDeg(n),O=(d*P+p*M)/l,D=(v*P+_*M)/h,N=Math.sqrt(O*O+D*D);N>1e-5&&(N=1/N),O*=N,D*=N,N=Math.sqrt(O*O+D*D),this.data.transformMode==zi.NoScale&&d*_-p*v<0!=(J.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(N=-N);var L=Math.PI/2+Math.atan2(D,O),F=Math.cos(L)*N,B=Math.sin(L)*N,V=j.cosDeg(a)*i,U=j.cosDeg(90+o)*r,X=j.sinDeg(a)*i,Y=j.sinDeg(90+o)*r;u.a=O*V+F*X,u.c=O*U+F*Y,u.b=D*V+B*X,u.d=D*U+B*Y}u.a*=l,u.c*=l,u.b*=h,u.d*=h}},{key:"setToSetupPose",value:function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY}},{key:"getWorldRotationX",value:function(){return Math.atan2(this.matrix.b,this.matrix.a)*j.radDeg}},{key:"getWorldRotationY",value:function(){return Math.atan2(this.matrix.d,this.matrix.c)*j.radDeg}},{key:"getWorldScaleX",value:function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)}},{key:"getWorldScaleY",value:function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)}},{key:"updateAppliedTransform",value:function(){this.appliedValid=!0;var t=this.parent,e=this.matrix;if(null==t)return this.ax=e.tx,this.ay=e.ty,this.arotation=Math.atan2(e.b,e.a)*j.radDeg,this.ascaleX=Math.sqrt(e.a*e.a+e.b*e.b),this.ascaleY=Math.sqrt(e.c*e.c+e.d*e.d),this.ashearX=0,void(this.ashearY=Math.atan2(e.a*e.c+e.b*e.d,e.a*e.d-e.b*e.c)*j.radDeg);var n=t.matrix,i=1/(n.a*n.d-n.b*n.c),r=e.tx-n.tx,a=e.ty-n.ty;this.ax=r*n.d*i-a*n.c*i,this.ay=a*n.a*i-r*n.b*i;var o=i*n.d,s=i*n.a,u=i*n.c,l=i*n.b,h=o*e.a-u*e.b,c=o*e.c-u*e.d,f=s*e.b-l*e.a,d=s*e.d-l*e.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+f*f),this.ascaleX>1e-4){var p=h*d-c*f;this.ascaleY=p/this.ascaleX,this.ashearY=Math.atan2(h*c+f*d,p)*j.radDeg,this.arotation=Math.atan2(f,h)*j.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(c*c+d*d),this.ashearY=0,this.arotation=90-Math.atan2(d,c)*j.radDeg}},{key:"worldToLocal",value:function(t){var e=this.matrix,n=e.a,i=e.c,r=e.b,a=e.d,o=1/(n*a-i*r),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*a*o-u*i*o,t.y=u*n*o-s*r*o,t}},{key:"localToWorld",value:function(t){var e=this.matrix,n=t.x,i=t.y;return t.x=n*e.a+i*e.c+e.tx,t.y=n*e.b+i*e.d+e.ty,t}},{key:"worldToLocalRotation",value:function(t){var e=j.sinDeg(t),n=j.cosDeg(t),i=this.matrix;return Math.atan2(i.a*e-i.b*n,i.d*n-i.c*e)*j.radDeg}},{key:"localToWorldRotation",value:function(t){t-=this.rotation-this.shearX;var e=j.sinDeg(t),n=j.cosDeg(t),i=this.matrix;return Math.atan2(n*i.b+e*i.d,n*i.a+e*i.c)*j.radDeg}},{key:"rotateWorld",value:function(t){var e=this.matrix,n=e.a,i=e.c,r=e.b,a=e.d,o=j.cosDeg(t),s=j.sinDeg(t);e.a=o*n-s*r,e.c=o*i-s*a,e.b=s*n+o*r,e.d=s*i+o*a,this.appliedValid=!1}}]),t}(),nr=function t(e,n,i){Jn(this,t),this.name=e,this.order=n,this.skinRequired=i},ir=function t(e,n){if(Jn(this,t),null==n)throw new Error("data cannot be null.");this.time=e,this.data=n},rr=function t(e){Jn(this,t),this.name=e},ar=function(){function t(e,n){if(Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(var i=0;i<e.bones.length;i++)this.bones.push(n.findBone(e.bones[i].name));this.target=n.findBone(e.target.name)}return Wn(t,[{key:"__init",value:function(){this.bendDirection=0}},{key:"__init2",value:function(){this.compress=!1}},{key:"__init3",value:function(){this.stretch=!1}},{key:"__init4",value:function(){this.mix=1}},{key:"__init5",value:function(){this.softness=0}},{key:"__init6",value:function(){this.active=!1}},{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){if(0!=this.mix){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}}}},{key:"apply1",value:function(t,e,n,i,r,a,o){t.appliedValid||t.updateAppliedTransform();var s=t.parent.matrix,u=s.a,l=s.c,h=s.b,c=s.d,f=-t.ashearX-t.arotation,d=0,p=0;switch(t.data.transformMode){case zi.OnlyTranslation:d=e-t.worldX,p=n-t.worldY;break;case zi.NoRotationOrReflection:var v=Math.abs(u*c-l*h)/(u*u+h*h),_=u/t.skeleton.scaleX,m=h/t.skeleton.scaleY;l=-m*v*t.skeleton.scaleX,c=_*v*t.skeleton.scaleY,f+=Math.atan2(m,_)*j.radDeg;default:var y=e-s.tx,g=n-s.ty,b=u*c-l*h;d=(y*c-g*l)/b-t.ax,p=(g*u-y*h)/b-t.ay}f+=Math.atan2(p,d)*j.radDeg,t.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);var x=t.ascaleX,w=t.ascaleY;if(i||r){switch(t.data.transformMode){case zi.NoScale:case zi.NoScaleOrReflection:d=e-t.worldX,p=n-t.worldY}var E=t.data.length*x,S=Math.sqrt(d*d+p*p);if(i&&S<E||r&&S>E&&E>1e-4){var k=(S/E-1)*o+1;x*=k,a&&(w*=k)}}t.updateWorldTransformWith(t.ax,t.ay,t.arotation+f*o,x,w,t.ashearX,t.ashearY)}},{key:"apply2",value:function(t,e,n,i,r,a,o,s){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var u=t.ax,l=t.ay,h=t.ascaleX,c=h,f=t.ascaleY,d=e.ascaleX,p=t.matrix,v=0,_=0,m=0;h<0?(h=-h,v=180,m=-1):(v=0,m=1),f<0&&(f=-f,m=-m),d<0?(d=-d,_=180):_=0;var y=e.ax,g=0,b=0,x=0,w=p.a,E=p.c,S=p.b,k=p.d,T=Math.abs(h-f)<=1e-4;T?(b=w*y+E*(g=e.ay)+p.tx,x=S*y+k*g+p.ty):(g=0,b=w*y+p.tx,x=S*y+p.ty);var A=t.parent.matrix;w=A.a,E=A.c,S=A.b;var R,I,C=1/(w*(k=A.d)-E*S),P=b-A.tx,M=x-A.ty,O=(P*k-M*E)*C-u,D=(M*w-P*S)*C-l,N=Math.sqrt(O*O+D*D),L=e.data.length*d;if(N<1e-4)return this.apply1(t,n,i,!1,a,!1,s),void e.updateWorldTransformWith(y,g,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var F=((P=n-A.tx)*k-(M=i-A.ty)*E)*C-u,B=(M*w-P*S)*C-l,V=F*F+B*B;if(0!=o){o*=h*(d+1)/2;var U=Math.sqrt(V),X=U-N-L*h+o;if(X>0){var Y=Math.min(1,X/(2*o))-1;V=(F-=(Y=(X-o*(1-Y*Y))/U)*F)*F+(B-=Y*B)*B}}t:if(T){var G=(V-N*N-(L*=h)*L)/(2*N*L);G<-1?G=-1:G>1&&(G=1,a&&(c*=(Math.sqrt(V)/(N+L)-1)*s+1)),I=Math.acos(G)*r,w=N+L*G,E=L*Math.sin(I),R=Math.atan2(B*w-F*E,F*w+B*E)}else{var H=(w=h*L)*w,W=(E=f*L)*E,z=Math.atan2(B,F),q=-2*W*N,Z=W-H;if((k=q*q-4*Z*(S=W*N*N+H*V-H*W))>=0){var K=Math.sqrt(k);q<0&&(K=-K);var $=(K=-(q+K)/2)/Z,Q=S/K,J=Math.abs($)<Math.abs(Q)?$:Q;if(J*J<=V){M=Math.sqrt(V-J*J)*r,R=z-Math.atan2(M,J),I=Math.atan2(M/f,(J-N)/h);break t}}var tt=j.PI,et=N-w,nt=et*et,it=0,rt=0,at=N+w,ot=at*at,st=0;(S=-w*N/(H-W))>=-1&&S<=1&&(S=Math.acos(S),(k=(P=w*Math.cos(S)+N)*P+(M=E*Math.sin(S))*M)<nt&&(tt=S,nt=k,et=P,it=M),k>ot&&(rt=S,ot=k,at=P,st=M)),V<=(nt+ot)/2?(R=z-Math.atan2(it*r,et),I=tt*r):(R=z-Math.atan2(st*r,at),I=rt*r)}var ut=Math.atan2(g,y)*m,lt=t.arotation;(R=(R-ut)*j.radDeg+v-lt)>180?R-=360:R<-180&&(R+=360),t.updateWorldTransformWith(u,l,lt+R*s,c,t.ascaleY,0,0),lt=e.arotation,(I=((I+ut)*j.radDeg-e.ashearX)*m+_-lt)>180?I-=360:I<-180&&(I+=360),e.updateWorldTransformWith(y,g,lt+I*s,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}}]),t}(),or=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t,0,!1),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),n.prototype.__init3.call($n(i)),n.prototype.__init4.call($n(i)),n.prototype.__init5.call($n(i)),n.prototype.__init6.call($n(i)),n.prototype.__init7.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.bones=new Array}},{key:"__init2",value:function(){this.bendDirection=1}},{key:"__init3",value:function(){this.compress=!1}},{key:"__init4",value:function(){this.stretch=!1}},{key:"__init5",value:function(){this.uniform=!1}},{key:"__init6",value:function(){this.mix=1}},{key:"__init7",value:function(){this.softness=0}}]),n}(nr),sr=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t,0,!1),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),n.prototype.__init3.call($n(i)),n.prototype.__init4.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.bones=new Array}},{key:"__init2",value:function(){this.mixRotate=0}},{key:"__init3",value:function(){this.mixX=0}},{key:"__init4",value:function(){this.mixY=0}}]),n}(nr);!function(t){t[t.Fixed=0]="Fixed";t[t.Percent=1]="Percent"}(Qi||(Qi={})),function(t){t[t.Length=0]="Length";t[t.Fixed=1]="Fixed";t[t.Percent=2]="Percent";t[t.Proportional=3]="Proportional"}(Ji||(Ji={})),function(t){t[t.Tangent=0]="Tangent";t[t.Chain=1]="Chain";t[t.ChainScale=2]="ChainScale"}(tr||(tr={}));var ur=function(){function t(e,n){if(Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this),t.prototype.__init10.call(this),t.prototype.__init11.call(this),t.prototype.__init12.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.bones=new Array;for(var i=0,r=e.bones.length;i<r;i++)this.bones.push(n.findBone(e.bones[i].name));this.target=n.findSlot(e.target.name),this.position=e.position,this.spacing=e.spacing,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY}return Wn(t,[{key:"__init",value:function(){this.position=0}},{key:"__init2",value:function(){this.spacing=0}},{key:"__init3",value:function(){this.mixRotate=0}},{key:"__init4",value:function(){this.mixX=0}},{key:"__init5",value:function(){this.mixY=0}},{key:"__init6",value:function(){this.spaces=new Array}},{key:"__init7",value:function(){this.positions=new Array}},{key:"__init8",value:function(){this.world=new Array}},{key:"__init9",value:function(){this.curves=new Array}},{key:"__init10",value:function(){this.lengths=new Array}},{key:"__init11",value:function(){this.segments=new Array}},{key:"__init12",value:function(){this.active=!1}},{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){var e=this.target.getAttachment();if(e instanceof ai){var n=this.mixRotate,i=this.mixX,r=this.mixY;if(0!=n||0!=i||0!=r){var a=this.data,o=a.rotateMode==tr.Tangent,s=a.rotateMode==tr.ChainScale,u=this.bones.length,l=o?u:u+1,h=this.bones,c=z.setArraySize(this.spaces,l),f=s?this.lengths=z.setArraySize(this.lengths,u):null,d=this.spacing;switch(a.spacingMode){case Ji.Percent:if(s)for(var p=0,v=l-1;p<v;p++){var _=h[p],m=_.data.length;if(m<t.epsilon)f[p]=0;else{var y=m*_.matrix.a,g=m*_.matrix.b;f[p]=Math.sqrt(y*y+g*g)}}z.arrayFill(c,1,l,d);break;case Ji.Proportional:for(var b=0,x=0;x<u;){var w=h[x],E=w.data.length;if(E<t.epsilon)s&&(f[x]=0),c[++x]=d;else{var S=E*w.matrix.a,k=E*w.matrix.b,T=Math.sqrt(S*S+k*k);s&&(f[x]=T),c[++x]=T,b+=T}}if(b>0){b=l/b*d;for(var A=1;A<l;A++)c[A]*=b}break;default:for(var R=a.spacingMode==Ji.Length,I=0,C=l-1;I<C;){var P=h[I],M=P.data.length;if(M<t.epsilon)s&&(f[I]=0),c[++I]=d;else{var O=M*P.matrix.a,D=M*P.matrix.b,N=Math.sqrt(O*O+D*D);s&&(f[I]=N),c[++I]=(R?M+d:d)*N/M}}}var L=this.computeWorldPositions(e,l,o),F=L[0],B=L[1],V=a.offsetRotation,U=!1;if(0==V)U=a.rotateMode==tr.Chain;else{U=!1;var X=this.target.bone.matrix;V*=X.a*X.d-X.b*X.c>0?j.degRad:-j.degRad}for(var Y=0,G=3;Y<u;Y++,G+=3){var H=h[Y],W=H.matrix;W.tx+=(F-W.tx)*i,W.ty+=(B-W.ty)*r;var q=L[G],Z=L[G+1],K=q-F,$=Z-B;if(s){var Q=f[Y];if(0!=Q){var J=(Math.sqrt(K*K+$*$)/Q-1)*n+1;W.a*=J,W.b*=J}}if(F=q,B=Z,n){var tt=W.a,et=W.c,nt=W.b,it=W.d,rt=0,at=0,ot=0;if(rt=o?L[G-1]:0==c[Y+1]?L[G+2]:Math.atan2($,K),rt-=Math.atan2(nt,tt),U){at=Math.cos(rt),ot=Math.sin(rt);var st=H.data.length;F+=(st*(at*tt-ot*nt)-K)*n,B+=(st*(ot*tt+at*nt)-$)*n}else rt+=V;rt>j.PI?rt-=j.PI2:rt<-j.PI&&(rt+=j.PI2),rt*=n,at=Math.cos(rt),ot=Math.sin(rt),W.a=at*tt-ot*nt,W.c=at*et-ot*it,W.b=ot*tt+at*nt,W.d=ot*et+at*it}H.appliedValid=!1}}}}},{key:"computeWorldPositions",value:function(e,n,i){var r=this.target,a=this.position,o=this.spaces,s=z.setArraySize(this.positions,3*n+2),u=null,l=e.closed,h=e.worldVerticesLength,c=h/6,f=t.NONE;if(!e.constantSpeed){var d,p=e.lengths,v=p[c-=l?1:2];switch(this.data.positionMode==Qi.Percent&&(a*=v),this.data.spacingMode){case Ji.Percent:d=v;break;case Ji.Proportional:d=v/n;break;default:d=1}u=z.setArraySize(this.world,8);for(var _=0,m=0,y=0;_<n;_++,m+=3){var g=o[_]*d,b=a+=g;if(l)(b%=v)<0&&(b+=v),y=0;else{if(b<0){f!=t.BEFORE&&(f=t.BEFORE,e.computeWorldVertices(r,2,4,u,0,2)),this.addBeforePosition(b,u,0,s,m);continue}if(b>v){f!=t.AFTER&&(f=t.AFTER,e.computeWorldVertices(r,h-6,4,u,0,2)),this.addAfterPosition(b-v,u,0,s,m);continue}}for(;;y++){var x=p[y];if(!(b>x)){if(0==y)b/=x;else{var w=p[y-1];b=(b-w)/(x-w)}break}}y!=f&&(f=y,l&&y==c?(e.computeWorldVertices(r,h-4,4,u,0,2),e.computeWorldVertices(r,0,4,u,4,2)):e.computeWorldVertices(r,6*y+2,8,u,0,2)),this.addCurvePosition(b,u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],s,m,i||_>0&&0==g)}return s}l?(h+=2,u=z.setArraySize(this.world,h),e.computeWorldVertices(r,2,h-4,u,0,2),e.computeWorldVertices(r,0,2,u,h-4,2),u[h-2]=u[0],u[h-1]=u[1]):(c--,h-=4,u=z.setArraySize(this.world,h),e.computeWorldVertices(r,2,h,u,0,2));for(var E=z.setArraySize(this.curves,c),S=0,k=u[0],T=u[1],A=0,R=0,I=0,C=0,P=0,M=0,O=0,D=0,N=0,L=0,F=0,B=0,V=0,U=0,X=0,Y=2;X<c;X++,Y+=6)A=u[Y],R=u[Y+1],I=u[Y+2],C=u[Y+3],F=2*(O=.1875*(k-2*A+I))+(N=.09375*(3*(A-I)-k+(P=u[Y+4]))),B=2*(D=.1875*(T-2*R+C))+(L=.09375*(3*(R-C)-T+(M=u[Y+5]))),V=.75*(A-k)+O+.16666667*N,U=.75*(R-T)+D+.16666667*L,S+=Math.sqrt(V*V+U*U),V+=F,U+=B,F+=N,B+=L,S+=Math.sqrt(V*V+U*U),V+=F,U+=B,S+=Math.sqrt(V*V+U*U),V+=F+N,U+=B+L,S+=Math.sqrt(V*V+U*U),E[X]=S,k=P,T=M;this.data.positionMode==Qi.Percent&&(a*=S);var j=0;switch(this.data.spacingMode){case Ji.Percent:j=S;break;case Ji.Proportional:j=S/n;break;default:j=1}for(var G=this.segments,H=0,W=0,q=0,Z=0,K=0;W<n;W++,q+=3){var $=o[W]*j,Q=a+=$;if(l)(Q%=S)<0&&(Q+=S),Z=0;else{if(Q<0){this.addBeforePosition(Q,u,0,s,q);continue}if(Q>S){this.addAfterPosition(Q-S,u,h-4,s,q);continue}}for(;;Z++){var J=E[Z];if(!(Q>J)){if(0==Z)Q/=J;else{var tt=E[Z-1];Q=(Q-tt)/(J-tt)}break}}if(Z!=f){f=Z;var et=6*Z;for(k=u[et],T=u[et+1],A=u[et+2],R=u[et+3],I=u[et+4],C=u[et+5],F=2*(O=.03*(k-2*A+I))+(N=.006*(3*(A-I)-k+(P=u[et+6]))),B=2*(D=.03*(T-2*R+C))+(L=.006*(3*(R-C)-T+(M=u[et+7]))),V=.3*(A-k)+O+.16666667*N,U=.3*(R-T)+D+.16666667*L,H=Math.sqrt(V*V+U*U),G[0]=H,et=1;et<8;et++)V+=F,U+=B,F+=N,B+=L,H+=Math.sqrt(V*V+U*U),G[et]=H;V+=F,U+=B,H+=Math.sqrt(V*V+U*U),G[8]=H,V+=F+N,U+=B+L,H+=Math.sqrt(V*V+U*U),G[9]=H,K=0}for(Q*=H;;K++){var nt=G[K];if(!(Q>nt)){if(0==K)Q/=nt;else{var it=G[K-1];Q=K+(Q-it)/(nt-it)}break}}this.addCurvePosition(.1*Q,k,T,A,R,I,C,P,M,s,q,i||W>0&&0==$)}return s}},{key:"addBeforePosition",value:function(t,e,n,i,r){var a=e[n],o=e[n+1],s=e[n+2]-a,u=e[n+3]-o,l=Math.atan2(u,s);i[r]=a+t*Math.cos(l),i[r+1]=o+t*Math.sin(l),i[r+2]=l}},{key:"addAfterPosition",value:function(t,e,n,i,r){var a=e[n+2],o=e[n+3],s=a-e[n],u=o-e[n+1],l=Math.atan2(u,s);i[r]=a+t*Math.cos(l),i[r+1]=o+t*Math.sin(l),i[r+2]=l}},{key:"addCurvePosition",value:function(t,e,n,i,r,a,o,s,u,l,h,c){if(0==t||isNaN(t))return l[h]=e,l[h+1]=n,void(l[h+2]=Math.atan2(r-n,i-e));var f=t*t,d=f*t,p=1-t,v=p*p,_=v*p,m=p*t,y=3*m,g=p*y,b=y*t,x=e*_+i*g+a*b+s*d,w=n*_+r*g+o*b+u*d;l[h]=x,l[h+1]=w,c&&(l[h+2]=t<.001?Math.atan2(r-n,i-e):Math.atan2(w-(n*v+r*m*2+o*f),x-(e*v+i*m*2+a*f)))}}],[{key:"__initStatic",value:function(){this.NONE=-1}},{key:"__initStatic2",value:function(){this.BEFORE=-2}},{key:"__initStatic3",value:function(){this.AFTER=-3}},{key:"__initStatic4",value:function(){this.epsilon=1e-5}}]),t}();ur.__initStatic(),ur.__initStatic2(),ur.__initStatic3(),ur.__initStatic4();var lr=function(){function t(e,n){if(Jn(this,t),t.prototype.__init.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=e,this.bone=n,this.color=new Y,this.darkColor=null==e.darkColor?null:new Y,this.setToSetupPose(),this.blendMode=this.data.blendMode}return Wn(t,[{key:"__init",value:function(){this.deform=new Array}},{key:"getSkeleton",value:function(){return this.bone.skeleton}},{key:"getAttachment",value:function(){return this.attachment}},{key:"setAttachment",value:function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)}},{key:"setAttachmentTime",value:function(t){this.attachmentTime=this.bone.skeleton.time-t}},{key:"getAttachmentTime",value:function(){return this.bone.skeleton.time-this.attachmentTime}},{key:"setToSetupPose",value:function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}}]),t}(),hr=function(){function t(e,n){if(Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(var i=0;i<e.bones.length;i++)this.bones.push(n.findBone(e.bones[i].name));this.target=n.findBone(e.target.name)}return Wn(t,[{key:"__init",value:function(){this.mixRotate=0}},{key:"__init2",value:function(){this.mixX=0}},{key:"__init3",value:function(){this.mixY=0}},{key:"__init4",value:function(){this.mixScaleX=0}},{key:"__init5",value:function(){this.mixScaleY=0}},{key:"__init6",value:function(){this.mixShearY=0}},{key:"__init7",value:function(){this.temp=new K}},{key:"__init8",value:function(){this.active=!1}},{key:"isActive",value:function(){return this.active}},{key:"update",value:function(){0==this.mixRotate&&0==this.mixX&&0==this.mixY&&0==this.mixScaleX&&0==this.mixScaleX&&0==this.mixShearY||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}},{key:"applyAbsoluteWorld",value:function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,i=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,o=0!=e||0!=n,s=this.target,u=s.matrix,l=u.a,h=u.c,c=u.b,f=u.d,d=l*f-h*c>0?j.degRad:-j.degRad,p=this.data.offsetRotation*d,v=this.data.offsetShearY*d,_=this.bones,m=0,y=_.length;m<y;m++){var g=_[m],b=g.matrix;if(0!=t){var x=b.a,w=b.c,E=b.b,S=b.d,k=Math.atan2(c,l)-Math.atan2(E,x)+p;k>j.PI?k-=j.PI2:k<-j.PI&&(k+=j.PI2),k*=t;var T=Math.cos(k),A=Math.sin(k);b.a=T*x-A*E,b.c=T*w-A*S,b.b=A*x+T*E,b.d=A*w+T*S}if(o){var R=this.temp;s.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=(R.x-b.tx)*e,b.ty+=(R.y-b.tx)*n}if(0!=i){var I=Math.sqrt(b.a*b.a+b.b*b.b);0!=I&&(I=(I+(Math.sqrt(l*l+c*c)-I+this.data.offsetScaleX)*i)/I),b.a*=I,b.b*=I}if(0!=r){var C=Math.sqrt(b.c*b.c+b.d*b.d);0!=C&&(C=(C+(Math.sqrt(h*h+f*f)-C+this.data.offsetScaleY)*r)/C),b.c*=C,b.d*=C}if(a>0){var P=b.c,M=b.d,O=Math.atan2(M,P),D=Math.atan2(f,h)-Math.atan2(c,l)-(O-Math.atan2(b.b,b.a));D>j.PI?D-=j.PI2:D<-j.PI&&(D+=j.PI2),D=O+(D+v)*a;var N=Math.sqrt(P*P+M*M);b.c=Math.cos(D)*N,b.d=Math.sin(D)*N}g.appliedValid=!1}}},{key:"applyRelativeWorld",value:function(){for(var t=this.mixRotate,e=this.mixX,n=this.mixY,i=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,o=0!=e||0!=n,s=this.target,u=s.matrix,l=u.a,h=u.c,c=u.b,f=u.d,d=l*f-h*c>0?j.degRad:-j.degRad,p=this.data.offsetRotation*d,v=this.data.offsetShearY*d,_=this.bones,m=0,y=_.length;m<y;m++){var g=_[m],b=g.matrix;if(0!=t){var x=b.a,w=b.c,E=b.b,S=b.d,k=Math.atan2(c,l)+p;k>j.PI?k-=j.PI2:k<-j.PI&&(k+=j.PI2),k*=t;var T=Math.cos(k),A=Math.sin(k);b.a=T*x-A*E,b.c=T*w-A*S,b.b=A*x+T*E,b.d=A*w+T*S}if(o){var R=this.temp;s.localToWorld(R.set(this.data.offsetX,this.data.offsetY)),b.tx+=R.x*e,b.ty+=R.y*n}if(0!=i){var I=(Math.sqrt(l*l+c*c)-1+this.data.offsetScaleX)*i+1;b.a*=I,b.b*=I}if(0!=r){var C=(Math.sqrt(h*h+f*f)-1+this.data.offsetScaleY)*r+1;b.c*=C,b.d*=C}if(a>0){var P=Math.atan2(f,h)-Math.atan2(c,l);P>j.PI?P-=j.PI2:P<-j.PI&&(P+=j.PI2);var M=b.c,O=b.d;P=Math.atan2(O,M)+(P-j.PI/2+v)*a;var D=Math.sqrt(M*M+O*O);b.c=Math.cos(P)*D,b.d=Math.sin(P)*D}g.appliedValid=!1}}},{key:"applyAbsoluteLocal",value:function(){var t=this.mixRotate,e=this.mixX,n=this.mixY,i=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var s=this.bones,u=0,l=s.length;u<l;u++){var h=s[u];h.appliedValid||h.updateAppliedTransform();var c=h.arotation;if(0!=t){var f=o.arotation-c+this.data.offsetRotation;c+=(f-=360*(16384-(16384.499999999996-f/360|0)))*t}var d=h.ax,p=h.ay;d+=(o.ax-d+this.data.offsetX)*e,p+=(o.ay-p+this.data.offsetY)*n;var v=h.ascaleX,_=h.ascaleY;0!=i&&0!=v&&(v=(v+(o.ascaleX-v+this.data.offsetScaleX)*i)/v),0!=r&&0!=_&&(_=(_+(o.ascaleY-_+this.data.offsetScaleY)*r)/_);var m=h.ashearY;if(0!=a){var y=o.ashearY-m+this.data.offsetShearY;m+=(y-=360*(16384-(16384.499999999996-y/360|0)))*a}h.updateWorldTransformWith(d,p,c,v,_,h.ashearX,m)}}},{key:"applyRelativeLocal",value:function(){var t=this.mixRotate,e=this.mixX,n=this.mixY,i=this.mixScaleX,r=this.mixScaleY,a=this.mixShearY,o=this.target;o.appliedValid||o.updateAppliedTransform();for(var s=this.bones,u=0,l=s.length;u<l;u++){var h=s[u];h.appliedValid||h.updateAppliedTransform();var c=h.arotation+(o.arotation+this.data.offsetRotation)*t,f=h.ax+(o.ax+this.data.offsetX)*e,d=h.ay+(o.ay+this.data.offsetY)*n,p=h.ascaleX*((o.ascaleX-1+this.data.offsetScaleX)*i)+1,v=h.ascaleY*((o.ascaleY-1+this.data.offsetScaleY)*r)+1,_=h.ashearY+(o.ashearY+this.data.offsetShearY)*a;h.updateWorldTransformWith(f,d,c,p,v,h.ashearX,_)}}}]),t}(),cr=function(){function t(e){if(Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var i=e.bones[n],r=void 0;if(null==i.parent)r=new er(i,this,null);else{var a=this.bones[i.parent.index];r=new er(i,this,a),a.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(var o=0;o<e.slots.length;o++){var s=e.slots[o],u=this.bones[s.boneData.index],l=new lr(s,u);this.slots.push(l),this.drawOrder.push(l)}this.ikConstraints=new Array;for(var h=0;h<e.ikConstraints.length;h++){var c=e.ikConstraints[h];this.ikConstraints.push(new ar(c,this))}this.transformConstraints=new Array;for(var f=0;f<e.transformConstraints.length;f++){var d=e.transformConstraints[f];this.transformConstraints.push(new hr(d,this))}this.pathConstraints=new Array;for(var p=0;p<e.pathConstraints.length;p++){var v=e.pathConstraints[p];this.pathConstraints.push(new ur(v,this))}this.color=new Y(1,1,1,1),this.updateCache()}return Wn(t,[{key:"__init",value:function(){this._updateCache=new Array}},{key:"__init2",value:function(){this.time=0}},{key:"__init3",value:function(){this.scaleX=1}},{key:"__init4",value:function(){this.scaleY=1}},{key:"__init5",value:function(){this.x=0}},{key:"__init6",value:function(){this.y=0}},{key:"updateCache",value:function(){var t=this._updateCache;t.length=0;for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];r.sorted=r.data.skinRequired,r.active=!r.sorted}if(null!=this.skin)for(var a=this.skin.bones,o=0,s=this.skin.bones.length;o<s;o++){var u=this.bones[a[o].index];do{u.sorted=!1,u.active=!0,u=u.parent}while(null!=u)}var l=this.ikConstraints,h=this.transformConstraints,c=this.pathConstraints,f=l.length,d=h.length,p=c.length,v=f+d+p;t:for(var _=0;_<v;_++){for(var m=0;m<f;m++){var y=l[m];if(y.data.order==_){this.sortIkConstraint(y);continue t}}for(var g=0;g<d;g++){var b=h[g];if(b.data.order==_){this.sortTransformConstraint(b);continue t}}for(var x=0;x<p;x++){var w=c[x];if(w.data.order==_){this.sortPathConstraint(w);continue t}}}for(var E=0,S=e.length;E<S;E++)this.sortBone(e[E])}},{key:"sortIkConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&z.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target;this.sortBone(e);var n=t.bones,i=n[0];if(this.sortBone(i),1==n.length)this._updateCache.push(t),this.sortReset(i.children);else{var r=n[n.length-1];this.sortBone(r),this._updateCache.push(t),this.sortReset(i.children),r.sorted=!0}}}},{key:"sortPathConstraint",value:function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&z.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,n=e.data.index,i=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var r=0,a=this.data.skins.length;r<a;r++)this.sortPathConstraintAttachment(this.data.skins[r],n,i);var o=e.getAttachment();o instanceof ai&&this.sortPathConstraintAttachmentWith(o,i);for(var s=t.bones,u=s.length,l=0;l<u;l++)this.sortBone(s[l]);this._updateCache.push(t);for(var h=0;h<u;h++)this.sortReset(s[h].children);for(var c=0;c<u;c++)s[c].sorted=!0}}},{key:"sortTransformConstraint",value:function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&z.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var i=0;i<n;i++){var r=e[i];this.sortBone(r.parent),this.sortBone(r)}else for(var a=0;a<n;a++)this.sortBone(e[a]);this._updateCache.push(t);for(var o=0;o<n;o++)this.sortReset(e[o].children);for(var s=0;s<n;s++)e[s].sorted=!0}}},{key:"sortPathConstraintAttachment",value:function(t,e,n){var i=t.attachments[e];if(i)for(var r in i)this.sortPathConstraintAttachmentWith(i[r],n)}},{key:"sortPathConstraintAttachmentWith",value:function(t,e){if(t instanceof ai){var n=t.bones;if(null==n)this.sortBone(e);else for(var i=this.bones,r=0,a=n.length;r<a;){var o=n[r++];for(o+=r;r<o;)this.sortBone(i[n[r++]])}}}},{key:"sortBone",value:function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}}},{key:"sortReset",value:function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}}},{key:"updateWorldTransform",value:function(){for(var t=this._updateCache,e=0,n=t.length;e<n;e++)t[e].update()}},{key:"updateWorldTransformWith",value:function(t){var e=this.getRootBone(),n=t.matrix.a,i=t.matrix.c,r=t.matrix.b,a=t.matrix.d;e.matrix.tx=n*this.x+i*this.y+t.worldX,e.matrix.ty=r*this.x+a*this.y+t.worldY;var o=e.rotation+90+e.shearY,s=j.cosDeg(e.rotation+e.shearX)*e.scaleX,u=j.cosDeg(o)*e.scaleY,l=j.sinDeg(e.rotation+e.shearX)*e.scaleX,h=j.sinDeg(o)*e.scaleY,c=this.scaleX,f=J.yDown?-this.scaleY:this.scaleY;e.matrix.a=(n*s+i*l)*c,e.matrix.b=(n*u+i*h)*c,e.matrix.c=(r*s+a*l)*f,e.matrix.d=(r*u+a*h)*f;for(var d=this._updateCache,p=0,v=d.length;p<v;p++){var _=d[p];_!=e&&_.update()}}},{key:"setToSetupPose",value:function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}},{key:"setBonesToSetupPose",value:function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,r=0,a=i.length;r<a;r++){var o=i[r];o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}for(var s=this.transformConstraints,u=0,l=s.length;u<l;u++){var h=s[u],c=h.data;h.mixRotate=c.mixRotate,h.mixX=c.mixX,h.mixY=c.mixY,h.mixScaleX=c.mixScaleX,h.mixScaleY=c.mixScaleY,h.mixShearY=c.mixShearY}for(var f=this.pathConstraints,d=0,p=f.length;d<p;d++){var v=f[d],_=v.data;v.position=_.position,v.spacing=_.spacing,v.mixRotate=_.mixRotate,v.mixX=_.mixX,v.mixY=_.mixY}}},{key:"setSlotsToSetupPose",value:function(){var t=this.slots;z.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()}},{key:"getRootBone",value:function(){return 0==this.bones.length?null:this.bones[0]}},{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1}},{key:"setSkinByName",value:function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)}},{key:"setSkin",value:function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n],a=r.data.attachmentName;if(null!=a){var o=t.getAttachment(n,a);null!=o&&r.setAttachment(o)}}this.skin=t,this.updateCache()}}},{key:"getAttachmentByName",value:function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)}},{key:"getAttachment",value:function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null}},{key:"setAttachment",value:function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,r=n.length;i<r;i++){var a=n[i];if(a.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(i,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(o)}}throw new Error("Slot not found: "+t)}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null}},{key:"getBounds",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Array(2);if(null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var i=this.drawOrder,r=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=0,l=i.length;u<l;u++){var h=i[u];if(h.bone.active){var c=0,f=null,d=h.getAttachment();if(d instanceof si)c=8,f=z.setArraySize(n,c,0),d.computeWorldVertices(h.bone,f,0,2);else if(d instanceof ri){var p=d;c=p.worldVerticesLength,f=z.setArraySize(n,c,0),p.computeWorldVertices(h,0,c,f,0,2)}if(null!=f)for(var v=0,_=f.length;v<_;v+=2){var m=f[v],y=f[v+1];r=Math.min(r,m),a=Math.min(a,y),o=Math.max(o,m),s=Math.max(s,y)}}}t.set(r,a),e.set(o-r,s-a)}},{key:"update",value:function(t){this.time+=t}},{key:"flipX",get:function(){return-1==this.scaleX},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.scaleX=e?1:-1}},{key:"flipY",get:function(){return-1==this.scaleY},set:function(e){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.scaleY=e?1:-1}}],[{key:"__initStatic",value:function(){this.deprecatedWarning1=!1}}]),t}();cr.__initStatic();var fr=function(){function t(){Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this),t.prototype.__init8.call(this),t.prototype.__init9.call(this)}return Wn(t,[{key:"__init",value:function(){this.bones=new Array}},{key:"__init2",value:function(){this.slots=new Array}},{key:"__init3",value:function(){this.skins=new Array}},{key:"__init4",value:function(){this.events=new Array}},{key:"__init5",value:function(){this.animations=new Array}},{key:"__init6",value:function(){this.ikConstraints=new Array}},{key:"__init7",value:function(){this.transformConstraints=new Array}},{key:"__init8",value:function(){this.pathConstraints=new Array}},{key:"__init9",value:function(){this.fps=0}},{key:"findBone",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findBoneIndex",value:function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1}},{key:"findSlot",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findSlotIndex",value:function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1}},{key:"findSkin",value:function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findEvent",value:function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findAnimation",value:function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findIkConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findTransformConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findPathConstraint",value:function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null}},{key:"findPathConstraintIndex",value:function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1}}]),t}(),dr=function(){function t(e,n,i){if(Jn(this,t),t.prototype.__init.call(this),e<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==i)throw new Error("boneData cannot be null.");this.index=e,this.name=n,this.boneData=i}return Wn(t,[{key:"__init",value:function(){this.color=new Y(1,1,1,1)}}]),t}(),pr=function(t){zn(n,t);var e=Zn(n);function n(t){var i;return Jn(this,n),i=e.call(this,t,0,!1),n.prototype.__init.call($n(i)),n.prototype.__init2.call($n(i)),n.prototype.__init3.call($n(i)),n.prototype.__init4.call($n(i)),n.prototype.__init5.call($n(i)),n.prototype.__init6.call($n(i)),n.prototype.__init7.call($n(i)),n.prototype.__init8.call($n(i)),n.prototype.__init9.call($n(i)),n.prototype.__init10.call($n(i)),n.prototype.__init11.call($n(i)),n.prototype.__init12.call($n(i)),n.prototype.__init13.call($n(i)),n.prototype.__init14.call($n(i)),n.prototype.__init15.call($n(i)),i}return Wn(n,[{key:"__init",value:function(){this.bones=new Array}},{key:"__init2",value:function(){this.mixRotate=0}},{key:"__init3",value:function(){this.mixX=0}},{key:"__init4",value:function(){this.mixY=0}},{key:"__init5",value:function(){this.mixScaleX=0}},{key:"__init6",value:function(){this.mixScaleY=0}},{key:"__init7",value:function(){this.mixShearY=0}},{key:"__init8",value:function(){this.offsetRotation=0}},{key:"__init9",value:function(){this.offsetX=0}},{key:"__init10",value:function(){this.offsetY=0}},{key:"__init11",value:function(){this.offsetScaleX=0}},{key:"__init12",value:function(){this.offsetScaleY=0}},{key:"__init13",value:function(){this.offsetShearY=0}},{key:"__init14",value:function(){this.relative=!1}},{key:"__init15",value:function(){this.local=!1}}]),n}(nr),vr=function t(e,n,i){Jn(this,t),this.slotIndex=e,this.name=n,this.attachment=i},_r=function(){function t(e){if(Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),null==e)throw new Error("name cannot be null.");this.name=e}return Wn(t,[{key:"__init",value:function(){this.attachments=new Array}},{key:"__init2",value:function(){this.bones=Array()}},{key:"__init3",value:function(){this.constraints=new Array}},{key:"setAttachment",value:function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=n}},{key:"addSkin",value:function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,r=0;r<this.bones.length;r++)if(this.bones[r]==n){i=!0;break}i||this.bones.push(n)}for(var a=0;a<t.constraints.length;a++){for(var o=t.constraints[a],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==o){s=!0;break}s||this.constraints.push(o)}for(var l=t.getAttachments(),h=0;h<l.length;h++){var c=l[h];this.setAttachment(c.slotIndex,c.name,c.attachment)}}},{key:"copySkin",value:function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,r=0;r<this.bones.length;r++)if(this.bones[r]==n){i=!0;break}i||this.bones.push(n)}for(var a=0;a<t.constraints.length;a++){for(var o=t.constraints[a],s=!1,u=0;u<this.constraints.length;u++)if(this.constraints[u]==o){s=!0;break}s||this.constraints.push(o)}for(var l=t.getAttachments(),h=0;h<l.length;h++){var c=l[h];null!=c.attachment&&(c.attachment instanceof ri?(c.attachment=c.attachment.newLinkedMesh(),this.setAttachment(c.slotIndex,c.name,c.attachment)):(c.attachment=c.attachment.copy(),this.setAttachment(c.slotIndex,c.name,c.attachment)))}}},{key:"getAttachment",value:function(t,e){var n=this.attachments[t];return n?n[e]:null}},{key:"removeAttachment",value:function(t,e){var n=this.attachments[t];n&&(n[e]=null)}},{key:"getAttachments",value:function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var i in n){var r=n[i];r&&t.push(new vr(e,i,r))}}return t}},{key:"getAttachmentsForSlot",value:function(t,e){var n=this.attachments[t];if(n)for(var i in n){var r=n[i];r&&e.push(new vr(t,i,r))}}},{key:"clear",value:function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}},{key:"attachAll",value:function(t,e){for(var n=0,i=0;i<t.slots.length;i++){var r=t.slots[i],a=r.getAttachment();if(a&&n<e.attachments.length){var o=e.attachments[n];for(var s in o){if(a==o[s]){var u=this.getAttachment(n,s);null!=u&&r.setAttachment(u);break}}}n++}}}]),t}(),mr=function(){function t(e){Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),this.attachmentLoader=e}return Wn(t,[{key:"__init",value:function(){this.scale=1}},{key:"__init2",value:function(){this.linkedMeshes=new Array}},{key:"readSkeletonData",value:function(e){var n=this.scale,i=new fr;i.name="";var r=new R(e),a=r.readInt32(),o=r.readInt32();if(i.hash=0==o&&0==a?null:o.toString(16)+a.toString(16),i.version=r.readString(),"4.0"!==i.version.substr(0,3))i.version;i.x=r.readFloat(),i.y=r.readFloat(),i.width=r.readFloat(),i.height=r.readFloat();var s=r.readBoolean();s&&(i.fps=r.readFloat(),i.imagesPath=r.readString(),i.audioPath=r.readString());var u=0;u=r.readInt(!0);for(var l=0;l<u;l++)r.strings.push(r.readString());u=r.readInt(!0);for(var h=0;h<u;h++){var c=r.readString(),f=0==h?null:i.bones[r.readInt(!0)],d=new $i(h,c,f);d.rotation=r.readFloat(),d.x=r.readFloat()*n,d.y=r.readFloat()*n,d.scaleX=r.readFloat(),d.scaleY=r.readFloat(),d.shearX=r.readFloat(),d.shearY=r.readFloat(),d.length=r.readFloat()*n,d.transformMode=t.TransformModeValues[r.readInt(!0)],d.skinRequired=r.readBoolean(),s&&Y.rgba8888ToColor(d.color,r.readInt32()),i.bones.push(d)}u=r.readInt(!0);for(var p=0;p<u;p++){var v=r.readString(),_=i.bones[r.readInt(!0)],m=new dr(p,v,_);Y.rgba8888ToColor(m.color,r.readInt32());var y=r.readInt32();-1!=y&&Y.rgb888ToColor(m.darkColor=new Y,y),m.attachmentName=r.readStringRef(),m.blendMode=t.BlendModeValues[r.readInt(!0)],i.slots.push(m)}u=r.readInt(!0);for(var g,b=0;b<u;b++){var x=new or(r.readString());x.order=r.readInt(!0),x.skinRequired=r.readBoolean(),g=r.readInt(!0);for(var w=0;w<g;w++)x.bones.push(i.bones[r.readInt(!0)]);x.target=i.bones[r.readInt(!0)],x.mix=r.readFloat(),x.softness=r.readFloat()*n,x.bendDirection=r.readByte(),x.compress=r.readBoolean(),x.stretch=r.readBoolean(),x.uniform=r.readBoolean(),i.ikConstraints.push(x)}u=r.readInt(!0);for(var E,S=0;S<u;S++){var k=new pr(r.readString());k.order=r.readInt(!0),k.skinRequired=r.readBoolean(),E=r.readInt(!0);for(var T=0;T<E;T++)k.bones.push(i.bones[r.readInt(!0)]);k.target=i.bones[r.readInt(!0)],k.local=r.readBoolean(),k.relative=r.readBoolean(),k.offsetRotation=r.readFloat(),k.offsetX=r.readFloat()*n,k.offsetY=r.readFloat()*n,k.offsetScaleX=r.readFloat(),k.offsetScaleY=r.readFloat(),k.offsetShearY=r.readFloat(),k.mixRotate=r.readFloat(),k.mixX=r.readFloat(),k.mixY=r.readFloat(),k.mixScaleX=r.readFloat(),k.mixScaleY=r.readFloat(),k.mixShearY=r.readFloat(),i.transformConstraints.push(k)}u=r.readInt(!0);for(var A,I=0;I<u;I++){var C=new sr(r.readString());C.order=r.readInt(!0),C.skinRequired=r.readBoolean(),A=r.readInt(!0);for(var P=0;P<A;P++)C.bones.push(i.bones[r.readInt(!0)]);C.target=i.slots[r.readInt(!0)],C.positionMode=t.PositionModeValues[r.readInt(!0)],C.spacingMode=t.SpacingModeValues[r.readInt(!0)],C.rotateMode=t.RotateModeValues[r.readInt(!0)],C.offsetRotation=r.readFloat(),C.position=r.readFloat(),C.positionMode==Qi.Fixed&&(C.position*=n),C.spacing=r.readFloat(),C.spacingMode!=Ji.Length&&C.spacingMode!=Ji.Fixed||(C.spacing*=n),C.mixRotate=r.readFloat(),C.mixX=r.readFloat(),C.mixY=r.readFloat(),i.pathConstraints.push(C)}var M=this.readSkin(r,i,!0,s);null!=M&&(i.defaultSkin=M,i.skins.push(M));var O=i.skins.length;for(z.setArraySize(i.skins,u=O+r.readInt(!0));O<u;O++)i.skins[O]=this.readSkin(r,i,!1,s);u=this.linkedMeshes.length;for(var D=0;D<u;D++){var N=this.linkedMeshes[D],L=null==N.skin?i.defaultSkin:i.findSkin(N.skin);if(null==L)throw new Error("Skin not found: "+N.skin);var F=L.getAttachment(N.slotIndex,N.parent);if(null==F)throw new Error("Parent mesh not found: "+N.parent);N.mesh.deformAttachment=N.inheritDeform?F:N.mesh,N.mesh.setParentMesh(F)}this.linkedMeshes.length=0,u=r.readInt(!0);for(var B=0;B<u;B++){var V=new rr(r.readStringRef());V.intValue=r.readInt(!1),V.floatValue=r.readFloat(),V.stringValue=r.readString(),V.audioPath=r.readString(),null!=V.audioPath&&(V.volume=r.readFloat(),V.balance=r.readFloat()),i.events.push(V)}u=r.readInt(!0);for(var U=0;U<u;U++)i.animations.push(this.readAnimation(r,r.readString(),i));return i}},{key:"readSkin",value:function(t,e,n,i){var r=null,a=0;if(n){if(0==(a=t.readInt(!0)))return null;r=new _r("default")}else{(r=new _r(t.readStringRef())).bones.length=t.readInt(!0);for(var o=0,s=r.bones.length;o<s;o++)r.bones[o]=e.bones[t.readInt(!0)];for(var u=0,l=t.readInt(!0);u<l;u++)r.constraints.push(e.ikConstraints[t.readInt(!0)]);for(var h=0,c=t.readInt(!0);h<c;h++)r.constraints.push(e.transformConstraints[t.readInt(!0)]);for(var f=0,d=t.readInt(!0);f<d;f++)r.constraints.push(e.pathConstraints[t.readInt(!0)]);a=t.readInt(!0)}for(var p=0;p<a;p++)for(var v=t.readInt(!0),_=0,m=t.readInt(!0);_<m;_++){var y=t.readStringRef(),g=this.readAttachment(t,e,r,v,y,i);null!=g&&r.setAttachment(v,y,g)}return r}},{key:"readAttachment",value:function(e,n,i,r,a,s){var u=this.scale,l=e.readStringRef();null==l&&(l=a);var h=e.readByte();switch(t.AttachmentTypeValues[h]){case o.Region:var c=e.readStringRef(),f=e.readFloat(),d=e.readFloat(),p=e.readFloat(),v=e.readFloat(),_=e.readFloat(),m=e.readFloat(),y=e.readFloat(),g=e.readInt32();null==c&&(c=l);var b=this.attachmentLoader.newRegionAttachment(i,l,c);return null==b?null:(b.path=c,b.x=d*u,b.y=p*u,b.scaleX=v,b.scaleY=_,b.rotation=f,b.width=m*u,b.height=y*u,Y.rgba8888ToColor(b.color,g),b);case o.BoundingBox:var x=e.readInt(!0),w=this.readVertices(e,x),E=s?e.readInt32():0,S=this.attachmentLoader.newBoundingBoxAttachment(i,l);return null==S?null:(S.worldVerticesLength=x<<1,S.vertices=w.vertices,S.bones=w.bones,s&&Y.rgba8888ToColor(S.color,E),S);case o.Mesh:var k=e.readStringRef(),T=e.readInt32(),A=e.readInt(!0),R=this.readFloatArray(e,A<<1,1),I=this.readShortArray(e),C=this.readVertices(e,A),P=e.readInt(!0),M=null,O=0,D=0;s&&(M=this.readShortArray(e),O=e.readFloat(),D=e.readFloat()),null==k&&(k=l);var N=this.attachmentLoader.newMeshAttachment(i,l,k);return null==N?null:(N.path=k,Y.rgba8888ToColor(N.color,T),N.bones=C.bones,N.vertices=C.vertices,N.worldVerticesLength=A<<1,N.triangles=I,N.regionUVs=new Float32Array(R),N.hullLength=P<<1,s&&(N.edges=M,N.width=O*u,N.height=D*u),N);case o.LinkedMesh:var L=e.readStringRef(),F=e.readInt32(),B=e.readStringRef(),V=e.readStringRef(),U=e.readBoolean(),X=0,j=0;s&&(X=e.readFloat(),j=e.readFloat()),null==L&&(L=l);var G=this.attachmentLoader.newMeshAttachment(i,l,L);return null==G?null:(G.path=L,Y.rgba8888ToColor(G.color,F),s&&(G.width=X*u,G.height=j*u),this.linkedMeshes.push(new gr(G,B,r,V,U)),G);case o.Path:for(var H=e.readBoolean(),W=e.readBoolean(),q=e.readInt(!0),Z=this.readVertices(e,q),K=z.newArray(q/3,0),$=0,Q=K.length;$<Q;$++)K[$]=e.readFloat()*u;var J=s?e.readInt32():0,tt=this.attachmentLoader.newPathAttachment(i,l);return null==tt?null:(tt.closed=H,tt.constantSpeed=W,tt.worldVerticesLength=q<<1,tt.vertices=Z.vertices,tt.bones=Z.bones,tt.lengths=K,s&&Y.rgba8888ToColor(tt.color,J),tt);case o.Point:var et=e.readFloat(),nt=e.readFloat(),it=e.readFloat(),rt=s?e.readInt32():0,at=this.attachmentLoader.newPointAttachment(i,l);return null==at?null:(at.x=nt*u,at.y=it*u,at.rotation=et,s&&Y.rgba8888ToColor(at.color,rt),at);case o.Clipping:var ot=e.readInt(!0),st=e.readInt(!0),ut=this.readVertices(e,st),lt=s?e.readInt32():0,ht=this.attachmentLoader.newClippingAttachment(i,l);return null==ht?null:(ht.endSlot=n.slots[ot],ht.worldVerticesLength=st<<1,ht.vertices=ut.vertices,ht.bones=ut.bones,s&&Y.rgba8888ToColor(ht.color,lt),ht)}return null}},{key:"readVertices",value:function(t,e){var n=this.scale,i=e<<1,r=new br;if(!t.readBoolean())return r.vertices=this.readFloatArray(t,i,n),r;for(var a=new Array,o=new Array,s=0;s<e;s++){var u=t.readInt(!0);o.push(u);for(var l=0;l<u;l++)o.push(t.readInt(!0)),a.push(t.readFloat()*n),a.push(t.readFloat()*n),a.push(t.readFloat())}return r.vertices=z.toFloatArray(a),r.bones=o,r}},{key:"readFloatArray",value:function(t,e,n){var i=new Array(e);if(1==n)for(var r=0;r<e;r++)i[r]=t.readFloat();else for(var a=0;a<e;a++)i[a]=t.readFloat()*n;return i}},{key:"readShortArray",value:function(t){for(var e=t.readInt(!0),n=new Array(e),i=0;i<e;i++)n[i]=t.readShort();return n}},{key:"readAnimation",value:function(e,n,i){e.readInt(!0);for(var r=new Array,a=this.scale,o=0,s=e.readInt(!0);o<s;o++)for(var u=e.readInt(!0),l=0,h=e.readInt(!0);l<h;l++){var c=e.readByte(),f=e.readInt(!0),d=f-1;switch(c){case t.SLOT_ATTACHMENT:for(var p=new Oi(f,u),v=0;v<f;v++)p.setFrame(v,e.readFloat(),e.readStringRef());r.push(p);break;case t.SLOT_RGBA:for(var _=e.readInt(!0),m=new Ri(f,_,u),y=e.readFloat(),g=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,x=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,E=0,S=0;m.setFrame(E,y,g,b,x,w),E!=d;E++){var k=e.readFloat(),T=e.readUnsignedByte()/255,A=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255,I=e.readUnsignedByte()/255;switch(e.readByte()){case t.CURVE_STEPPED:m.setStepped(E);break;case t.CURVE_BEZIER:t.setBezier(e,m,S++,E,0,y,k,g,T,1),t.setBezier(e,m,S++,E,1,y,k,b,A,1),t.setBezier(e,m,S++,E,2,y,k,x,R,1),t.setBezier(e,m,S++,E,3,y,k,w,I,1)}y=k,g=T,b=A,x=R,w=I}r.push(m);break;case t.SLOT_RGB:for(var C=e.readInt(!0),P=new Ii(f,C,u),M=e.readFloat(),O=e.readUnsignedByte()/255,D=e.readUnsignedByte()/255,N=e.readUnsignedByte()/255,L=0,F=0;P.setFrame(L,M,O,D,N),L!=d;L++){var B=e.readFloat(),V=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,X=e.readUnsignedByte()/255;switch(e.readByte()){case t.CURVE_STEPPED:P.setStepped(L);break;case t.CURVE_BEZIER:t.setBezier(e,P,F++,L,0,M,B,O,V,1),t.setBezier(e,P,F++,L,1,M,B,D,U,1),t.setBezier(e,P,F++,L,2,M,B,N,X,1)}M=B,O=V,D=U,N=X}r.push(P);break;case t.SLOT_RGBA2:for(var Y=e.readInt(!0),j=new Pi(f,Y,u),G=e.readFloat(),H=e.readUnsignedByte()/255,W=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255,Z=e.readUnsignedByte()/255,K=e.readUnsignedByte()/255,$=e.readUnsignedByte()/255,Q=e.readUnsignedByte()/255,J=0,tt=0;j.setFrame(J,G,H,W,q,Z,K,$,Q),J!=d;J++){var et=e.readFloat(),nt=e.readUnsignedByte()/255,it=e.readUnsignedByte()/255,rt=e.readUnsignedByte()/255,at=e.readUnsignedByte()/255,ot=e.readUnsignedByte()/255,st=e.readUnsignedByte()/255,ut=e.readUnsignedByte()/255;switch(e.readByte()){case t.CURVE_STEPPED:j.setStepped(J);break;case t.CURVE_BEZIER:t.setBezier(e,j,tt++,J,0,G,et,H,nt,1),t.setBezier(e,j,tt++,J,1,G,et,W,it,1),t.setBezier(e,j,tt++,J,2,G,et,q,rt,1),t.setBezier(e,j,tt++,J,3,G,et,Z,at,1),t.setBezier(e,j,tt++,J,4,G,et,K,ot,1),t.setBezier(e,j,tt++,J,5,G,et,$,st,1),t.setBezier(e,j,tt++,J,6,G,et,Q,ut,1)}G=et,H=nt,W=it,q=rt,Z=at,K=ot,$=st,Q=ut}r.push(j);break;case t.SLOT_RGB2:for(var lt=e.readInt(!0),ht=new Mi(f,lt,u),ct=e.readFloat(),ft=e.readUnsignedByte()/255,dt=e.readUnsignedByte()/255,pt=e.readUnsignedByte()/255,vt=e.readUnsignedByte()/255,_t=e.readUnsignedByte()/255,mt=e.readUnsignedByte()/255,yt=0,gt=0;ht.setFrame(yt,ct,ft,dt,pt,vt,_t,mt),yt!=d;yt++){var bt=e.readFloat(),xt=e.readUnsignedByte()/255,wt=e.readUnsignedByte()/255,Et=e.readUnsignedByte()/255,St=e.readUnsignedByte()/255,kt=e.readUnsignedByte()/255,Tt=e.readUnsignedByte()/255;switch(e.readByte()){case t.CURVE_STEPPED:ht.setStepped(yt);break;case t.CURVE_BEZIER:t.setBezier(e,ht,gt++,yt,0,ct,bt,ft,xt,1),t.setBezier(e,ht,gt++,yt,1,ct,bt,dt,wt,1),t.setBezier(e,ht,gt++,yt,2,ct,bt,pt,Et,1),t.setBezier(e,ht,gt++,yt,3,ct,bt,vt,St,1),t.setBezier(e,ht,gt++,yt,4,ct,bt,_t,kt,1),t.setBezier(e,ht,gt++,yt,5,ct,bt,mt,Tt,1)}ct=bt,ft=xt,dt=wt,pt=Et,vt=St,_t=kt,mt=Tt}r.push(ht);break;case t.SLOT_ALPHA:for(var At=new Ci(f,e.readInt(!0),u),Rt=e.readFloat(),It=e.readUnsignedByte()/255,Ct=0,Pt=0;At.setFrame(Ct,Rt,It),Ct!=d;Ct++){var Mt=e.readFloat(),Ot=e.readUnsignedByte()/255;switch(e.readByte()){case t.CURVE_STEPPED:At.setStepped(Ct);break;case t.CURVE_BEZIER:t.setBezier(e,At,Pt++,Ct,0,Rt,Mt,It,Ot,1)}Rt=Mt,It=Ot}r.push(At)}}for(var Dt=0,Nt=e.readInt(!0);Dt<Nt;Dt++)for(var Lt=e.readInt(!0),Ft=0,Bt=e.readInt(!0);Ft<Bt;Ft++){var Vt=e.readByte(),Ut=e.readInt(!0),Xt=e.readInt(!0);switch(Vt){case t.BONE_ROTATE:r.push(t.readTimeline(e,new yi(Ut,Xt,Lt),1));break;case t.BONE_TRANSLATE:r.push(t.readTimeline2(e,new gi(Ut,Xt,Lt),a));break;case t.BONE_TRANSLATEX:r.push(t.readTimeline(e,new bi(Ut,Xt,Lt),a));break;case t.BONE_TRANSLATEY:r.push(t.readTimeline(e,new xi(Ut,Xt,Lt),a));break;case t.BONE_SCALE:r.push(t.readTimeline2(e,new wi(Ut,Xt,Lt),1));break;case t.BONE_SCALEX:r.push(t.readTimeline(e,new Ei(Ut,Xt,Lt),1));break;case t.BONE_SCALEY:r.push(t.readTimeline(e,new Si(Ut,Xt,Lt),1));break;case t.BONE_SHEAR:r.push(t.readTimeline2(e,new ki(Ut,Xt,Lt),1));break;case t.BONE_SHEARX:r.push(t.readTimeline(e,new Ti(Ut,Xt,Lt),1));break;case t.BONE_SHEARY:r.push(t.readTimeline(e,new Ai(Ut,Xt,Lt),1))}}for(var Yt=0,jt=e.readInt(!0);Yt<jt;Yt++){for(var Gt=e.readInt(!0),Ht=e.readInt(!0),Wt=Ht-1,zt=new Bi(Ht,e.readInt(!0),Gt),qt=e.readFloat(),Zt=e.readFloat(),Kt=e.readFloat()*a,$t=0,Qt=0;zt.setFrame($t,qt,Zt,Kt,e.readByte(),e.readBoolean(),e.readBoolean()),$t!=Wt;$t++){var Jt=e.readFloat(),te=e.readFloat(),ee=e.readFloat()*a;switch(e.readByte()){case t.CURVE_STEPPED:zt.setStepped($t);break;case t.CURVE_BEZIER:t.setBezier(e,zt,Qt++,$t,0,qt,Jt,Zt,te,1),t.setBezier(e,zt,Qt++,$t,1,qt,Jt,Kt,ee,a)}qt=Jt,Zt=te,Kt=ee}r.push(zt)}for(var ne=0,ie=e.readInt(!0);ne<ie;ne++){for(var re=e.readInt(!0),ae=e.readInt(!0),oe=ae-1,se=new Vi(ae,e.readInt(!0),re),ue=e.readFloat(),le=e.readFloat(),he=e.readFloat(),ce=e.readFloat(),fe=e.readFloat(),de=e.readFloat(),pe=e.readFloat(),ve=0,_e=0;se.setFrame(ve,ue,le,he,ce,fe,de,pe),ve!=oe;ve++){var me=e.readFloat(),ye=e.readFloat(),ge=e.readFloat(),be=e.readFloat(),xe=e.readFloat(),we=e.readFloat(),Ee=e.readFloat();switch(e.readByte()){case t.CURVE_STEPPED:se.setStepped(ve);break;case t.CURVE_BEZIER:t.setBezier(e,se,_e++,ve,0,ue,me,le,ye,1),t.setBezier(e,se,_e++,ve,1,ue,me,he,ge,1),t.setBezier(e,se,_e++,ve,2,ue,me,ce,be,1),t.setBezier(e,se,_e++,ve,3,ue,me,fe,xe,1),t.setBezier(e,se,_e++,ve,4,ue,me,de,we,1),t.setBezier(e,se,_e++,ve,5,ue,me,pe,Ee,1)}ue=me,le=ye,he=ge,ce=be,fe=xe,de=we,pe=Ee}r.push(se)}for(var Se=0,ke=e.readInt(!0);Se<ke;Se++)for(var Te=e.readInt(!0),Ae=i.pathConstraints[Te],Re=0,Ie=e.readInt(!0);Re<Ie;Re++)switch(e.readByte()){case t.PATH_POSITION:r.push(t.readTimeline(e,new Ui(e.readInt(!0),e.readInt(!0),Te),Ae.positionMode==Qi.Fixed?a:1));break;case t.PATH_SPACING:r.push(t.readTimeline(e,new Xi(e.readInt(!0),e.readInt(!0),Te),Ae.spacingMode==Ji.Length||Ae.spacingMode==Ji.Fixed?a:1));break;case t.PATH_MIX:for(var Ce=new Yi(e.readInt(!0),e.readInt(!0),Te),Pe=e.readFloat(),Me=e.readFloat(),Oe=e.readFloat(),De=e.readFloat(),Ne=0,Le=0,Fe=Ce.getFrameCount()-1;Ce.setFrame(Ne,Pe,Me,Oe,De),Ne!=Fe;Ne++){var Be=e.readFloat(),Ve=e.readFloat(),Ue=e.readFloat(),Xe=e.readFloat();switch(e.readByte()){case t.CURVE_STEPPED:Ce.setStepped(Ne);break;case t.CURVE_BEZIER:t.setBezier(e,Ce,Le++,Ne,0,Pe,Be,Me,Ve,1),t.setBezier(e,Ce,Le++,Ne,1,Pe,Be,Oe,Ue,1),t.setBezier(e,Ce,Le++,Ne,2,Pe,Be,De,Xe,1)}Pe=Be,Me=Ve,Oe=Ue,De=Xe}r.push(Ce)}for(var Ye=0,je=e.readInt(!0);Ye<je;Ye++)for(var Ge=i.skins[e.readInt(!0)],He=0,We=e.readInt(!0);He<We;He++)for(var ze=e.readInt(!0),qe=0,Ze=e.readInt(!0);qe<Ze;qe++){var Ke=e.readStringRef(),$e=Ge.getAttachment(ze,Ke);if(null==$e)throw Error("Vertex attachment not found: "+Ke);for(var Qe=null!=$e.bones,Je=$e.vertices,tn=Qe?Je.length/3*2:Je.length,en=e.readInt(!0),nn=en-1,rn=e.readInt(!0),an=new Ni(en,rn,ze,$e),on=e.readFloat(),sn=0,un=0;;sn++){var ln=void 0,hn=e.readInt(!0);if(0==hn)ln=Qe?z.newFloatArray(tn):Je;else{ln=z.newFloatArray(tn);var cn=e.readInt(!0);if(hn+=cn,1==a)for(var fn=cn;fn<hn;fn++)ln[fn]=e.readFloat();else for(var dn=cn;dn<hn;dn++)ln[dn]=e.readFloat()*a;if(!Qe)for(var pn=0,vn=ln.length;pn<vn;pn++)ln[pn]+=Je[pn]}if(an.setFrame(sn,on,ln),sn==nn)break;var _n=e.readFloat();switch(e.readByte()){case t.CURVE_STEPPED:an.setStepped(sn);break;case t.CURVE_BEZIER:t.setBezier(e,an,un++,sn,0,on,_n,0,1,1)}on=_n}r.push(an)}var mn=e.readInt(!0);if(mn>0){for(var yn=new Fi(mn),gn=i.slots.length,bn=0;bn<mn;bn++){for(var xn=e.readFloat(),wn=e.readInt(!0),En=z.newArray(gn,0),Sn=gn-1;Sn>=0;Sn--)En[Sn]=-1;for(var kn=z.newArray(gn-wn,0),Tn=0,An=0,Rn=0;Rn<wn;Rn++){for(var In=e.readInt(!0);Tn!=In;)kn[An++]=Tn++;En[Tn+e.readInt(!0)]=Tn++}for(;Tn<gn;)kn[An++]=Tn++;for(var Cn=gn-1;Cn>=0;Cn--)-1==En[Cn]&&(En[Cn]=kn[--An]);yn.setFrame(bn,xn,En)}r.push(yn)}var Pn=e.readInt(!0);if(Pn>0){for(var Mn=new Li(Pn),On=0;On<Pn;On++){var Dn=e.readFloat(),Nn=i.events[e.readInt(!0)],Ln=new ir(Dn,Nn);Ln.intValue=e.readInt(!1),Ln.floatValue=e.readFloat(),Ln.stringValue=e.readBoolean()?e.readString():Nn.stringValue,null!=Ln.data.audioPath&&(Ln.volume=e.readFloat(),Ln.balance=e.readFloat()),Mn.setFrame(On,Ln)}r.push(Mn)}for(var Fn=0,Bn=0,Vn=r.length;Bn<Vn;Bn++)Fn=Math.max(Fn,r[Bn].getDuration());return new di(n,r,Fn)}}],[{key:"__initStatic",value:function(){this.AttachmentTypeValues=[0,1,2,3,4,5,6]}},{key:"__initStatic2",value:function(){this.TransformModeValues=[zi.Normal,zi.OnlyTranslation,zi.NoRotationOrReflection,zi.NoScale,zi.NoScaleOrReflection]}},{key:"__initStatic3",value:function(){this.PositionModeValues=[Qi.Fixed,Qi.Percent]}},{key:"__initStatic4",value:function(){this.SpacingModeValues=[Ji.Length,Ji.Fixed,Ji.Percent]}},{key:"__initStatic5",value:function(){this.RotateModeValues=[tr.Tangent,tr.Chain,tr.ChainScale]}},{key:"__initStatic6",value:function(){this.BlendModeValues=[l.T$.NORMAL,l.T$.ADD,l.T$.MULTIPLY,l.T$.SCREEN]}},{key:"__initStatic7",value:function(){this.BONE_ROTATE=0}},{key:"__initStatic8",value:function(){this.BONE_TRANSLATE=1}},{key:"__initStatic9",value:function(){this.BONE_TRANSLATEX=2}},{key:"__initStatic10",value:function(){this.BONE_TRANSLATEY=3}},{key:"__initStatic11",value:function(){this.BONE_SCALE=4}},{key:"__initStatic12",value:function(){this.BONE_SCALEX=5}},{key:"__initStatic13",value:function(){this.BONE_SCALEY=6}},{key:"__initStatic14",value:function(){this.BONE_SHEAR=7}},{key:"__initStatic15",value:function(){this.BONE_SHEARX=8}},{key:"__initStatic16",value:function(){this.BONE_SHEARY=9}},{key:"__initStatic17",value:function(){this.SLOT_ATTACHMENT=0}},{key:"__initStatic18",value:function(){this.SLOT_RGBA=1}},{key:"__initStatic19",value:function(){this.SLOT_RGB=2}},{key:"__initStatic20",value:function(){this.SLOT_RGBA2=3}},{key:"__initStatic21",value:function(){this.SLOT_RGB2=4}},{key:"__initStatic22",value:function(){this.SLOT_ALPHA=5}},{key:"__initStatic23",value:function(){this.PATH_POSITION=0}},{key:"__initStatic24",value:function(){this.PATH_SPACING=1}},{key:"__initStatic25",value:function(){this.PATH_MIX=2}},{key:"__initStatic26",value:function(){this.CURVE_LINEAR=0}},{key:"__initStatic27",value:function(){this.CURVE_STEPPED=1}},{key:"__initStatic28",value:function(){this.CURVE_BEZIER=2}},{key:"readTimeline",value:function(e,n,i){for(var r=e.readFloat(),a=e.readFloat()*i,o=0,s=0,u=n.getFrameCount()-1;n.setFrame(o,r,a),o!=u;o++){var l=e.readFloat(),h=e.readFloat()*i;switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(o);break;case t.CURVE_BEZIER:t.setBezier(e,n,s++,o,0,r,l,a,h,1)}r=l,a=h}return n}},{key:"readTimeline2",value:function(e,n,i){for(var r=e.readFloat(),a=e.readFloat()*i,o=e.readFloat()*i,s=0,u=0,l=n.getFrameCount()-1;n.setFrame(s,r,a,o),s!=l;s++){var h=e.readFloat(),c=e.readFloat()*i,f=e.readFloat()*i;switch(e.readByte()){case t.CURVE_STEPPED:n.setStepped(s);break;case t.CURVE_BEZIER:this.setBezier(e,n,u++,s,0,r,h,a,c,i),this.setBezier(e,n,u++,s,1,r,h,o,f,i)}r=h,a=c,o=f}return n}},{key:"setBezier",value:function(t,e,n,i,r,a,o,s,u,l){e.setBezier(n,i,r,a,s,t.readFloat(),t.readFloat()*l,t.readFloat(),t.readFloat()*l,o,u)}}]),t}();mr.__initStatic(),mr.__initStatic2(),mr.__initStatic3(),mr.__initStatic4(),mr.__initStatic5(),mr.__initStatic6(),mr.__initStatic7(),mr.__initStatic8(),mr.__initStatic9(),mr.__initStatic10(),mr.__initStatic11(),mr.__initStatic12(),mr.__initStatic13(),mr.__initStatic14(),mr.__initStatic15(),mr.__initStatic16(),mr.__initStatic17(),mr.__initStatic18(),mr.__initStatic19(),mr.__initStatic20(),mr.__initStatic21(),mr.__initStatic22(),mr.__initStatic23(),mr.__initStatic24(),mr.__initStatic25(),mr.__initStatic26(),mr.__initStatic27(),mr.__initStatic28();var yr,gr=function t(e,n,i,r,a){Jn(this,t),this.mesh=e,this.skin=n,this.slotIndex=i,this.parent=r,this.inheritDeform=a},br=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Jn(this,t),this.bones=e,this.vertices=n},xr=function(){function t(){Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),t.prototype.__init3.call(this),t.prototype.__init4.call(this),t.prototype.__init5.call(this),t.prototype.__init6.call(this),t.prototype.__init7.call(this)}return Wn(t,[{key:"__init",value:function(){this.minX=0}},{key:"__init2",value:function(){this.minY=0}},{key:"__init3",value:function(){this.maxX=0}},{key:"__init4",value:function(){this.maxY=0}},{key:"__init5",value:function(){this.boundingBoxes=new Array}},{key:"__init6",value:function(){this.polygons=new Array}},{key:"__init7",value:function(){this.polygonPool=new Z((function(){return z.newFloatArray(16)}))}},{key:"update",value:function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,r=this.polygonPool,a=t.slots,o=a.length;n.length=0,r.freeAll(i),i.length=0;for(var s=0;s<o;s++){var u=a[s];if(u.bone.active){var l=u.getAttachment();if(l instanceof ni){var h=l;n.push(h);var c=r.obtain();c.length!=h.worldVerticesLength&&(c=z.newFloatArray(h.worldVerticesLength)),i.push(c),h.computeWorldVertices(u,0,h.worldVerticesLength,c,0,2)}}}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}},{key:"aabbCompute",value:function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=this.polygons,a=0,o=r.length;a<o;a++)for(var s=r[a],u=s,l=0,h=s.length;l<h;l+=2){var c=u[l],f=u[l+1];t=Math.min(t,c),e=Math.min(e,f),n=Math.max(n,c),i=Math.max(i,f)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=i}},{key:"aabbContainsPoint",value:function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY}},{key:"aabbIntersectsSegment",value:function(t,e,n,i){var r=this.minX,a=this.minY,o=this.maxX,s=this.maxY;if(t<=r&&n<=r||e<=a&&i<=a||t>=o&&n>=o||e>=s&&i>=s)return!1;var u=(i-e)/(n-t),l=u*(r-t)+e;if(l>a&&l<s)return!0;if((l=u*(o-t)+e)>a&&l<s)return!0;var h=(a-e)/u+t;return h>r&&h<o||(h=(s-e)/u+t)>r&&h<o}},{key:"aabbIntersectsSkeleton",value:function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY}},{key:"containsPoint",value:function(t,e){for(var n=this.polygons,i=0,r=n.length;i<r;i++)if(this.containsPointPolygon(n[i],t,e))return this.boundingBoxes[i];return null}},{key:"containsPointPolygon",value:function(t,e,n){for(var i=t,r=t.length,a=r-2,o=!1,s=0;s<r;s+=2){var u=i[s+1],l=i[a+1];if(u<n&&l>=n||l<n&&u>=n){var h=i[s];h+(n-u)/(l-u)*(i[a]-h)<e&&(o=!o)}a=s}return o}},{key:"intersectsSegment",value:function(t,e,n,i){for(var r=this.polygons,a=0,o=r.length;a<o;a++)if(this.intersectsSegmentPolygon(r[a],t,e,n,i))return this.boundingBoxes[a];return null}},{key:"intersectsSegmentPolygon",value:function(t,e,n,i,r){for(var a=t,o=t.length,s=e-i,u=n-r,l=e*r-n*i,h=a[o-2],c=a[o-1],f=0;f<o;f+=2){var d=a[f],p=a[f+1],v=h*p-c*d,_=h-d,m=c-p,y=s*m-u*_,g=(l*_-s*v)/y;if((g>=h&&g<=d||g>=d&&g<=h)&&(g>=e&&g<=i||g>=i&&g<=e)){var b=(l*m-u*v)/y;if((b>=c&&b<=p||b>=p&&b<=c)&&(b>=n&&b<=r||b>=r&&b<=n))return!0}h=d,c=p}return!1}},{key:"getPolygon",value:function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]}},{key:"getWidth",value:function(){return this.maxX-this.minX}},{key:"getHeight",value:function(){return this.maxY-this.minY}}]),t}(),wr=function(){function t(e){Jn(this,t),t.prototype.__init.call(this),t.prototype.__init2.call(this),this.attachmentLoader=e}return Wn(t,[{key:"__init",value:function(){this.scale=1}},{key:"__init2",value:function(){this.linkedMeshes=new Array}},{key:"readSkeletonData",value:function(e){var n=this.scale,i=new fr,r="string"==typeof e?JSON.parse(e):e,a=r.skeleton;if(null!=a){if(i.hash=a.hash,i.version=a.spine,"4.0"!==i.version.substr(0,3))a.spine;i.x=a.x,i.y=a.y,i.width=a.width,i.height=a.height,i.fps=a.fps,i.imagesPath=a.images}if(r.bones)for(var o=0;o<r.bones.length;o++){var s=r.bones[o],u=null,l=this.getValue(s,"parent",null);if(null!=l&&null==(u=i.findBone(l)))throw new Error("Parent bone not found: "+l);var h=new $i(i.bones.length,s.name,u);h.length=this.getValue(s,"length",0)*n,h.x=this.getValue(s,"x",0)*n,h.y=this.getValue(s,"y",0)*n,h.rotation=this.getValue(s,"rotation",0),h.scaleX=this.getValue(s,"scaleX",1),h.scaleY=this.getValue(s,"scaleY",1),h.shearX=this.getValue(s,"shearX",0),h.shearY=this.getValue(s,"shearY",0),h.transformMode=t.transformModeFromString(this.getValue(s,"transform","normal")),h.skinRequired=this.getValue(s,"skin",!1);var c=this.getValue(s,"color",null);c&&h.color.setFromString(c),i.bones.push(h)}if(r.slots)for(var f=0;f<r.slots.length;f++){var d=r.slots[f],p=d.name,v=d.bone,_=i.findBone(v);if(null==_)throw new Error("Slot bone not found: "+v);var m=new dr(i.slots.length,p,_),y=this.getValue(d,"color",null);null!=y&&m.color.setFromString(y);var g=this.getValue(d,"dark",null);null!=g&&(m.darkColor=new Y(1,1,1,1),m.darkColor.setFromString(g)),m.attachmentName=this.getValue(d,"attachment",null),m.blendMode=t.blendModeFromString(this.getValue(d,"blend","normal")),i.slots.push(m)}if(r.ik)for(var b=0;b<r.ik.length;b++){var x=r.ik[b],w=new or(x.name);w.order=this.getValue(x,"order",0),w.skinRequired=this.getValue(x,"skin",!1);for(var E=0;E<x.bones.length;E++){var S=x.bones[E],k=i.findBone(S);if(null==k)throw new Error("IK bone not found: "+S);w.bones.push(k)}var T=x.target;if(w.target=i.findBone(T),null==w.target)throw new Error("IK target bone not found: "+T);w.mix=this.getValue(x,"mix",1),w.softness=this.getValue(x,"softness",0)*n,w.bendDirection=this.getValue(x,"bendPositive",!0)?1:-1,w.compress=this.getValue(x,"compress",!1),w.stretch=this.getValue(x,"stretch",!1),w.uniform=this.getValue(x,"uniform",!1),i.ikConstraints.push(w)}if(r.transform)for(var A=0;A<r.transform.length;A++){var R=r.transform[A],I=new pr(R.name);I.order=this.getValue(R,"order",0),I.skinRequired=this.getValue(R,"skin",!1);for(var C=0;C<R.bones.length;C++){var P=R.bones[C],M=i.findBone(P);if(null==M)throw new Error("Transform constraint bone not found: "+P);I.bones.push(M)}var O=R.target;if(I.target=i.findBone(O),null==I.target)throw new Error("Transform constraint target bone not found: "+O);I.local=this.getValue(R,"local",!1),I.relative=this.getValue(R,"relative",!1),I.offsetRotation=this.getValue(R,"rotation",0),I.offsetX=this.getValue(R,"x",0)*n,I.offsetY=this.getValue(R,"y",0)*n,I.offsetScaleX=this.getValue(R,"scaleX",0),I.offsetScaleY=this.getValue(R,"scaleY",0),I.offsetShearY=this.getValue(R,"shearY",0),I.mixRotate=this.getValue(R,"mixRotate",1),I.mixX=this.getValue(R,"mixX",1),I.mixY=this.getValue(R,"mixY",I.mixX),I.mixScaleX=this.getValue(R,"mixScaleX",1),I.mixScaleY=this.getValue(R,"mixScaleY",I.mixScaleX),I.mixShearY=this.getValue(R,"mixShearY",1),i.transformConstraints.push(I)}if(r.path)for(var D=0;D<r.path.length;D++){var N=r.path[D],L=new sr(N.name);L.order=this.getValue(N,"order",0),L.skinRequired=this.getValue(N,"skin",!1);for(var F=0;F<N.bones.length;F++){var B=N.bones[F],V=i.findBone(B);if(null==V)throw new Error("Transform constraint bone not found: "+B);L.bones.push(V)}var U=N.target;if(L.target=i.findSlot(U),null==L.target)throw new Error("Path target slot not found: "+U);L.positionMode=t.positionModeFromString(this.getValue(N,"positionMode","percent")),L.spacingMode=t.spacingModeFromString(this.getValue(N,"spacingMode","length")),L.rotateMode=t.rotateModeFromString(this.getValue(N,"rotateMode","tangent")),L.offsetRotation=this.getValue(N,"rotation",0),L.position=this.getValue(N,"position",0),L.positionMode==Qi.Fixed&&(L.position*=n),L.spacing=this.getValue(N,"spacing",0),L.spacingMode!=Ji.Length&&L.spacingMode!=Ji.Fixed||(L.spacing*=n),L.mixRotate=this.getValue(N,"mixRotate",1),L.mixX=this.getValue(N,"mixX",1),L.mixY=this.getValue(N,"mixY",1),i.pathConstraints.push(L)}if(r.skins)for(var X=0;X<r.skins.length;X++){var j=r.skins[X],G=new _r(j.name);if(j.bones)for(var H=0;H<j.bones.length;H++){var W=i.findBone(j.bones[H]);if(null==W)throw new Error("Skin bone not found: "+j.bones[X]);G.bones.push(W)}if(j.ik)for(var z=0;z<j.ik.length;z++){var q=i.findIkConstraint(j.ik[z]);if(null==q)throw new Error("Skin IK constraint not found: "+j.ik[X]);G.constraints.push(q)}if(j.transform)for(var Z=0;Z<j.transform.length;Z++){var K=i.findTransformConstraint(j.transform[Z]);if(null==K)throw new Error("Skin transform constraint not found: "+j.transform[X]);G.constraints.push(K)}if(j.path)for(var $=0;$<j.path.length;$++){var Q=i.findPathConstraint(j.path[$]);if(null==Q)throw new Error("Skin path constraint not found: "+j.path[X]);G.constraints.push(Q)}for(var J in j.attachments){var tt=i.findSlot(J);if(null==tt)throw new Error("Slot not found: "+J);var et=j.attachments[J];for(var nt in et){var it=this.readAttachment(et[nt],G,tt.index,nt,i);null!=it&&G.setAttachment(tt.index,nt,it)}}i.skins.push(G),"default"==G.name&&(i.defaultSkin=G)}for(var rt=0,at=this.linkedMeshes.length;rt<at;rt++){var ot=this.linkedMeshes[rt],st=null==ot.skin?i.defaultSkin:i.findSkin(ot.skin);if(null==st)throw new Error("Skin not found: "+ot.skin);var ut=st.getAttachment(ot.slotIndex,ot.parent);if(null==ut)throw new Error("Parent mesh not found: "+ot.parent);ot.mesh.deformAttachment=ot.inheritDeform?ut:ot.mesh,ot.mesh.setParentMesh(ut)}if(this.linkedMeshes.length=0,r.events)for(var lt in r.events){var ht=r.events[lt],ct=new rr(lt);ct.intValue=this.getValue(ht,"int",0),ct.floatValue=this.getValue(ht,"float",0),ct.stringValue=this.getValue(ht,"string",""),ct.audioPath=this.getValue(ht,"audio",null),null!=ct.audioPath&&(ct.volume=this.getValue(ht,"volume",1),ct.balance=this.getValue(ht,"balance",0)),i.events.push(ct)}if(r.animations)for(var ft in r.animations){var dt=r.animations[ft];this.readAnimation(dt,ft,i)}return i}},{key:"readAttachment",value:function(t,e,n,i,r){var a=this.scale;switch(i=this.getValue(t,"name",i),this.getValue(t,"type","region")){case"region":var o=this.getValue(t,"path",i),s=this.attachmentLoader.newRegionAttachment(e,i,o);if(null==s)return null;s.path=o,s.x=this.getValue(t,"x",0)*a,s.y=this.getValue(t,"y",0)*a,s.scaleX=this.getValue(t,"scaleX",1),s.scaleY=this.getValue(t,"scaleY",1),s.rotation=this.getValue(t,"rotation",0),s.width=t.width*a,s.height=t.height*a;var u=this.getValue(t,"color",null);return null!=u&&s.color.setFromString(u),s;case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(e,i);if(null==l)return null;this.readVertices(t,l,t.vertexCount<<1);var h=this.getValue(t,"color",null);return null!=h&&l.color.setFromString(h),l;case"mesh":case"linkedmesh":var c=this.getValue(t,"path",i),f=this.attachmentLoader.newMeshAttachment(e,i,c);if(null==f)return null;f.path=c;var d=this.getValue(t,"color",null);null!=d&&f.color.setFromString(d),f.width=this.getValue(t,"width",0)*a,f.height=this.getValue(t,"height",0)*a;var p=this.getValue(t,"parent",null);if(null!=p)return this.linkedMeshes.push(new Er(f,this.getValue(t,"skin",null),n,p,this.getValue(t,"deform",!0))),f;var v=t.uvs;return this.readVertices(t,f,v.length),f.triangles=t.triangles,f.regionUVs=new Float32Array(v),f.edges=this.getValue(t,"edges",null),f.hullLength=2*this.getValue(t,"hull",0),f;case"path":var _=this.attachmentLoader.newPathAttachment(e,i);if(null==_)return null;_.closed=this.getValue(t,"closed",!1),_.constantSpeed=this.getValue(t,"constantSpeed",!0);var m=t.vertexCount;this.readVertices(t,_,m<<1);for(var y=z.newArray(m/3,0),g=0;g<t.lengths.length;g++)y[g]=t.lengths[g]*a;_.lengths=y;var b=this.getValue(t,"color",null);return null!=b&&_.color.setFromString(b),_;case"point":var x=this.attachmentLoader.newPointAttachment(e,i);if(null==x)return null;x.x=this.getValue(t,"x",0)*a,x.y=this.getValue(t,"y",0)*a,x.rotation=this.getValue(t,"rotation",0);var w=this.getValue(t,"color",null);return null!=w&&x.color.setFromString(w),x;case"clipping":var E=this.attachmentLoader.newClippingAttachment(e,i);if(null==E)return null;var S=this.getValue(t,"end",null);if(null!=S){var k=r.findSlot(S);if(null==k)throw new Error("Clipping end slot not found: "+S);E.endSlot=k}var T=t.vertexCount;this.readVertices(t,E,T<<1);var A=this.getValue(t,"color",null);return null!=A&&E.color.setFromString(A),E}return null}},{key:"readVertices",value:function(t,e,n){var i=this.scale;e.worldVerticesLength=n;var r=t.vertices;if(n!=r.length){for(var a=new Array,o=new Array,s=0,u=r.length;s<u;){var l=r[s++];o.push(l);for(var h=s+4*l;s<h;s+=4)o.push(r[s]),a.push(r[s+1]*i),a.push(r[s+2]*i),a.push(r[s+3])}e.bones=o,e.vertices=z.toFloatArray(a)}else{var c=z.toFloatArray(r);if(1!=i)for(var f=0,d=r.length;f<d;f++)c[f]*=i;e.vertices=c}}},{key:"readAnimation",value:function(t,e,n){var i=this.scale,r=new Array;if(t.slots)for(var a in t.slots){var o=t.slots[a],s=n.findSlotIndex(a);if(-1==s)throw new Error("Slot not found: "+a);for(var u in o){var l=o[u];if(l)if("attachment"==u){for(var h=new Oi(l.length,s),c=0;c<l.length;c++){var f=l[c];h.setFrame(c,this.getValue(f,"time",0),f.name)}r.push(h)}else if("rgba"==u){for(var d=new Ri(l.length,l.length<<2,s),p=l[0],v=this.getValue(p,"time",0),_=(new Y).setFromString(p.color),m=0,y=0;d.setFrame(m,v,_.r,_.g,_.b,_.a),l.length!=m+1;m++){var g=l[m+1],b=this.getValue(g,"time",0),x=(new Y).setFromString(g.color),w=p.curve;w&&(y=this.readCurve(w,d,y,m,0,v,b,_.r,x.r,1),y=this.readCurve(w,d,y,m,1,v,b,_.g,x.g,1),y=this.readCurve(w,d,y,m,2,v,b,_.b,x.b,1),y=this.readCurve(w,d,y,m,3,v,b,_.a,x.a,1)),v=b,_=x,p=g}r.push(d)}else if("rgb"==u){for(var E=new Ii(l.length,3*l.length,s),S=l[0],k=this.getValue(S,"time",0),T=(new Y).setFromString(S.color),A=0,R=0;E.setFrame(A,k,T.r,T.g,T.b),l.length!=A+1;A++){var I=l[A+1],C=this.getValue(I,"time",0),P=(new Y).setFromString(I.color),M=S.curve;M&&(R=this.readCurve(M,E,R,A,0,k,C,T.r,P.r,1),R=this.readCurve(M,E,R,A,1,k,C,T.g,P.g,1),R=this.readCurve(M,E,R,A,2,k,C,T.b,P.b,1)),k=C,T=P,S=I}r.push(E)}else if("alpha"==u)r.push(this.readTimeline(l,new Ci(l.length,l.length,s),0,1));else if("rgba2"==u){for(var O=new Pi(l.length,7*l.length,s),D=l[0],N=this.getValue(D,"time",0),L=(new Y).setFromString(D.light),F=(new Y).setFromString(D.dark),B=0,V=0;O.setFrame(B,N,L.r,L.g,L.b,L.a,F.r,F.g,F.b),l.length!=B+1;B++){var U=l[B+1],X=this.getValue(U,"time",0),j=(new Y).setFromString(U.light),G=(new Y).setFromString(U.dark),H=D.curve;H&&(V=this.readCurve(H,O,V,B,0,N,X,L.r,j.r,1),V=this.readCurve(H,O,V,B,1,N,X,L.g,j.g,1),V=this.readCurve(H,O,V,B,2,N,X,L.b,j.b,1),V=this.readCurve(H,O,V,B,3,N,X,L.a,j.a,1),V=this.readCurve(H,O,V,B,4,N,X,F.r,G.r,1),V=this.readCurve(H,O,V,B,5,N,X,F.g,G.g,1),V=this.readCurve(H,O,V,B,6,N,X,F.b,G.b,1)),N=X,L=j,F=G,D=U}r.push(O)}else{if("rgb2"!=u)throw new Error("Invalid timeline type for a slot: "+u+" ("+a+")");for(var W=new Mi(l.length,6*l.length,s),q=l[0],Z=this.getValue(q,"time",0),K=(new Y).setFromString(q.light),$=(new Y).setFromString(q.dark),Q=0,tt=0;W.setFrame(Q,Z,K.r,K.g,K.b,$.r,$.g,$.b),l.length!=Q+1;Q++){var et=l[Q+1],nt=this.getValue(et,"time",0),it=(new Y).setFromString(et.light),rt=(new Y).setFromString(et.dark),at=q.curve;at&&(tt=this.readCurve(at,W,tt,Q,0,Z,nt,K.r,it.r,1),tt=this.readCurve(at,W,tt,Q,1,Z,nt,K.g,it.g,1),tt=this.readCurve(at,W,tt,Q,2,Z,nt,K.b,it.b,1),tt=this.readCurve(at,W,tt,Q,3,Z,nt,$.r,rt.r,1),tt=this.readCurve(at,W,tt,Q,4,Z,nt,$.g,rt.g,1),tt=this.readCurve(at,W,tt,Q,5,Z,nt,$.b,rt.b,1)),Z=nt,K=it,$=rt,q=et}r.push(W)}}}if(t.bones)for(var ot in t.bones){var st=t.bones[ot],ut=n.findBoneIndex(ot);if(-1==ut)throw new Error("Bone not found: "+ot);for(var lt in st){var ht=st[lt];if(0!=ht.length)if("rotate"===lt)r.push(this.readTimeline(ht,new yi(ht.length,ht.length,ut),0,1));else if("translate"===lt){var ct=new gi(ht.length,ht.length<<1,ut);r.push(this.readTimeline2(ht,ct,"x","y",0,i))}else if("translatex"===lt){var ft=new bi(ht.length,ht.length,ut);r.push(this.readTimeline(ht,ft,0,i))}else if("translatey"===lt){var dt=new xi(ht.length,ht.length,ut);r.push(this.readTimeline(ht,dt,0,i))}else if("scale"===lt){var pt=new wi(ht.length,ht.length<<1,ut);r.push(this.readTimeline2(ht,pt,"x","y",1,1))}else if("scalex"===lt){var vt=new Ei(ht.length,ht.length,ut);r.push(this.readTimeline(ht,vt,1,1))}else if("scaley"===lt){var _t=new Si(ht.length,ht.length,ut);r.push(this.readTimeline(ht,_t,1,1))}else if("shear"===lt){var mt=new ki(ht.length,ht.length<<1,ut);r.push(this.readTimeline2(ht,mt,"x","y",0,1))}else if("shearx"===lt){var yt=new Ti(ht.length,ht.length,ut);r.push(this.readTimeline(ht,yt,0,1))}else{if("sheary"!==lt)throw new Error("Invalid timeline type for a bone: "+lt+" ("+ot+")");var gt=new Ai(ht.length,ht.length,ut);r.push(this.readTimeline(ht,gt,0,1))}}}if(t.ik)for(var bt in t.ik){var xt=t.ik[bt],wt=xt[0];if(wt){for(var Et=n.findIkConstraint(bt),St=n.ikConstraints.indexOf(Et),kt=new Bi(xt.length,xt.length<<1,St),Tt=this.getValue(wt,"time",0),At=this.getValue(wt,"mix",1),Rt=this.getValue(wt,"softness",0)*i,It=0,Ct=0;;It++){kt.setFrame(It,Tt,At,Rt,this.getValue(wt,"bendPositive",!0)?1:-1,this.getValue(wt,"compress",!1),this.getValue(wt,"stretch",!1));var Pt=xt[It+1];if(!Pt)break;var Mt=this.getValue(Pt,"time",0),Ot=this.getValue(Pt,"mix",1),Dt=this.getValue(Pt,"softness",0)*i,Nt=wt.curve;Nt&&(Ct=this.readCurve(Nt,kt,Ct,It,0,Tt,Mt,At,Ot,1),Ct=this.readCurve(Nt,kt,Ct,It,1,Tt,Mt,Rt,Dt,i)),Tt=Mt,At=Ot,Rt=Dt,wt=Pt}r.push(kt)}}if(t.transform)for(var Lt in t.transform){var Ft=t.transform[Lt],Bt=Ft[0];if(Bt){for(var Vt=n.findTransformConstraint(Lt),Ut=n.transformConstraints.indexOf(Vt),Xt=new Vi(Ft.length,Ft.length<<2,Ut),Yt=this.getValue(Bt,"time",0),jt=this.getValue(Bt,"mixRotate",1),Gt=this.getValue(Bt,"mixShearY",1),Ht=this.getValue(Bt,"mixX",1),Wt=this.getValue(Bt,"mixY",Ht),zt=this.getValue(Bt,"mixScaleX",1),qt=this.getValue(Bt,"mixScaleY",zt),Zt=0,Kt=0;;Zt++){Xt.setFrame(Zt,Yt,jt,Ht,Wt,zt,qt,Gt);var $t=Ft[Zt+1];if(!$t)break;var Qt=this.getValue($t,"time",0),Jt=this.getValue($t,"mixRotate",1),te=this.getValue($t,"mixShearY",1),ee=this.getValue($t,"mixX",1),ne=this.getValue($t,"mixY",ee),ie=this.getValue($t,"mixScaleX",1),re=this.getValue($t,"mixScaleY",ie),ae=Bt.curve;ae&&(Kt=this.readCurve(ae,Xt,Kt,Zt,0,Yt,Qt,jt,Jt,1),Kt=this.readCurve(ae,Xt,Kt,Zt,1,Yt,Qt,Ht,ee,1),Kt=this.readCurve(ae,Xt,Kt,Zt,2,Yt,Qt,Wt,ne,1),Kt=this.readCurve(ae,Xt,Kt,Zt,3,Yt,Qt,zt,ie,1),Kt=this.readCurve(ae,Xt,Kt,Zt,4,Yt,Qt,qt,re,1),Kt=this.readCurve(ae,Xt,Kt,Zt,5,Yt,Qt,Gt,te,1)),Yt=Qt,jt=Jt,Ht=ee,Wt=ne,zt=ie,qt=re,zt=ie,Bt=$t}r.push(Xt)}}if(t.path)for(var oe in t.path){var se=t.path[oe],ue=n.findPathConstraintIndex(oe);if(-1==ue)throw new Error("Path constraint not found: "+oe);var le=n.pathConstraints[ue];for(var he in se){var ce=se[he],fe=ce[0];if(fe)if("position"===he){var de=new Ui(ce.length,ce.length,ue);r.push(this.readTimeline(ce,de,0,le.positionMode==Qi.Fixed?i:1))}else if("spacing"===he){var pe=new Xi(ce.length,ce.length,ue);r.push(this.readTimeline(ce,pe,0,le.spacingMode==Ji.Length||le.spacingMode==Ji.Fixed?i:1))}else if("mix"===he){for(var ve=new Yi(ce.size,3*ce.size,ue),_e=this.getValue(fe,"time",0),me=this.getValue(fe,"mixRotate",1),ye=this.getValue(fe,"mixX",1),ge=this.getValue(fe,"mixY",ye),be=0,xe=0;;be++){ve.setFrame(be,_e,me,ye,ge);var we=ce[be+1];if(!we)break;var Ee=this.getValue(we,"time",0),Se=this.getValue(we,"mixRotate",1),ke=this.getValue(we,"mixX",1),Te=this.getValue(we,"mixY",ke),Ae=fe.curve;null!=Ae&&(xe=this.readCurve(Ae,ve,xe,be,0,_e,Ee,me,Se,1),xe=this.readCurve(Ae,ve,xe,be,1,_e,Ee,ye,ke,1),xe=this.readCurve(Ae,ve,xe,be,2,_e,Ee,ge,Te,1)),_e=Ee,me=Se,ye=ke,ge=Te,fe=we}r.push(ve)}}}if(t.deform)for(var Re in t.deform){var Ie=t.deform[Re],Ce=n.findSkin(Re);if(null!=Ce)for(var Pe in Ie){var Me=Ie[Pe],Oe=n.findSlotIndex(Pe);if(-1==Oe)throw new Error("Slot not found: "+Me.name);for(var De in Me){var Ne=Me[De],Le=Ne[0];if(Le){var Fe=Ce.getAttachment(Oe,De);if(null==Fe)throw new Error("Deform attachment not found: "+Ne.name);for(var Be=null!=Fe.bones,Ve=Fe.vertices,Ue=Be?Ve.length/3*2:Ve.length,Xe=new Ni(Ne.length,Ne.length,Oe,Fe),Ye=this.getValue(Le,"time",0),je=0,Ge=0;;je++){var He=void 0,We=this.getValue(Le,"vertices",null);if(null==We)He=Be?z.newFloatArray(Ue):Ve;else{He=z.newFloatArray(Ue);var ze=this.getValue(Le,"offset",0);if(z.arrayCopy(We,0,He,ze,We.length),1!=i)for(var qe=ze,Ze=qe+We.length;qe<Ze;qe++)He[qe]*=i;if(!Be)for(var Ke=0;Ke<Ue;Ke++)He[Ke]+=Ve[Ke]}Xe.setFrame(je,Ye,He);var $e=Ne[je+1];if(!$e)break;var Qe=this.getValue($e,"time",0),Je=Le.curve;Je&&(Ge=this.readCurve(Je,Xe,Ge,je,0,Ye,Qe,0,1,1)),Ye=Qe,Le=$e}r.push(Xe)}}}else if(J.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+Re)}var tn=t.drawOrder;if(null==tn&&(tn=t.draworder),null!=tn){for(var en=new Fi(tn.length),nn=n.slots.length,rn=0,an=0;an<tn.length;an++,rn++){var on=tn[an],sn=null,un=this.getValue(on,"offsets",null);if(null!=un){sn=z.newArray(nn,-1);for(var ln=z.newArray(nn-un.length,0),hn=0,cn=0,fn=0;fn<un.length;fn++){var dn=un[fn],pn=n.findSlotIndex(dn.slot);if(-1==pn)throw new Error("Slot not found: "+dn.slot);for(;hn!=pn;)ln[cn++]=hn++;sn[hn+dn.offset]=hn++}for(;hn<nn;)ln[cn++]=hn++;for(var vn=nn-1;vn>=0;vn--)-1==sn[vn]&&(sn[vn]=ln[--cn])}en.setFrame(rn,this.getValue(on,"time",0),sn)}r.push(en)}if(t.events){for(var _n=new Li(t.events.length),mn=0,yn=0;yn<t.events.length;yn++,mn++){var gn=t.events[yn],bn=n.findEvent(gn.name);if(null==bn)throw new Error("Event not found: "+gn.name);var xn=new ir(z.toSinglePrecision(this.getValue(gn,"time",0)),bn);xn.intValue=this.getValue(gn,"int",bn.intValue),xn.floatValue=this.getValue(gn,"float",bn.floatValue),xn.stringValue=this.getValue(gn,"string",bn.stringValue),null!=xn.data.audioPath&&(xn.volume=this.getValue(gn,"volume",1),xn.balance=this.getValue(gn,"balance",0)),_n.setFrame(mn,xn)}r.push(_n)}for(var wn=0,En=0,Sn=r.length;En<Sn;En++)wn=Math.max(wn,r[En].getDuration());if(isNaN(wn))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new di(e,r,wn))}},{key:"readTimeline",value:function(t,e,n,i){for(var r=t[0],a=this.getValue(r,"time",0),o=this.getValue(r,"value",n)*i,s=0,u=0;;u++){e.setFrame(u,a,o);var l=t[u+1];if(!l)break;var h=this.getValue(l,"time",0),c=this.getValue(l,"value",n)*i,f=r.curve;f&&(s=this.readCurve(f,e,s,u,0,a,h,o,c,i)),a=h,o=c,r=l}return e}},{key:"readTimeline2",value:function(t,e,n,i,r,a){for(var o=t[0],s=this.getValue(o,"time",0),u=this.getValue(o,n,r)*a,l=this.getValue(o,i,r)*a,h=0,c=0;;c++){e.setFrame(c,s,u,l);var f=t[c+1];if(!f)break;var d=this.getValue(f,"time",0),p=this.getValue(f,n,r)*a,v=this.getValue(f,i,r)*a,_=o.curve;null!=_&&(h=this.readCurve(_,e,h,c,0,s,d,u,p,a),h=this.readCurve(_,e,h,c,1,s,d,l,v,a)),s=d,u=p,l=v,o=f}return e.shrink(h),e}},{key:"readCurve",value:function(t,e,n,i,r,a,o,s,u,l){if("stepped"==t)0!=r&&e.setStepped(i);else{var h=r<<2,c=t[h++],f=t[h++]*l,d=t[h++],p=t[h++]*l;this.setBezier(e,i,r,n++,a,s,c,f,d,p,o,u)}return n}},{key:"setBezier",value:function(t,e,n,i,r,a,o,s,u,l,h,c){t.setBezier(i,e,n,r,a,o,s,u,l,h,c)}},{key:"getValue",value:function(t,e,n){return void 0!==t[e]?t[e]:n}}],[{key:"blendModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return l.T$.NORMAL;if("additive"==t)return l.T$.ADD;if("multiply"==t)return l.T$.MULTIPLY;if("screen"==t)return l.T$.SCREEN;throw new Error(`Unknown blend mode: ${t}`)}},{key:"positionModeFromString",value:function(t){if("fixed"==(t=t.toLowerCase()))return Qi.Fixed;if("percent"==t)return Qi.Percent;throw new Error(`Unknown position mode: ${t}`)}},{key:"spacingModeFromString",value:function(t){if("length"==(t=t.toLowerCase()))return Ji.Length;if("fixed"==t)return Ji.Fixed;if("percent"==t)return Ji.Percent;if("proportional"==t)return Ji.Proportional;throw new Error(`Unknown spacing mode: ${t}`)}},{key:"rotateModeFromString",value:function(t){if("tangent"==(t=t.toLowerCase()))return tr.Tangent;if("chain"==t)return tr.Chain;if("chainscale"==t)return tr.ChainScale;throw new Error(`Unknown rotate mode: ${t}`)}},{key:"transformModeFromString",value:function(t){if("normal"==(t=t.toLowerCase()))return zi.Normal;if("onlytranslation"==t)return zi.OnlyTranslation;if("norotationorreflection"==t)return zi.NoRotationOrReflection;if("noscale"==t)return zi.NoScale;if("noscaleorreflection"==t)return zi.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${t}`)}}]),t}(),Er=function t(e,n,i,r,a){Jn(this,t),this.mesh=e,this.skin=n,this.slotIndex=i,this.parent=r,this.inheritDeform=a},Sr=function(t){zn(n,t);var e=Zn(n);function n(){return Jn(this,n),e.apply(this,arguments)}return Wn(n,[{key:"createSkeleton",value:function(t){this.skeleton=new cr(t),this.skeleton.updateWorldTransform(),this.stateData=new Zi(t),this.state=new ji(this.stateData)}}]),n}(it);function kr(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tr(t,e)}function Tr(t,e){return(Tr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ar(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Ir(t);if(e){var r=Ir(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Rr(this,n)}}function Rr(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Ir(t){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Cr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pr(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Mr(t,e,n){return e&&Pr(t.prototype,e),n&&Pr(t,n),t}function Or(t){var e=t.substr(0,3),n=Math.floor(10*+e+.001);return"3.7"===e?yr.VER37:"3.8"===e?yr.VER38:"4.0"===e?yr.VER40:n<yr.VER37?yr.VER37:yr.UNKNOWN}!function(t){t[t.UNKNOWN=0]="UNKNOWN";t[t.VER37=37]="VER37";t[t.VER38=38]="VER38";t[t.VER40=40]="VER40"}(yr||(yr={}));var Dr=function(){function t(){Cr(this,t),t.prototype.__init.call(this)}return Mr(t,[{key:"__init",value:function(){this.scale=1}},{key:"readSkeletonData",value:function(t,e){var n=new R(e);n.readString();var i=n.readString(),r=Or(i),a=null;if(r===yr.VER38&&(a=new xe(new te(t))),(n=new R(e)).readInt32(),n.readInt32(),(r=Or(i=n.readString()))===yr.VER40&&(a=new mr(new Ki(t))),!a);return a.scale=this.scale,a.readSkeletonData(e)}}]),t}(),Nr=function(){function t(){Cr(this,t),t.prototype.__init2.call(this)}return Mr(t,[{key:"__init2",value:function(){this.scale=1}},{key:"readSkeletonData",value:function(t,e){var n=e.skeleton.spine,i=Or(n),r=null;if(i===yr.VER37&&(r=new Yn(new wn(t))),i===yr.VER38&&(r=new ke(new te(t))),i===yr.VER40&&(r=new wr(new Ki(t))),!r);return r.scale=this.scale,r.readSkeletonData(e)}}]),t}(),Lr=function(t){kr(n,t);var e=Ar(n);function n(){return Cr(this,n),e.apply(this,arguments)}return Mr(n,[{key:"createBinaryParser",value:function(){return new Dr}},{key:"createJsonParser",value:function(){return new Nr}},{key:"parseData",value:function(t,e,n,i){var r=e;t.spineData=r.readSkeletonData(n,i),t.spineAtlas=n}}],[{key:"__initStatic",value:function(){this.use=(new n).genMiddleware().use}},{key:"registerLoaderPlugin",value:function(){s.aN.registerPlugin(n)}}]),n}(at);Lr.__initStatic();var Fr=function(t){kr(n,t);var e=Ar(n);function n(){return Cr(this,n),e.apply(this,arguments)}return Mr(n,[{key:"createSkeleton",value:function(t){var e=Or(t.version),n=null;if(e===yr.VER37&&(n=r),e===yr.VER38&&(n=i),e===yr.VER40&&(n=a),!n)t.version;this.skeleton=new n.Skeleton(t),this.skeleton.updateWorldTransform(),this.stateData=new n.AnimationStateData(t),this.state=new n.AnimationState(this.stateData)}}]),n}(it);Lr.registerLoaderPlugin()},4877:function(t,e,n){"use strict";n.r(e),n.d(e,{ALPHA_MODES:function(){return G.iw},AbstractBatchRenderer:function(){return U.eo},AbstractMultiResource:function(){return U.M4},AbstractRenderer:function(){return U.I8},AccessibilityManager:function(){return T},AnimatedSprite:function(){return dn.K},AppLoaderPlugin:function(){return j.LP},Application:function(){return V.M},ArrayResource:function(){return U.$N},Attribute:function(){return U.ah},BLEND_MODES:function(){return G.T$},BUFFER_BITS:function(){return G.V0},BaseImageResource:function(){return U.bg},BasePrepare:function(){return Qt},BaseRenderTexture:function(){return U.jd},BaseTexture:function(){return U.VL},BatchDrawCall:function(){return U.a$},BatchGeometry:function(){return U.JZ},BatchPluginFactory:function(){return U.TJ},BatchRenderer:function(){return U.Bv},BatchShaderGenerator:function(){return U.Zk},BatchSystem:function(){return U.Sj},BatchTextureArray:function(){return U.Ie},BitmapFont:function(){return Ee},BitmapFontData:function(){return ve},BitmapFontLoader:function(){return Ae},BitmapText:function(){return Te},BlobResource:function(){return $},Bounds:function(){return S.YZ},Buffer:function(){return U.lW},BufferResource:function(){return U.qm},CLEAR_MODES:function(){return G.yl},CanvasResource:function(){return U.Y8},Circle:function(){return A.Cd},CompressedTextureLoader:function(){return J},CompressedTextureResource:function(){return Q},Container:function(){return S.W2},ContextSystem:function(){return U.lH},CountLimiter:function(){return Gt},CubeResource:function(){return U.TA},DDSLoader:function(){return yt},DEG_TO_RAD:function(){return A.ZX},DRAW_MODES:function(){return G.lg},DisplayObject:function(){return S.s$},ENV:function(){return G.Vi},Ellipse:function(){return A.Pj},Extract:function(){return Y},FORMATS:function(){return G.I2},FORMATS_TO_COMPONENTS:function(){return Mt},FillStyle:function(){return Xt.ft},Filter:function(){return U.wn},FilterState:function(){return U.jV},FilterSystem:function(){return U.kV},Framebuffer:function(){return U.AI},FramebufferSystem:function(){return U.WB},GC_MODES:function(){return G.UN},GLFramebuffer:function(){return U.tT},GLProgram:function(){return U.Ei},GLTexture:function(){return U.fy},GRAPHICS_CURVES:function(){return Xt.wA},Geometry:function(){return U.ZX},GeometrySystem:function(){return U.TO},Graphics:function(){return Xt.TC},GraphicsData:function(){return Xt.iM},GraphicsGeometry:function(){return Xt.RB},IGLUniformData:function(){return U.W1},INSTALLED:function(){return U.e_},INTERNAL_FORMATS:function(){return L},INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:function(){return H},ImageBitmapResource:function(){return U._w},ImageResource:function(){return U.PA},InteractionData:function(){return I},InteractionEvent:function(){return P},InteractionManager:function(){return B},InteractionTrackingData:function(){return M},KTXLoader:function(){return Dt},LINE_CAP:function(){return Xt.$o},LINE_JOIN:function(){return Xt.S},LineStyle:function(){return Xt.TD},Loader:function(){return j.aN},LoaderResource:function(){return j.kC},MASK_TYPES:function(){return G.A7},MIPMAP_MODES:function(){return G.WB},MSAA_QUALITY:function(){return G.G5},MaskData:function(){return U.HI},MaskSystem:function(){return U.zj},Matrix:function(){return A.y3},Mesh:function(){return de.Kj},MeshBatchUvs:function(){return de.wQ},MeshGeometry:function(){return de.xc},MeshMaterial:function(){return de.rY},NineSlicePlane:function(){return cn.ZT},ObjectRenderer:function(){return U.bO},ObservablePoint:function(){return A.AB},PI_2:function(){return A._b},PRECISION:function(){return G.cB},ParticleContainer:function(){return Ft},ParticleRenderer:function(){return Vt},PlaneGeometry:function(){return cn._1},Point:function(){return A.E9},Polygon:function(){return A.mg},Prepare:function(){return ne},Program:function(){return U.$r},ProjectionSystem:function(){return U.NW},Quad:function(){return U.lD},QuadUv:function(){return U.ud},RAD_TO_DEG:function(){return A.jl},RENDERER_TYPE:function(){return G.N3},Rectangle:function(){return A.Ae},RenderTexture:function(){return U.TI},RenderTexturePool:function(){return U.uW},RenderTextureSystem:function(){return U.J$},Renderer:function(){return U.Th},Resource:function(){return U._z},RopeGeometry:function(){return cn.Au},RoundedRectangle:function(){return A.c9},Runner:function(){return fn.R},SAMPLER_TYPES:function(){return G.oT},SCALE_MODES:function(){return G.aH},SHAPES:function(){return A.HS},SVGResource:function(){return U.pX},ScissorSystem:function(){return U.id},Shader:function(){return U.ex},ShaderSystem:function(){return U.p},SimpleMesh:function(){return cn.AL},SimplePlane:function(){return cn.VJ},SimpleRope:function(){return cn.IE},Sprite:function(){return ae.j},SpriteMaskFilter:function(){return U.z9},Spritesheet:function(){return re.c},SpritesheetLoader:function(){return re.o},State:function(){return U.ZM},StateSystem:function(){return U.zI},StencilSystem:function(){return U.Ld},System:function(){return U.xP},TARGETS:function(){return G.sp},TEXT_GRADIENT:function(){return Yt.M_},TYPES:function(){return G.vK},TYPES_TO_BYTES_PER_COMPONENT:function(){return Pt},TYPES_TO_BYTES_PER_PIXEL:function(){return Ot},TemporaryDisplayObject:function(){return S.Ql},Text:function(){return Yt.xv},TextMetrics:function(){return Yt._A},TextStyle:function(){return Yt.pn},Texture:function(){return U.xE},TextureGCSystem:function(){return U.wr},TextureLoader:function(){return j.dp},TextureMatrix:function(){return U.UX},TextureSystem:function(){return U.CT},TextureUvs:function(){return U.aF},Ticker:function(){return R.vB},TickerPlugin:function(){return R.Sb},TilingSprite:function(){return le},TilingSpriteRenderer:function(){return fe},TimeLimiter:function(){return ie},Transform:function(){return A.wx},UPDATE_PRIORITY:function(){return R.uF},UniformGroup:function(){return U.oo},VERSION:function(){return pn},VideoResource:function(){return U.eH},ViewableBuffer:function(){return U.Rv},WRAP_MODES:function(){return G.Nt},accessibleTarget:function(){return k},autoDetectRenderer:function(){return U.e6},autoDetectResource:function(){return U.pb},checkMaxIfStatementsInShader:function(){return U.a7},defaultFilterVertex:function(){return U.Y9},defaultVertex:function(){return U.kP},filters:function(){return vn},graphicsUtils:function(){return Xt.yR},groupD8:function(){return A.Lv},interactiveTarget:function(){return D},isMobile:function(){return Ut.t},resources:function(){return U.Jb},settings:function(){return Ut.X},systems:function(){return U.eG},uniformParsers:function(){return U.sg},utils:function(){return E}});n(1539),n(8674),n(9601),n(8264),n(9575),n(6992),n(4197),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(678),n(7462),n(3824),n(2974),n(5016),n(9135),n(8255),n(2472),n(5125);var i=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))};var r=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function a(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var o=n.then;if("function"==typeof o)return void o.call(n,(function(e){a(t,e)}),(function(n){i[t]={status:"rejected",reason:n},0==--r&&e(i)}))}i[t]={status:"fulfilled",value:n},0==--r&&e(i)}for(var o=0;o<i.length;o++)a(o,i[o])}))},a=setTimeout;function o(t){return Boolean(t&&void 0!==t.length)}function s(){}function u(t){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(t,this)}function l(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,u._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void c(e.promise,t)}h(e.promise,i)}else(1===t._state?h:c)(e.promise,t._value)}))):t._deferreds.push(e)}function h(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof u)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void p((i=n,r=e,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){c(t,e)}var i,r}function c(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&u._immediateFn((function(){t._handled||u._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)l(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function p(t,e){var n=!1;try{t((function(t){n||(n=!0,h(e,t))}),(function(t){n||(n=!0,c(e,t))}))}catch(t){if(n)return;n=!0,c(e,t)}}u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){var n=new this.constructor(s);return l(this,new d(t,e,n)),n},u.prototype.finally=i,u.all=function(t){return new u((function(e,n){if(!o(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function a(t,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var s=o.then;if("function"==typeof s)return void s.call(o,(function(e){a(t,e)}),n)}i[t]=o,0==--r&&e(i)}catch(t){n(t)}}for(var s=0;s<i.length;s++)a(s,i[s])}))},u.allSettled=r,u.resolve=function(t){return t&&"object"==typeof t&&t.constructor===u?t:new u((function(e){e(t)}))},u.reject=function(t){return new u((function(e,n){n(t)}))},u.race=function(t){return new u((function(e,n){if(!o(t))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)u.resolve(t[i]).then(e,n)}))},u._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){a(t,0)},u._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console};var v=u,_=n(7418),m=n.n(_);self.Promise||(self.Promise=v),Object.assign||(Object.assign=m());if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var y=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-y}}for(var g=Date.now(),b=["ms","moz","webkit","o"],x=0;x<b.length&&!self.requestAnimationFrame;++x){var w=b[x];self.requestAnimationFrame=self[w+"RequestAnimationFrame"],self.cancelAnimationFrame=self[w+"CancelAnimationFrame"]||self[w+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+g-e;return n<0&&(n=0),g=e,self.setTimeout((function(){g=Date.now(),t(performance.now())}),n)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var E=n(6603),S=(n(2772),n(4723),n(6993)),k={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};S.s$.mixin(k);var T=function(){function t(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(E.isMobile.tablet||E.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},t.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){var t=performance.now();if(!(E.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=e.left,i=e.top,r=e.width,a=e.height,o=this.renderer,s=o.width,u=o.height,l=o.resolution,h=r/s*l,c=a/u*l,f=this.div;f.style.left=n+"px",f.style.top=i+"px",f.style.width=s+"px",f.style.height=u+"px";for(var d=0;d<this.children.length;d++){var p=this.children[d];if(p.renderId!==this.renderId)p._accessibleActive=!1,(0,E.removeItems)(this.children,d,1),this.div.removeChild(p._accessibleDiv),this.pool.push(p._accessibleDiv),p._accessibleDiv=null,d--;else{f=p._accessibleDiv;var v=p.hitArea,_=p.worldTransform;p.hitArea?(f.style.left=(_.tx+v.x*_.a)*h+"px",f.style.top=(_.ty+v.y*_.d)*c+"px",f.style.width=v.width*_.a*h+"px",f.style.height=v.height*_.d*c+"px"):(v=p.getBounds(),this.capHitArea(v),f.style.left=v.x*h+"px",f.style.top=v.y*c+"px",f.style.width=v.width*h+"px",f.style.height=v.height*c+"px",f.title!==p.accessibleTitle&&null!==p.accessibleTitle&&(f.title=p.accessibleTitle),f.getAttribute("aria-label")!==p.accessibleHint&&null!==p.accessibleHint&&f.setAttribute("aria-label",p.accessibleHint)),p.accessibleTitle===f.title&&p.tabIndex===f.tabIndex||(f.title=p.accessibleTitle,f.tabIndex=p.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,n=e.width,i=e.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>i&&(t.height=i-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,n=t.target.displayObject,i=e.eventData;e.dispatchEvent(n,"click",i),e.dispatchEvent(n,"pointertap",i),e.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,n=t.target.displayObject,i=e.eventData;e.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,n=t.target.displayObject,i=e.eventData;e.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}(),A=(n(3371),n(4765),n(2087),n(7274)),R=n(4175),I=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new A.E9,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),C=function(t,e){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var P=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),M=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),O=function(){function t(){this._tempPoint=new A.E9}return t.prototype.recursiveFindHit=function(t,e,n,i,r){if(!e||!e.visible)return!1;var a=t.data.global,o=!1,s=r=e.interactive||r,u=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(a,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(i=!1,u=!1)),s=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(a)||(i=!1)),u&&e.interactiveChildren&&e.children)for(var l=e.children,h=l.length-1;h>=0;h--){var c=l[h],f=this.recursiveFindHit(t,c,n,i,s);if(f){if(!c.parent)continue;s=!1,f&&(t.target&&(i=!1),o=!0)}}return r&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(a)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),n&&n(t,e,!!o))),o},t.prototype.findHit=function(t,e,n,i){this.recursiveFindHit(t,e,n,i,!1)},t}(),D={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};S.s$.mixin(D);var N,L,F={target:null,data:{global:null}},B=function(t){function e(e,n){var i=t.call(this)||this;return n=n||{},i.renderer=e,i.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new I,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new P,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in self),i.supportsTouchEvents="ontouchstart"in self,i.supportsPointerEvents=!!self.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new O,i._tempDisplayObject=new S.Ql,i._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(t,e){function n(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return F.target=null,F.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(F,e,null,!0),F.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(R.vB.system.add(this.tickerUpdate,this,R.uF.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(R.vB.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),self.addEventListener("pointercancel",this.onPointerCancel,!0),self.addEventListener("pointerup",this.onPointerUp,!0)):(self.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),self.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),self.removeEventListener("pointercancel",this.onPointerCancel,!0),self.removeEventListener("pointerup",this.onPointerUp,!0)):(self.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),self.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var n=this.cursorStyles[t];if(n)switch(typeof n){case"string":e&&(this.interactionDOMElement.style.cursor=n);break;case"function":n(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,n)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopPropagationHint&&t!==n.stopsPropagatingAt||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.delayDispatchEvent=function(t,e,n){this.delayedEvents.push({displayObject:t,eventString:e,eventData:n})},e.prototype.mapPositionToPoint=function(t,e,n){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var r=1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*r,t.y=(n-i.top)*(this.interactionDOMElement.height/i.height)*r},e.prototype.processInteractive=function(t,e,n,i){var r=this.search.findHit(t,e,n,i),a=this.delayedEvents;if(!a.length)return r;t.stopPropagationHint=!1;var o=a.length;this.delayedEvents=[];for(var s=0;s<o;s++){var u=a[s],l=u.displayObject,h=u.eventString,c=u.eventData;c.stopsPropagatingAt===l&&(c.stopPropagationHint=!0),this.dispatchEvent(l,h,c)}return r},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var n=e.length,i=0;i<n;i++){var r=e[i],a=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,a);if(o.data.originalEvent=t,this.processInteractive(o,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===r.pointerType)this.emit("touchstart",o);else if("mouse"===r.pointerType||"pen"===r.pointerType){var s=2===r.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var i=t.data,r=t.data.identifier;if(n)if(e.trackedPointers[r]||(e.trackedPointers[r]=new M(r)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var a=2===i.button;a?e.trackedPointers[r].rightDown=!0:e.trackedPointers[r].leftDown=!0,this.dispatchEvent(e,a?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var i=this.normalizeToPointerData(t),r=i.length,a=t.target!==this.interactionDOMElement?"outside":"",o=0;o<r;o++){var s=i[o],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.lastObjectRendered,n,e||!a),this.emit(e?"pointercancel":"pointerup"+a,l),"mouse"===s.pointerType||"pen"===s.pointerType){var h=2===s.button;this.emit(h?"rightup"+a:"mouseup"+a,l)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+a,l),this.releaseInteractionDataForPointerId(s.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var i=t.data,r=t.data.identifier,a=e.trackedPointers[r],o="touch"===i.pointerType,s="mouse"===i.pointerType||"pen"===i.pointerType,u=!1;if(s){var l=2===i.button,h=M.FLAGS,c=l?h.RIGHT_DOWN:h.LEFT_DOWN,f=void 0!==a&&a.flags&c;n?(this.dispatchEvent(e,l?"rightup":"mouseup",t),f&&(this.dispatchEvent(e,l?"rightclick":"click",t),u=!0)):f&&this.dispatchEvent(e,l?"rightupoutside":"mouseupoutside",t),a&&(l?a.rightDown=!1:a.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),o&&this.dispatchEvent(e,"touchend",t),a&&(s&&!u||this.dispatchEvent(e,"pointertap",t),o&&(this.dispatchEvent(e,"tap",t),a.over=!1))):a&&(this.dispatchEvent(e,"pointerupoutside",t),o&&this.dispatchEvent(e,"touchendoutside",t)),a&&a.none&&delete e.trackedPointers[r]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var n=e.length,i=0;i<n;i++){var r=e[i],a=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,a);o.data.originalEvent=t,this.processInteractive(o,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",o),"touch"===r.pointerType&&this.emit("touchmove",o),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mousemove",o)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var i=t.data,r="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType;a&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),r&&this.dispatchEvent(e,"touchmove",t),a&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,n);i.data.originalEvent=e,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var i=t.data,r=t.data.identifier,a="mouse"===i.pointerType||"pen"===i.pointerType,o=e.trackedPointers[r];n&&!o&&(o=e.trackedPointers[r]=new M(r)),void 0!==o&&(n&&this.mouseOverRenderer?(o.over||(o.over=!0,this.delayDispatchEvent(e,"pointerover",t),a&&this.delayDispatchEvent(e,"mouseover",t)),a&&null===this.cursor&&(this.cursor=e.cursor)):o.over&&(o.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),a&&this.dispatchEvent(e,"mouseout",t),o.none&&delete e.trackedPointers[r]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,n);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},e.prototype.getInteractionDataForPointerId=function(t){var e,n=t.pointerId;return 1===n||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[n]?e=this.activeInteractionData[n]:((e=this.interactionDataPool.pop()||new I).identifier=n,this.activeInteractionData[n]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,i=t.changedTouches.length;n<i;n++){var r=t.changedTouches[n];void 0===r.button&&(r.button=t.touches.length?1:0),void 0===r.buttons&&(r.buttons=t.touches.length?1:0),void 0===r.isPrimary&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===r.width&&(r.width=r.radiusX||1),void 0===r.height&&(r.height=r.radiusY||1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="touch"),void 0===r.pointerId&&(r.pointerId=r.identifier||0),void 0===r.pressure&&(r.pressure=r.force||.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),void 0===r.layerX&&(r.layerX=r.offsetX=r.clientX),void 0===r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,e.push(r)}else if(self.MouseEvent&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof self.PointerEvent))e.push(t);else{var a=t;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=1),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,e.push(a)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(E.EventEmitter),V=n(4535),U=n(6448),X=new A.Ae,Y=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,n){var i=new Image;return i.src=this.base64(t,e,n),i},t.prototype.base64=function(t,e,n){return this.canvas(t).toDataURL(e,n)},t.prototype.canvas=function(e){var n,i,r,a=this.renderer,o=!1,s=!1;e&&(e instanceof U.TI?r=e:(r=this.renderer.generateTexture(e),s=!0)),r?(n=r.baseTexture.resolution,i=r.frame,o=!1,a.renderTexture.bind(r)):(n=this.renderer.resolution,o=!0,(i=X).width=this.renderer.width,i.height=this.renderer.height,a.renderTexture.bind(null));var u=Math.floor(i.width*n+1e-4),l=Math.floor(i.height*n+1e-4),h=new E.CanvasRenderTarget(u,l,1),c=new Uint8Array(4*u*l),f=a.gl;f.readPixels(i.x*n,i.y*n,u,l,f.RGBA,f.UNSIGNED_BYTE,c);var d=h.context.getImageData(0,0,u,l);if(t.arrayPostDivide(c,d.data),h.context.putImageData(d,0,0),o){var p=new E.CanvasRenderTarget(h.width,h.height,1);p.context.scale(1,-1),p.context.drawImage(h.canvas,0,-l),h.destroy(),h=p}return s&&r.destroy(!0),h.canvas},t.prototype.pixels=function(e){var n,i,r,a=this.renderer,o=!1;e&&(e instanceof U.TI?r=e:(r=this.renderer.generateTexture(e),o=!0)),r?(n=r.baseTexture.resolution,i=r.frame,a.renderTexture.bind(r)):(n=a.resolution,(i=X).width=a.width,i.height=a.height,a.renderTexture.bind(null));var s=i.width*n,u=i.height*n,l=new Uint8Array(4*s*u),h=a.gl;return h.readPixels(i.x*n,i.y*n,s,u,h.RGBA,h.UNSIGNED_BYTE,l),o&&r.destroy(!0),t.arrayPostDivide(l,l),l},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(t,e){for(var n=0;n<t.length;n+=4){var i=e[n+3]=t[n+3];0!==i?(e[n]=Math.round(Math.min(255*t[n]/i,255)),e[n+1]=Math.round(Math.min(255*t[n+1]/i,255)),e[n+2]=Math.round(Math.min(255*t[n+2]/i,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}},t}(),j=n(1516),G=(n(2526),n(1817),n(3948),n(5306),n(489),n(1249),n(4747),n(7397));!function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(L||(L={}));var H=((N={})[L.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,N[L.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,N[L.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,N[L.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,N[L.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,N[L.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,N[L.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,N[L.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,N[L.COMPRESSED_R11_EAC]=.5,N[L.COMPRESSED_SIGNED_R11_EAC]=.5,N[L.COMPRESSED_RG11_EAC]=1,N[L.COMPRESSED_SIGNED_RG11_EAC]=1,N[L.COMPRESSED_RGB8_ETC2]=.5,N[L.COMPRESSED_RGBA8_ETC2_EAC]=1,N[L.COMPRESSED_SRGB8_ETC2]=.5,N[L.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,N[L.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,N[L.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,N[L.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,N[L.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,N[L.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,N[L.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,N[L.COMPRESSED_RGB_ETC1_WEBGL]=.5,N[L.COMPRESSED_RGB_ATC_WEBGL]=.5,N[L.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,N[L.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,N),W=function(t,e){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function z(t,e){function n(){this.constructor=t}W(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function q(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var Z,K,$=function(t){function e(e,n){void 0===n&&(n={width:1,height:1,autoLoad:!0});var i,r,a=this;return"string"==typeof e?(i=e,r=new Uint8Array):(i=null,r=e),(a=t.call(this,r,n)||this).origin=i,a.buffer=r?new U.Rv(r):null,a.origin&&!1!==n.autoLoad&&a.load(),r&&r.length&&(a.loaded=!0,a.onBlobLoaded(a.buffer.rawBinaryData)),a}return z(e,t),e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return t=this,e=void 0,i=function(){var t;return q(this,(function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new U.Rv(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}}))},new((n=Promise)||(n=Promise))((function(r,a){function o(t){try{u(i.next(t))}catch(t){a(t)}}function s(t){try{u(i.throw(t))}catch(t){a(t)}}function u(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(o,s)}u((i=i.apply(t,e||[])).next())}));var t,e,n,i},e}(U.qm),Q=function(t){function e(n,i){var r=t.call(this,n,i)||this;return r.format=i.format,r.levels=i.levels||1,r._width=i.width,r._height=i.height,r._extension=e._formatToExtension(r.format),(i.levelBuffers||r.buffer)&&(r._levelBuffers=i.levelBuffers||e._createLevelBuffers(n instanceof Uint8Array?n:r.buffer.uint8View,r.format,r.levels,4,4,r.width,r.height)),r}return z(e,t),e.prototype.upload=function(t,e,n){var i=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var r=0,a=this.levels;r<a;r++){var o=this._levelBuffers[r],s=o.levelID,u=o.levelWidth,l=o.levelHeight,h=o.levelBuffer;i.compressedTexImage2D(i.TEXTURE_2D,s,this.format,u,l,0,h)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,e,n,i,r,a,o){for(var s=new Array(n),u=t.byteOffset,l=a,h=o,c=l+i-1&~(i-1),f=h+r-1&~(r-1),d=c*f*H[e],p=0;p<n;p++)s[p]={levelID:p,levelWidth:n>1?l:c,levelHeight:n>1?h:f,levelBuffer:new Uint8Array(t.buffer,u,d)},u+=d,d=(c=(l=l>>1||1)+i-1&~(i-1))*(f=(h=h>>1||1)+r-1&~(r-1))*H[e];return s},e}($),J=function(){function t(){}return t.use=function(e,n){var i=e.data;if(e.type===j.kC.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var r=i.textures,a=void 0,o=void 0,s=0,u=r.length;s<u;s++){var l=r[s],h=l.src,c=l.format;if(c||(o=h),t.textureFormats[c]){a=h;break}}if(!(a=a||o))return void n(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));if(a===e.url)return void n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var f={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},d=E.url.resolve(e.url.replace(this.baseUrl,""),a),p=i.cacheID;this.add(p,d,f,(function(t){if(t.error)n(t.error);else{var i=t.texture,r=void 0===i?null:i,a=t.textures,o=void 0===a?{}:a;Object.assign(e,{texture:r,textures:o}),n()}}))}else n()},t.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var n={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var i in t.textureExtensions=n,t.textureFormats={},n){var r=n[i];r&&Object.assign(t.textureFormats,Object.getPrototypeOf(r))}}},t}();function tt(t,e,n){var i={textures:{},texture:null};return e?(e.map((function(t){return new U.xE(new U.VL(t,Object.assign({mipmap:G.WB.OFF,alphaMode:G.iw.NO_PREMULTIPLIED_ALPHA},n)))})).forEach((function(e,n){var r=e.baseTexture,a=t+"-"+(n+1);U.VL.addToCache(r,a),U.xE.addToCache(e,a),0===n&&(U.VL.addToCache(r,t),U.xE.addToCache(e,t),i.texture=e),i.textures[a]=e})),i):i}j.kC.setExtensionXhrType("dds",j.kC.XHR_RESPONSE_TYPE.BUFFER);var et,nt,it=124,rt=3,at=4,ot=7,st=19,ut=2,lt=0,ht=1,ct=2,ft=3;!function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(et||(et={})),function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(nt||(nt={}));var dt,pt,vt,_t=((Z={})[827611204]=L.COMPRESSED_RGBA_S3TC_DXT1_EXT,Z[861165636]=L.COMPRESSED_RGBA_S3TC_DXT3_EXT,Z[894720068]=L.COMPRESSED_RGBA_S3TC_DXT5_EXT,Z),mt=((K={})[et.DXGI_FORMAT_BC1_TYPELESS]=L.COMPRESSED_RGBA_S3TC_DXT1_EXT,K[et.DXGI_FORMAT_BC1_UNORM]=L.COMPRESSED_RGBA_S3TC_DXT1_EXT,K[et.DXGI_FORMAT_BC2_TYPELESS]=L.COMPRESSED_RGBA_S3TC_DXT3_EXT,K[et.DXGI_FORMAT_BC2_UNORM]=L.COMPRESSED_RGBA_S3TC_DXT3_EXT,K[et.DXGI_FORMAT_BC3_TYPELESS]=L.COMPRESSED_RGBA_S3TC_DXT5_EXT,K[et.DXGI_FORMAT_BC3_UNORM]=L.COMPRESSED_RGBA_S3TC_DXT5_EXT,K[et.DXGI_FORMAT_BC1_UNORM_SRGB]=L.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,K[et.DXGI_FORMAT_BC2_UNORM_SRGB]=L.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,K[et.DXGI_FORMAT_BC3_UNORM_SRGB]=L.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,K),yt=function(){function t(){}return t.use=function(e,n){if("dds"===e.extension&&e.data)try{Object.assign(e,tt(e.name||e.url,t.parse(e.data),e.metadata))}catch(t){return void n(t)}n()},t.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,it/Uint32Array.BYTES_PER_ELEMENT),i=n[rt],r=n[at],a=n[ot],o=new Uint32Array(t,st*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),s=o[1];if(4&s){var u=o[ut];if(808540228!==u){var l=_t[u],h=new Uint8Array(t,128);return[new Q(h,{format:l,width:r,height:i,levels:a})]}var c=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),f=c[lt],d=c[ht],p=c[ct],v=c[ft],_=mt[f];if(void 0===_)throw new Error("DDSLoader cannot parse texture data with DXGI format "+f);if(4===p)throw new Error("DDSLoader does not support cubemap textures");if(d===nt.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var m=new Array;if(1===v)m.push(new Uint8Array(t,148));else{for(var y=H[_],g=0,b=r,x=i,w=0;w<a;w++){g+=Math.max(1,b+3&-4)*Math.max(1,x+3&-4)*y,b>>>=1,x>>>=1}var E=148;for(w=0;w<v;w++)m.push(new Uint8Array(t,E,g)),E+=g}return m.map((function(t){return new Q(t,{format:_,width:r,height:i,levels:a})}))}if(64&s)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&s)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&s)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&s)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}();j.kC.setExtensionXhrType("ktx",j.kC.XHR_RESPONSE_TYPE.BUFFER);var gt=[171,75,84,88,32,49,49,187,13,10,26,10],bt=12,xt=16,wt=24,Et=28,St=36,kt=40,Tt=44,At=48,Rt=52,It=56,Ct=60,Pt=((dt={})[G.vK.UNSIGNED_BYTE]=1,dt[G.vK.UNSIGNED_SHORT]=2,dt[G.vK.FLOAT]=4,dt[G.vK.HALF_FLOAT]=8,dt),Mt=((pt={})[G.I2.RGBA]=4,pt[G.I2.RGB]=3,pt[G.I2.LUMINANCE]=1,pt[G.I2.LUMINANCE_ALPHA]=2,pt[G.I2.ALPHA]=1,pt),Ot=((vt={})[G.vK.UNSIGNED_SHORT_4_4_4_4]=2,vt[G.vK.UNSIGNED_SHORT_5_5_5_1]=2,vt[G.vK.UNSIGNED_SHORT_5_6_5]=2,vt),Dt=function(){function t(){}return t.use=function(e,n){if("ktx"===e.extension&&e.data)try{var i=e.name||e.url;Object.assign(e,tt(i,t.parse(i,e.data),e.metadata))}catch(t){return void n(t)}n()},t.parse=function(e,n){var i=new DataView(n);if(!t.validate(e,i))return null;var r=67305985===i.getUint32(bt,!0),a=i.getUint32(xt,r),o=i.getUint32(wt,r),s=i.getUint32(Et,r),u=i.getUint32(St,r),l=i.getUint32(kt,r)||1,h=i.getUint32(Tt,r)||1,c=i.getUint32(At,r)||1,f=i.getUint32(Rt,r),d=i.getUint32(It,r),p=i.getUint32(Ct,r);if(0===l||1!==h)throw new Error("Only 2D textures are supported");if(1!==f)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==c)throw new Error("WebGL does not support array textures");var v,_=u+3&-4,m=l+3&-4,y=new Array(c),g=u*l;if(0===a&&(g=_*m),void 0===(v=0!==a?Pt[a]?Pt[a]*Mt[o]:Ot[a]:H[s]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var b=g*v,x=u,w=l,E=_,S=m,k=64+p,T=0;T<d;T++){for(var A=i.getUint32(k,r),R=k+4,I=0;I<c;I++){var C=y[I];C||(C=y[I]=new Array(d)),C[T]={levelID:T,levelWidth:d>1?x:E,levelHeight:d>1?w:S,levelBuffer:new Uint8Array(n,R,b)},R+=b}k=(k+=A+4)%4!=0?k+4-k%4:k,b=(E=(x=x>>1||1)+4-1&-4)*(S=(w=w>>1||1)+4-1&-4)*v}if(0!==a)throw new Error("TODO: Uncompressed");return y.map((function(t){return new Q(null,{format:s,width:u,height:l,levels:d,levelBuffers:t})}))},t.validate=function(t,e){for(var n=0;n<gt.length;n++)if(e.getUint8(n)!==gt[n])return!1;return!0},t}(),Nt=(n(3210),function(t,e){return(Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)});function Lt(t,e){function n(){this.constructor=t}Nt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Ft=function(t){function e(e,n,i,r){void 0===e&&(e=1500),void 0===i&&(i=16384),void 0===r&&(r=!1);var a=t.call(this)||this;return i>16384&&(i=16384),a._properties=[!1,!0,!1,!1,!1],a._maxSize=e,a._batchSize=i,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=G.T$.NORMAL,a.autoResize=r,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return Lt(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,(0,E.hex2rgb)(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(S.W2),Bt=function(){function t(t,e,n){this.geometry=new U.ZX,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<t.length;++i){var r=t[i];r={attributeName:r.attributeName,size:r.size,uploadFunction:r.uploadFunction,type:r.type||G.vK.FLOAT,offset:r.offset},e[i]?this.dynamicProperties.push(r):this.staticProperties.push(r)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new U.lW((0,E.createIndicesForQuads)(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){(o=this.dynamicProperties[n]).offset=e,e+=o.size,this.dynamicStride+=o.size}var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new U.lW(this.dynamicData,!1,!1);var r=0;this.staticStride=0;for(n=0;n<this.staticProperties.length;++n){(o=this.staticProperties[n]).offset=r,r+=o.size,this.staticStride+=o.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new U.lW(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];t.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===G.vK.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset)}for(n=0;n<this.staticProperties.length;++n){o=this.staticProperties[n];t.addAttribute(o.attributeName,this.staticBuffer,0,o.type===G.vK.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var i=0;i<this.dynamicProperties.length;i++){var r=this.dynamicProperties[i];r.uploadFunction(t,e,n,r.type===G.vK.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,n){for(var i=0;i<this.staticProperties.length;i++){var r=this.staticProperties[i];r.uploadFunction(t,e,n,r.type===G.vK.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),Vt=function(t){function e(e){var n=t.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new A.y3,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:G.vK.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=U.ex.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),n.state=U.ZM.for2d(),n}return Lt(e,t),e.prototype.render=function(t){var e=t.children,n=t._maxSize,i=t._batchSize,r=this.renderer,a=e.length;if(0!==a){a>n&&!t.autoResize&&(a=n);var o=t._buffers;o||(o=t._buffers=this.generateBuffers(t));var s=e[0]._texture.baseTexture;this.state.blendMode=(0,E.correctBlendMode)(t.blendMode,s.alphaMode),r.state.set(this.state);var u=r.gl,l=t.worldTransform.copyTo(this.tempMatrix);l.prepend(r.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=(0,E.premultiplyRgba)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var h=!1,c=0,f=0;c<a;c+=i,f+=1){var d=a-c;d>i&&(d=i),f>=o.length&&o.push(this._generateOneMoreBuffer(t));var p=o[f];p.uploadDynamic(e,c,d);var v=t._bufferUpdateIDs[f]||0;(h=h||p._updateID<v)&&(p._updateID=t._updateID,p.uploadStatic(e,c,d)),r.geometry.bind(p.geometry),u.drawElements(u.TRIANGLES,6*d,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],n=t._maxSize,i=t._batchSize,r=t._properties,a=0;a<n;a+=i)e.push(new Bt(this.properties,r,i));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,n=t._properties;return new Bt(this.properties,n,e)},e.prototype.uploadVertices=function(t,e,n,i,r,a){for(var o=0,s=0,u=0,l=0,h=0;h<n;++h){var c=t[e+h],f=c._texture,d=c.scale.x,p=c.scale.y,v=f.trim,_=f.orig;v?(o=(s=v.x-c.anchor.x*_.width)+v.width,u=(l=v.y-c.anchor.y*_.height)+v.height):(o=_.width*(1-c.anchor.x),s=_.width*-c.anchor.x,u=_.height*(1-c.anchor.y),l=_.height*-c.anchor.y),i[a]=s*d,i[a+1]=l*p,i[a+r]=o*d,i[a+r+1]=l*p,i[a+2*r]=o*d,i[a+2*r+1]=u*p,i[a+3*r]=s*d,i[a+3*r+1]=u*p,a+=4*r}},e.prototype.uploadPosition=function(t,e,n,i,r,a){for(var o=0;o<n;o++){var s=t[e+o].position;i[a]=s.x,i[a+1]=s.y,i[a+r]=s.x,i[a+r+1]=s.y,i[a+2*r]=s.x,i[a+2*r+1]=s.y,i[a+3*r]=s.x,i[a+3*r+1]=s.y,a+=4*r}},e.prototype.uploadRotation=function(t,e,n,i,r,a){for(var o=0;o<n;o++){var s=t[e+o].rotation;i[a]=s,i[a+r]=s,i[a+2*r]=s,i[a+3*r]=s,a+=4*r}},e.prototype.uploadUvs=function(t,e,n,i,r,a){for(var o=0;o<n;++o){var s=t[e+o]._texture._uvs;s?(i[a]=s.x0,i[a+1]=s.y0,i[a+r]=s.x1,i[a+r+1]=s.y1,i[a+2*r]=s.x2,i[a+2*r+1]=s.y2,i[a+3*r]=s.x3,i[a+3*r+1]=s.y3,a+=4*r):(i[a]=0,i[a+1]=0,i[a+r]=0,i[a+r+1]=0,i[a+2*r]=0,i[a+2*r+1]=0,i[a+3*r]=0,i[a+3*r+1]=0,a+=4*r)}},e.prototype.uploadTint=function(t,e,n,i,r,a){for(var o=0;o<n;++o){var s=t[e+o],u=s._texture.baseTexture.alphaMode>0,l=s.alpha,h=l<1&&u?(0,E.premultiplyTint)(s._tintRGB,l):s._tintRGB+(255*l<<24);i[a]=h,i[a+r]=h,i[a+2*r]=h,i[a+3*r]=h,a+=4*r}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(U.bO),Ut=(n(7042),n(1863)),Xt=n(8215),Yt=n(1538);Ut.X.UPLOADS_PER_FRAME=4;var jt=function(t,e){return(jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Gt=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function Ht(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var i=0;i<t._textures.length;i++)if(t._textures[i]instanceof U.xE){var r=t._textures[i].baseTexture;-1===e.indexOf(r)&&(e.push(r),n=!0)}return n}function Wt(t,e){if(t.baseTexture instanceof U.VL){var n=t.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function zt(t,e){if(t._texture&&t._texture instanceof U.xE){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function qt(t,e){return e instanceof Yt.xv&&(e.updateText(!0),!0)}function Zt(t,e){if(e instanceof Yt.pn){var n=e.toFontString();return Yt._A.measureFont(n),!0}return!1}function Kt(t,e){if(t instanceof Yt.xv){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function $t(t,e){return t instanceof Yt.pn&&(-1===e.indexOf(t)&&e.push(t),!0)}var Qt=function(){function t(t){var e=this;this.limiter=new Gt(Ut.X.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Kt),this.registerFindHook($t),this.registerFindHook(Ht),this.registerFindHook(Wt),this.registerFindHook(zt),this.registerUploadHook(qt),this.registerUploadHook(Zt)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,R.vB.system.addOnce(this.tick,this,R.uF.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)R.vB.system.addOnce(this.tick,this,R.uF.UTILITY);else{this.ticking=!1;var r=this.completes.slice(0);this.completes.length=0;for(n=0,i=r.length;n<i;n++)r[n]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof S.W2)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&R.vB.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Jt(t,e){return e instanceof U.VL&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function te(t,e){if(!(e instanceof Xt.TC))return!1;var n=e.geometry;e.finishPoly(),n.updateBatches();for(var i=n.batches,r=0;r<i.length;r++){var a=i[r].style.texture;a&&Jt(t,a.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function ee(t,e){return t instanceof Xt.TC&&(e.push(t),!0)}var ne=function(t){function e(e){var n=t.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(ee),n.registerUploadHook(Jt),n.registerUploadHook(te),n}return function(t,e){function n(){this.constructor=t}jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Qt),ie=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),re=n(3151),ae=n(5009),oe=function(t,e){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function se(t,e){function n(){this.constructor=t}oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ue=new A.E9,le=function(t){function e(e,n,i){void 0===n&&(n=100),void 0===i&&(i=100);var r=t.call(this,e)||this;return r.tileTransform=new A.wx,r._width=n,r._height=i,r.uvMatrix=r.texture.uvMatrix||new U.UX(e),r.pluginName="tilingSprite",r.uvRespectAnchor=!1,r}return se(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,i)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new A.Ae),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,ue);var e=this._width,n=this._height,i=-e*this.anchor._x;if(ue.x>=i&&ue.x<i+e){var r=-n*this.anchor._y;if(ue.y>=r&&ue.y<r+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,n){return new e(t instanceof U.xE?t:U.xE.from(t,n),n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(ae.j),he="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",ce=new A.y3,fe=function(t){function e(e){var n=t.call(this,e)||this,i={globals:n.renderer.globalUniforms};return n.shader=U.ex.from(he,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",i),n.simpleShader=U.ex.from(he,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",i),n.quad=new U.ud,n.state=U.ZM.for2d(),n}return se(e,t),e.prototype.render=function(t){var e=this.renderer,n=this.quad,i=n.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);var r=t.uvRespectAnchor?t.anchor.x:0,a=t.uvRespectAnchor?t.anchor.y:0;(i=n.uvs)[0]=i[6]=-r,i[1]=i[3]=-a,i[2]=i[4]=1-r,i[5]=i[7]=1-a,n.invalidate();var o=t._texture,s=o.baseTexture,u=t.tileTransform.localTransform,l=t.uvMatrix,h=s.isPowerOfTwo&&o.frame.width===s.width&&o.frame.height===s.height;h&&(s._glTextures[e.CONTEXT_UID]?h=s.wrapMode!==G.Nt.CLAMP:s.wrapMode===G.Nt.CLAMP&&(s.wrapMode=G.Nt.REPEAT));var c=h?this.simpleShader:this.shader,f=o.width,d=o.height,p=t._width,v=t._height;ce.set(u.a*f/p,u.b*f/v,u.c*d/p,u.d*d/v,u.tx/p,u.ty/v),ce.invert(),h?ce.prepend(l.mapCoord):(c.uniforms.uMapCoord=l.mapCoord.toArray(!0),c.uniforms.uClampFrame=l.uClampFrame,c.uniforms.uClampOffset=l.uClampOffset),c.uniforms.uTransform=ce.toArray(!0),c.uniforms.uColor=(0,E.premultiplyTintToRgba)(t.tint,t.worldAlpha,c.uniforms.uColor,s.alphaMode),c.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),c.uniforms.uSampler=o,e.shader.bind(c),e.geometry.bind(n),this.state.blendMode=(0,E.correctBlendMode)(t.blendMode,s.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(U.bO),de=(n(3123),n(3290),n(6344)),pe=function(t,e){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var ve=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},_e=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var i in e){var r=e[i].match(/^[a-z]+/gm)[0],a=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var s in a){var u=a[s].split("="),l=u[0],h=u[1].replace(/"/gm,""),c=parseFloat(h),f=isNaN(c)?h:c;o[l]=f}n[r].push(o)}var d=new ve;return n.info.forEach((function(t){return d.info.push({face:t.face,size:parseInt(t.size,10)})})),n.common.forEach((function(t){return d.common.push({lineHeight:parseInt(t.lineHeight,10)})})),n.page.forEach((function(t){return d.page.push({id:parseInt(t.id,10),file:t.file})})),n.char.forEach((function(t){return d.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),n.kerning.forEach((function(t){return d.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),d},t}(),me=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new ve,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),r=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning"),s=0;s<n.length;s++)e.info.push({face:n[s].getAttribute("face"),size:parseInt(n[s].getAttribute("size"),10)});for(s=0;s<i.length;s++)e.common.push({lineHeight:parseInt(i[s].getAttribute("lineHeight"),10)});for(s=0;s<r.length;s++)e.page.push({id:parseInt(r[s].getAttribute("id"),10)||0,file:r[s].getAttribute("file")});for(s=0;s<a.length;s++){var u=a[s];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(s=0;s<o.length;s++)e.kerning.push({first:parseInt(o[s].getAttribute("first"),10),second:parseInt(o[s].getAttribute("second"),10),amount:parseInt(o[s].getAttribute("amount"),10)});return e},t}(),ye=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return me.test(e)}return!1},t.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return me.parse(e)},t}(),ge=[_e,me,ye];function be(t){for(var e=0;e<ge.length;e++)if(ge[e].test(t))return ge[e];return null}function xe(t,e,n,i,r,a){var o,s=n.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=n.dropShadow?n.dropShadowDistance:0,l=n.padding||0,h=Math.ceil(t.width/i)-u-2*l,c=Math.ceil(t.height/i)-u-2*l,f=s.slice(),d=n.fillGradientStops.slice();if(!d.length)for(var p=f.length+1,v=1;v<p;++v)d.push(v/p);if(f.unshift(s[0]),d.unshift(0),f.push(s[s.length-1]),d.push(1),n.fillGradientType===Yt.M_.LINEAR_VERTICAL){o=e.createLinearGradient(h/2,l,h/2,c+l);var _=0,m=(a.fontProperties.fontSize+n.strokeThickness)/c;for(v=0;v<r.length;v++)for(var y=a.lineHeight*v,g=0;g<f.length;g++){var b=y/c+("number"==typeof d[g]?d[g]:g/f.length)*m,x=Math.max(_,b);x=Math.min(x,1),o.addColorStop(x,f[g]),_=x}}else{o=e.createLinearGradient(l,c/2,h+l,c/2);var w=f.length+1,E=1;for(v=0;v<f.length;v++){var S=void 0;S="number"==typeof d[v]?d[v]:E/w,o.addColorStop(S,f[v]),E++}}return o}function we(t,e,n,i,r,a,o){var s=n.text,u=n.fontProperties;e.translate(i,r),e.scale(a,a);var l=o.strokeThickness/2,h=-o.strokeThickness/2;e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=xe(t,e,o,a,[s],n),e.strokeStyle=o.stroke,e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=xe(t,e,o,a,[s],n),e.strokeStyle=o.stroke;var c=o.dropShadowColor,f=(0,E.hex2rgb)("number"==typeof c?c:(0,E.string2hex)(c));o.dropShadow?(e.shadowColor="rgba("+255*f[0]+","+255*f[1]+","+255*f[2]+","+o.dropShadowAlpha+")",e.shadowBlur=o.dropShadowBlur,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*o.dropShadowDistance,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*o.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),o.stroke&&o.strokeThickness&&e.strokeText(s,l,h+n.lineHeight-u.descent),o.fill&&e.fillText(s,l,h+n.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var Ee=function(){function t(t,e,n){var i=t.info[0],r=t.common[0],a=t.page[0],o=(0,E.getResolutionOfUrl)(a.file),s={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=r.lineHeight/o,this.chars={},this.pageTextures=s;for(var u=0;u<t.page.length;u++){var l=t.page[u],h=l.id,c=l.file;s[h]=e instanceof Array?e[u]:e[c]}for(u=0;u<t.char.length;u++){var f=t.char[u],d=(h=f.id,f.page),p=t.char[u],v=p.x,_=p.y,m=p.width,y=p.height,g=p.xoffset,b=p.yoffset,x=p.xadvance;v/=o,_/=o,m/=o,y/=o,g/=o,b/=o,x/=o;var w=new A.Ae(v+s[d].frame.x/o,_+s[d].frame.y/o,m,y);this.chars[h]={xOffset:g,yOffset:b,xAdvance:x,kerning:{},texture:new U.xE(s[d].baseTexture,w),page:d}}for(u=0;u<t.kerning.length;u++){var S=t.kerning[u],k=S.first,T=S.second,R=S.amount;k/=o,T/=o,R/=o,this.chars[T]&&(this.chars[T].kerning[k]=R)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,n,i){var r;if(e instanceof ve)r=e;else{var a=be(e);if(!a)throw new Error("Unrecognized data format for font.");r=a.parse(e)}n instanceof U.xE&&(n=[n]);var o=new t(r,n,i);return t.available[o.font]=o,o},t.uninstall=function(e){var n=t.available[e];if(!n)throw new Error("No font found named '"+e+"'");n.destroy(),delete t.available[e]},t.from=function(e,n,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var r=Object.assign({},t.defaultOptions,i),a=r.chars,o=r.padding,s=r.resolution,u=r.textureWidth,l=r.textureHeight,h=function(t){"string"==typeof t&&(t=[t]);for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+r.length+".");var a=r[0].charCodeAt(0),o=r[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,u=o;s<=u;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,r.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(a),c=n instanceof Yt.pn?n:new Yt.pn(n),f=u,d=new ve;d.info[0]={face:c.fontFamily,size:c.fontSize},d.common[0]={lineHeight:c.fontSize};for(var p,v,_,m=0,y=0,g=0,b=[],x=0;x<h.length;x++){p||((p=document.createElement("canvas")).width=u,p.height=l,v=p.getContext("2d"),_=new U.VL(p,{resolution:s}),b.push(new U.xE(_)),d.page.push({id:b.length-1,file:""}));var w=Yt._A.measureText(h[x],c,!1,p),E=w.width,S=Math.ceil(w.height),k=Math.ceil(("italic"===c.fontStyle?2:1)*E);if(y>=l-S*s){if(0===y)throw new Error("[BitmapFont] textureHeight "+l+"px is too small for "+c.fontSize+"px fonts");--x,p=null,v=null,_=null,y=0,m=0,g=0}else if(g=Math.max(S+w.fontProperties.descent,g),k*s+m>=f)--x,y+=g*s,y=Math.ceil(y),m=0,g=0;else{we(p,v,w,m,y,s,c);var T=w.text.charCodeAt(0);d.char.push({id:T,page:b.length-1,x:m/s,y:y/s,width:k,height:S,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(c.dropShadow?c.dropShadowDistance:0)-(c.stroke?c.strokeThickness:0))}),m+=(k+2*o)*s,m=Math.ceil(m)}}x=0;for(var A=h.length;x<A;x++)for(var R=h[x],I=0;I<A;I++){var C=h[I],P=v.measureText(R).width,M=v.measureText(C).width,O=v.measureText(R+C).width-(P+M);O&&d.kerning.push({first:R.charCodeAt(0),second:C.charCodeAt(0),amount:O})}var D=new t(d,b,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=D,D},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),Se=[],ke=[],Te=function(t){function e(n,i){void 0===i&&(i={});var r=t.call(this)||this;r._tint=16777215;var a=Object.assign({},e.styleDefaults,i),o=a.align,s=a.tint,u=a.maxWidth,l=a.letterSpacing,h=a.fontName,c=a.fontSize;if(!Ee.available[h])throw new Error('Missing BitmapFont "'+h+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=o,r._tint=s,r._fontName=h,r._fontSize=c||Ee.available[h].size,r._text=n,r._maxWidth=u,r._maxLineHeight=0,r._letterSpacing=l,r._anchor=new A.AB((function(){r.dirty=!0}),r,0,0),r._roundPixels=Ut.X.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}return function(t,e){function n(){this.constructor=t}pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.updateText=function(){for(var t,e=Ee.available[this._fontName],n=this._fontSize/e.size,i=new A.E9,r=[],a=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",u=s.length,l=this._maxWidth*e.size/this._fontSize,h=null,c=0,f=0,d=0,p=-1,v=0,_=0,m=0,y=0,g=0;g<u;g++){var b=s.charCodeAt(g),x=s.charAt(g);if(/(?:\s)/.test(x)&&(p=g,v=c,y++),"\r"!==x&&"\n"!==x){var w=e.chars[b];if(w){h&&w.kerning[h]&&(i.x+=w.kerning[h]);var S=ke.pop()||{texture:U.xE.EMPTY,line:0,charCode:0,prevSpaces:0,position:new A.E9};S.texture=w.texture,S.line=d,S.charCode=b,S.position.x=i.x+w.xOffset+this._letterSpacing/2,S.position.y=i.y+w.yOffset,S.prevSpaces=y,r.push(S),i.x+=w.xAdvance+this._letterSpacing,c=i.x,m=Math.max(m,w.yOffset+w.texture.height),h=b,-1!==p&&l>0&&i.x>l&&(++_,(0,E.removeItems)(r,1+p-_,1+g-p),g=p,p=-1,a.push(v),o.push(r.length>0?r[r.length-1].prevSpaces:0),f=Math.max(f,v),d++,i.x=0,i.y+=e.lineHeight,h=null,y=0)}}else a.push(c),o.push(-1),f=Math.max(f,c),++d,++_,i.x=0,i.y+=e.lineHeight,h=null,y=0}var k=s.charAt(s.length-1);"\r"!==k&&"\n"!==k&&(/(?:\s)/.test(k)&&(c=v),a.push(c),f=Math.max(f,c),o.push(-1));var T=[];for(g=0;g<=d;g++){var R=0;"right"===this._align?R=f-a[g]:"center"===this._align?R=(f-a[g])/2:"justify"===this._align&&(R=o[g]<0?0:(f-a[g])/o[g]),T.push(R)}var I=r.length,C={},P=[],M=this._activePagesMeshData;for(g=0;g<M.length;g++)Se.push(M[g]);for(g=0;g<I;g++){var O=(j=r[g].texture).baseTexture.uid;if(!C[O]){if(!(K=Se.pop())){var D=new de.xc,N=new de.rY(U.xE.EMPTY);K={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new de.Kj(D,N),vertices:null,uvs:null,indices:null}}K.index=0,K.indexCount=0,K.vertexCount=0,K.uvsCount=0,K.total=0;var L=this._textureCache;L[O]=L[O]||new U.xE(j.baseTexture),K.mesh.texture=L[O],K.mesh.tint=this._tint,P.push(K),C[O]=K}C[O].total++}for(g=0;g<M.length;g++)-1===P.indexOf(M[g])&&this.removeChild(M[g].mesh);for(g=0;g<P.length;g++)P[g].mesh.parent!==this&&this.addChild(P[g].mesh);for(var g in this._activePagesMeshData=P,C){var F=(K=C[g]).total;if(!((null===(t=K.indices)||void 0===t?void 0:t.length)>6*F)||K.vertices.length<2*de.Kj.BATCHABLE_SIZE)K.vertices=new Float32Array(8*F),K.uvs=new Float32Array(8*F),K.indices=new Uint16Array(6*F);else for(var B=K.total,V=K.vertices,X=4*B*2;X<V.length;X++)V[X]=0;K.mesh.size=6*F}for(g=0;g<I;g++){var Y=(x=r[g]).position.x+T[x.line]*("justify"===this._align?x.prevSpaces:1);this._roundPixels&&(Y=Math.round(Y));var j,G=Y*n,H=x.position.y*n,W=C[(j=x.texture).baseTexture.uid],z=j.frame,q=j._uvs,Z=W.index++;W.indices[6*Z+0]=0+4*Z,W.indices[6*Z+1]=1+4*Z,W.indices[6*Z+2]=2+4*Z,W.indices[6*Z+3]=0+4*Z,W.indices[6*Z+4]=2+4*Z,W.indices[6*Z+5]=3+4*Z,W.vertices[8*Z+0]=G,W.vertices[8*Z+1]=H,W.vertices[8*Z+2]=G+z.width*n,W.vertices[8*Z+3]=H,W.vertices[8*Z+4]=G+z.width*n,W.vertices[8*Z+5]=H+z.height*n,W.vertices[8*Z+6]=G,W.vertices[8*Z+7]=H+z.height*n,W.uvs[8*Z+0]=q.x0,W.uvs[8*Z+1]=q.y0,W.uvs[8*Z+2]=q.x1,W.uvs[8*Z+3]=q.y1,W.uvs[8*Z+4]=q.x2,W.uvs[8*Z+5]=q.y2,W.uvs[8*Z+6]=q.x3,W.uvs[8*Z+7]=q.y3}for(var g in this._textWidth=f*n,this._textHeight=(i.y+e.lineHeight)*n,C){var K=C[g];if(0!==this.anchor.x||0!==this.anchor.y)for(var $=0,Q=this._textWidth*this.anchor.x,J=this._textHeight*this.anchor.y,tt=0;tt<K.total;tt++)K.vertices[$++]-=Q,K.vertices[$++]-=J,K.vertices[$++]-=Q,K.vertices[$++]-=J,K.vertices[$++]-=Q,K.vertices[$++]-=J,K.vertices[$++]-=Q,K.vertices[$++]-=J;this._maxLineHeight=m*n;var et=K.mesh.geometry.getBuffer("aVertexPosition"),nt=K.mesh.geometry.getBuffer("aTextureCoord"),it=K.mesh.geometry.getIndex();et.data=K.vertices,nt.data=K.uvs,it.data=K.indices,et.update(),nt.update(),it.update()}for(g=0;g<r.length;g++)ke.push(r[g])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Ee.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype.destroy=function(e){var n=this._textureCache;for(var i in n){n[i].destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,e)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(S.W2),Ae=function(){function t(){}return t.add=function(){j.kC.setExtensionXhrType("fnt",j.kC.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,n){var i=be(e.data);if(i)for(var r=t.getBaseUrl(this,e),a=i.parse(e.data),o={},s=function(t){o[t.metadata.pageFile]=t.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=Ee.install(a,o,!0),n())},u=0;u<a.page.length;++u){var l=a.page[u].file,h=r+l,c=!1;for(var f in this.resources){var d=this.resources[f];if(d.url===h){d.metadata.pageFile=l,d.texture?s(d):d.onAfterMiddleware.add(s),c=!0;break}}if(!c){var p={crossOrigin:e.crossOrigin,loadType:j.kC.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(h,p,s)}}else n()},t.getBaseUrl=function(e,n){var i=n.isDataUrl?"":t.dirname(n.url);return n.isDataUrl&&("."===i&&(i=""),e.baseUrl&&i&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(i+="/")),(i=i.replace(e.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}(),Re=function(t,e){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Ie=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,U.kP,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return n.alpha=e,n}return function(t,e){function n(){this.constructor=t}Re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(U.wn),Ce=(n(9714),function(t,e){return(Ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)});function Pe(t,e){function n(){this.constructor=t}Ce(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Me,Oe,De,Ne,Le,Fe,Be,Ve,Ue,Xe,Ye,je,Ge,He,We,ze,qe,Ze,Ke={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},$e=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Me||(Me={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Oe||(Oe={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(De||(De={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Ne||(Ne={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Le||(Le={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Fe||(Fe={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Be||(Be={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(Ve||(Ve={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(Ue||(Ue={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(Xe||(Xe={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Ye||(Ye={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(je||(je={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Ge||(Ge={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(He||(He={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(We||(We={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(ze||(ze={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(qe||(qe={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Ze||(Ze={}));var Qe=function(t){function e(e,n,i,r,a){void 0===n&&(n=8),void 0===i&&(i=4),void 0===r&&(r=Ut.X.FILTER_RESOLUTION),void 0===a&&(a=5);var o=this,s=function(t,e){var n,i=Math.ceil(t/2),r="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",a="";n=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=n.replace("%index%",o.toString());a+=s=s.replace("%sampleIndex%",o-(i-1)+".0"),a+="\n"}return(r=r.replace("%blur%",a)).replace("%size%",t.toString())}(a,e),u=function(t){for(var e,n=Ke[t],i=n.length,r=$e,a="",o=0;o<t;o++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString());e=o,o>=i&&(e=t-o-1),a+=s=s.replace("%value%",n[e].toString()),a+="\n"}return(r=r.replace("%blur%",a)).replace("%size%",t.toString())}(a);return(o=t.call(this,s,u)||this).horizontal=e,o.resolution=r,o._quality=0,o.quality=i,o.blur=n,o}return Pe(e,t),e.prototype.apply=function(t,e,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/e.width):this.uniforms.strength=1/n.height*(n.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,i);else{var r=t.getFilterTexture(),a=t.renderer,o=e,s=r;this.state.blend=!1,t.applyFilter(this,o,s,He.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(o,He.BLIT),this.uniforms.uSampler=s;var l=s;s=o,o=l,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,s,n,i),t.returnFilterTexture(r)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(U.wn),Je=function(t){function e(e,n,i,r){void 0===e&&(e=8),void 0===n&&(n=4),void 0===i&&(i=Ut.X.FILTER_RESOLUTION),void 0===r&&(r=5);var a=t.call(this)||this;return a.blurXFilter=new Qe(!0,e,n,i,r),a.blurYFilter=new Qe(!1,e,n,i,r),a.resolution=i,a.quality=n,a.blur=e,a.repeatEdgePixels=!1,a}return Pe(e,t),e.prototype.apply=function(t,e,n,i){var r=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(r&&a){var o=t.getFilterTexture();this.blurXFilter.apply(t,e,o,He.CLEAR),this.blurYFilter.apply(t,o,n,i),t.returnFilterTexture(o)}else a?this.blurYFilter.apply(t,e,n,i):this.blurXFilter.apply(t,e,n,i)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(U.wn),tn=function(t,e){return(tn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var en=function(t){function e(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,U.Y9,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",n)||this).alpha=1,e}return function(t,e){function n(){this.constructor=t}tn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),i=Math.sin(t),r=1/3,a=(0,Math.sqrt)(r),o=[n+(1-n)*r,r*(1-n)-a*i,r*(1-n)+a*i,0,0,r*(1-n)+a*i,n+r*(1-n),r*(1-n)-a*i,0,0,r*(1-n)-a*i,r*(1-n)+a*i,n+r*(1-n),0,0,0,0,0,1,0];this._loadMatrix(o,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,i=-.5*(n-1),r=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var n=2*t/3+1,i=-.5*(n-1),r=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,i,r){var a=((n=n||16770432)>>16&255)/255,o=(n>>8&255)/255,s=(255&n)/255,u=((i=i||3375104)>>16&255)/255,l=(i>>8&255)/255,h=(255&i)/255,c=[.3,.59,.11,0,0,a,o,s,t=t||.2,0,u,l,h,e=e||.15,0,a-u,o-l,s-h,0,0];this._loadMatrix(c,r)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(U.wn);en.prototype.grayscale=en.prototype.greyscale;var nn=function(t,e){return(nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var rn=function(t){function e(e,n){var i=this,r=new A.y3;return e.renderable=!1,(i=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:r,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,i.maskMatrix=r,null==n&&(n=20),i.scale=new A.E9(n,n),i}return function(t,e){function n(){this.constructor=t}nn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.apply=function(t,e,n,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var r=this.maskSprite.worldTransform,a=Math.sqrt(r.a*r.a+r.b*r.b),o=Math.sqrt(r.c*r.c+r.d*r.d);0!==a&&0!==o&&(this.uniforms.rotation[0]=r.a/a,this.uniforms.rotation[1]=r.b/a,this.uniforms.rotation[2]=r.c/o,this.uniforms.rotation[3]=r.d/o),t.applyFilter(this,e,n,i)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(U.wn),an=function(t,e){return(an=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var on=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function n(){this.constructor=t}an(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(U.wn),sn=function(t,e){return(sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var un=function(t){function e(e,n){void 0===e&&(e=.5),void 0===n&&(n=Math.random());var i=t.call(this,U.Y9,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=n,i}return function(t,e){function n(){this.constructor=t}sn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(U.wn),ln=new A.y3;S.s$.prototype._cacheAsBitmap=!1,S.s$.prototype._cacheData=null,S.s$.prototype._cacheAsBitmapResolution=null;var hn=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(S.s$.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new hn),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),S.s$.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},S.s$.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters){var i=this.filters[0].padding;n.pad(i)}n.ceil(Ut.X.RESOLUTION);var r=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),s=t.projection.transform,u=U.TI.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||t.resolution}),l="cacheAsBitmap_"+(0,E.uid)();this._cacheData.textureCacheId=l,U.VL.addToCache(u.baseTexture,l),U.xE.addToCache(u,l);var h=this.transform.localTransform.copyTo(ln).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:u,clear:!0,transform:h,skipUpdateTransform:!1}),t.projection.transform=s,t.renderTexture.bind(r,a,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;var c=new ae.j(u);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-n.x/n.width,c.anchor.y=-n.y/n.height,c.alpha=e,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},S.s$.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},S.s$.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=t.context,r=t._projTransform;e.ceil(Ut.X.RESOLUTION);var a=U.TI.create({width:e.width,height:e.height}),o="cacheAsBitmap_"+(0,E.uid)();this._cacheData.textureCacheId=o,U.VL.addToCache(a.baseTexture,o),U.xE.addToCache(a,o);var s=ln;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:s,skipUpdateTransform:!1}),t.context=i,t._projTransform=r,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var u=new ae.j(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},S.s$.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},S.s$.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},S.s$.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,U.VL.removeFromCache(this._cacheData.textureCacheId),U.xE.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},S.s$.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},S.s$.prototype.name=null,S.W2.prototype.getChildByName=function(t,e){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===t)return this.children[n];if(e)for(n=0,i=this.children.length;n<i;n++){if(this.children[n].getChildByName){var r=this.children[n].getChildByName(t,!0);if(r)return r}}return null},S.s$.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new A.E9),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var cn=n(3187),fn=n(6267),dn=n(5166);U.Th.registerPlugin("accessibility",T),U.Th.registerPlugin("extract",Y),U.Th.registerPlugin("interaction",B),U.Th.registerPlugin("particle",Vt),U.Th.registerPlugin("prepare",ne),U.Th.registerPlugin("batch",U.Bv),U.Th.registerPlugin("tilingSprite",fe),j.aN.registerPlugin(Ae),j.aN.registerPlugin(J),j.aN.registerPlugin(yt),j.aN.registerPlugin(Dt),j.aN.registerPlugin(re.o),V.M.registerPlugin(R.Sb),V.M.registerPlugin(j.LP);var pn="6.0.4",vn={AlphaFilter:Ie,BlurFilter:Je,BlurFilterPass:Qe,ColorMatrixFilter:en,DisplacementFilter:rn,FXAAFilter:on,NoiseFilter:un}},1924:function(t,e,n){"use strict";var i=n(210),r=n(5559),a=r(i("String.prototype.indexOf"));t.exports=function(t,e){var n=i(t,!!e);return"function"==typeof n&&a(t,".prototype.")>-1?r(n):n}},5559:function(t,e,n){"use strict";var i=n(8612),r=n(210),a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||i.call(o,a),u=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),h=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=s(i,o,arguments);if(u&&l){var n=u(e,"length");n.configurable&&l(e,"length",{value:1+h(0,t.length-(arguments.length-1))})}return e};var c=function(){return s(i,a,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c},3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,n){var i=n(111);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:function(t,e,n){var i=n(5112),r=n(30),a=n(3070),o=i("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:r(null)}),t.exports=function(t){s[o][t]=!0}},1530:function(t,e,n){"use strict";var i=n(8710).charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},5787:function(t){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},9670:function(t,e,n){var i=n(111);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var i,r=n(4019),a=n(9781),o=n(7854),s=n(111),u=n(6656),l=n(648),h=n(8880),c=n(1320),f=n(3070).f,d=n(9518),p=n(7674),v=n(5112),_=n(9711),m=o.Int8Array,y=m&&m.prototype,g=o.Uint8ClampedArray,b=g&&g.prototype,x=m&&d(m),w=y&&d(y),E=Object.prototype,S=E.isPrototypeOf,k=v("toStringTag"),T=_("TYPED_ARRAY_TAG"),A=r&&!!p&&"Opera"!==l(o.opera),R=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},C={BigInt64Array:8,BigUint64Array:8},P=function(t){if(!s(t))return!1;var e=l(t);return u(I,e)||u(C,e)};for(i in I)o[i]||(A=!1);if((!A||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},A))for(i in I)o[i]&&p(o[i],x);if((!A||!w||w===E)&&(w=x.prototype,A))for(i in I)o[i]&&p(o[i].prototype,w);if(A&&d(b)!==w&&p(b,w),a&&!u(w,k))for(i in R=!0,f(w,k,{get:function(){return s(this)?this[T]:void 0}}),I)o[i]&&h(o[i],T,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:R&&T,aTypedArray:function(t){if(P(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(p){if(S.call(x,t))return t}else for(var e in I)if(u(I,i)){var n=o[e];if(n&&(t===n||S.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(a){if(n)for(var i in I){var r=o[i];if(r&&u(r.prototype,t))try{delete r.prototype[t]}catch(t){}}w[t]&&!n||c(w,t,n?e:A&&y[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var i,r;if(a){if(p){if(n)for(i in I)if((r=o[i])&&u(r,t))try{delete r[t]}catch(t){}if(x[t]&&!n)return;try{return c(x,t,n?e:A&&x[t]||e)}catch(t){}}for(i in I)!(r=o[i])||r[t]&&!n||c(r,t,e)}},isView:function(t){if(!s(t))return!1;var e=l(t);return"DataView"===e||u(I,e)||u(C,e)},isTypedArray:P,TypedArray:x,TypedArrayPrototype:w}},3331:function(t,e,n){"use strict";var i=n(7854),r=n(9781),a=n(4019),o=n(8880),s=n(2248),u=n(7293),l=n(5787),h=n(9958),c=n(7466),f=n(7067),d=n(1179),p=n(9518),v=n(7674),_=n(8006).f,m=n(3070).f,y=n(1285),g=n(8003),b=n(9909),x=b.get,w=b.set,E="ArrayBuffer",S="DataView",k="Wrong index",T=i.ArrayBuffer,A=T,R=i.DataView,I=R&&R.prototype,C=Object.prototype,P=i.RangeError,M=d.pack,O=d.unpack,D=function(t){return[255&t]},N=function(t){return[255&t,t>>8&255]},L=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},F=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},B=function(t){return M(t,23,4)},V=function(t){return M(t,52,8)},U=function(t,e){m(t.prototype,e,{get:function(){return x(this)[e]}})},X=function(t,e,n,i){var r=f(n),a=x(t);if(r+e>a.byteLength)throw P(k);var o=x(a.buffer).bytes,s=r+a.byteOffset,u=o.slice(s,s+e);return i?u:u.reverse()},Y=function(t,e,n,i,r,a){var o=f(n),s=x(t);if(o+e>s.byteLength)throw P(k);for(var u=x(s.buffer).bytes,l=o+s.byteOffset,h=i(+r),c=0;c<e;c++)u[l+c]=h[a?c:e-c-1]};if(a){if(!u((function(){T(1)}))||!u((function(){new T(-1)}))||u((function(){return new T,new T(1.5),new T(NaN),T.name!=E}))){for(var j,G=(A=function(t){return l(this,A),new T(f(t))}).prototype=T.prototype,H=_(T),W=0;H.length>W;)(j=H[W++])in A||o(A,j,T[j]);G.constructor=A}v&&p(I)!==C&&v(I,C);var z=new R(new A(2)),q=I.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(I,{setInt8:function(t,e){q.call(this,t,e<<24>>24)},setUint8:function(t,e){q.call(this,t,e<<24>>24)}},{unsafe:!0})}else A=function(t){l(this,A,E);var e=f(t);w(this,{bytes:y.call(new Array(e),0),byteLength:e}),r||(this.byteLength=e)},R=function(t,e,n){l(this,R,S),l(t,A,S);var i=x(t).byteLength,a=h(e);if(a<0||a>i)throw P("Wrong offset");if(a+(n=void 0===n?i-a:c(n))>i)throw P("Wrong length");w(this,{buffer:t,byteLength:n,byteOffset:a}),r||(this.buffer=t,this.byteLength=n,this.byteOffset=a)},r&&(U(A,"byteLength"),U(R,"buffer"),U(R,"byteLength"),U(R,"byteOffset")),s(R.prototype,{getInt8:function(t){return X(this,1,t)[0]<<24>>24},getUint8:function(t){return X(this,1,t)[0]},getInt16:function(t){var e=X(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=X(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return F(X(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return F(X(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return O(X(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return O(X(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Y(this,1,t,D,e)},setUint8:function(t,e){Y(this,1,t,D,e)},setInt16:function(t,e){Y(this,2,t,N,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Y(this,2,t,N,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Y(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Y(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Y(this,4,t,B,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Y(this,8,t,V,e,arguments.length>2?arguments[2]:void 0)}});g(A,E),g(R,S),t.exports={ArrayBuffer:A,DataView:R}},1048:function(t,e,n){"use strict";var i=n(7908),r=n(1400),a=n(7466),o=Math.min;t.exports=[].copyWithin||function(t,e){var n=i(this),s=a(n.length),u=r(t,s),l=r(e,s),h=arguments.length>2?arguments[2]:void 0,c=o((void 0===h?s:r(h,s))-l,s-u),f=1;for(l<u&&u<l+c&&(f=-1,l+=c-1,u+=c-1);c-- >0;)l in n?n[u]=n[l]:delete n[u],u+=f,l+=f;return n}},1285:function(t,e,n){"use strict";var i=n(7908),r=n(1400),a=n(7466);t.exports=function(t){for(var e=i(this),n=a(e.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,l=void 0===u?n:r(u,n);l>s;)e[s++]=t;return e}},8533:function(t,e,n){"use strict";var i=n(2092).forEach,r=n(9341)("forEach");t.exports=r?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},8457:function(t,e,n){"use strict";var i=n(9974),r=n(7908),a=n(3411),o=n(7659),s=n(7466),u=n(6135),l=n(1246);t.exports=function(t){var e,n,h,c,f,d,p=r(t),v="function"==typeof this?this:Array,_=arguments.length,m=_>1?arguments[1]:void 0,y=void 0!==m,g=l(p),b=0;if(y&&(m=i(m,_>2?arguments[2]:void 0,2)),null==g||v==Array&&o(g))for(n=new v(e=s(p.length));e>b;b++)d=y?m(p[b],b):p[b],u(n,b,d);else for(f=(c=g.call(p)).next,n=new v;!(h=f.call(c)).done;b++)d=y?a(c,m,[h.value,b],!0):h.value,u(n,b,d);return n.length=b,n}},1318:function(t,e,n){var i=n(5656),r=n(7466),a=n(1400),o=function(t){return function(e,n,o){var s,u=i(e),l=r(u.length),h=a(o,l);if(t&&n!=n){for(;l>h;)if((s=u[h++])!=s)return!0}else for(;l>h;h++)if((t||h in u)&&u[h]===n)return t||h||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},2092:function(t,e,n){var i=n(9974),r=n(8361),a=n(7908),o=n(7466),s=n(5417),u=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,h=4==t,c=6==t,f=7==t,d=5==t||c;return function(p,v,_,m){for(var y,g,b=a(p),x=r(b),w=i(v,_,3),E=o(x.length),S=0,k=m||s,T=e?k(p,E):n||f?k(p,0):void 0;E>S;S++)if((d||S in x)&&(g=w(y=x[S],S,b),t))if(e)T[S]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return S;case 2:u.call(T,y)}else switch(t){case 4:return!1;case 7:u.call(T,y)}return c?-1:l||h?h:T}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},6583:function(t,e,n){"use strict";var i=n(5656),r=n(9958),a=n(7466),o=n(9341),s=Math.min,u=[].lastIndexOf,l=!!u&&1/[1].lastIndexOf(1,-0)<0,h=o("lastIndexOf"),c=l||!h;t.exports=c?function(t){if(l)return u.apply(this,arguments)||0;var e=i(this),n=a(e.length),o=n-1;for(arguments.length>1&&(o=s(o,r(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in e&&e[o]===t)return o||0;return-1}:u},1194:function(t,e,n){var i=n(7293),r=n(5112),a=n(7392),o=r("species");t.exports=function(t){return a>=51||!i((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,n){"use strict";var i=n(7293);t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},3671:function(t,e,n){var i=n(3099),r=n(7908),a=n(8361),o=n(7466),s=function(t){return function(e,n,s,u){i(n);var l=r(e),h=a(l),c=o(l.length),f=t?c-1:0,d=t?-1:1;if(s<2)for(;;){if(f in h){u=h[f],f+=d;break}if(f+=d,t?f<0:c<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:c>f;f+=d)f in h&&(u=n(u,h[f],f,l));return u}};t.exports={left:s(!1),right:s(!0)}},5417:function(t,e,n){var i=n(111),r=n(3157),a=n(5112)("species");t.exports=function(t,e){var n;return r(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!r(n.prototype)?i(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},3411:function(t,e,n){var i=n(9670),r=n(9212);t.exports=function(t,e,n,a){try{return a?e(i(n)[0],n[1]):e(n)}catch(e){throw r(t),e}}},7072:function(t,e,n){var i=n(5112)("iterator"),r=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){r=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var a={};a[i]=function(){return{next:function(){return{done:n=!0}}}},t(a)}catch(t){}return n}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,n){var i=n(1694),r=n(4326),a=n(5112)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:o?r(e):"Object"==(i=r(e))&&"function"==typeof e.callee?"Arguments":i}},4092:function(t,e,n){"use strict";var i=n(9670),r=n(3099);t.exports=function(){for(var t,e=i(this),n=r(e.delete),a=!0,o=0,s=arguments.length;o<s;o++)t=n.call(e,arguments[o]),a=a&&t;return!!a}},5631:function(t,e,n){"use strict";var i=n(3070).f,r=n(30),a=n(2248),o=n(9974),s=n(5787),u=n(408),l=n(654),h=n(6340),c=n(9781),f=n(2423).fastKey,d=n(9909),p=d.set,v=d.getterFor;t.exports={getConstructor:function(t,e,n,l){var h=t((function(t,i){s(t,h,e),p(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),c||(t.size=0),null!=i&&u(i,t[l],{that:t,AS_ENTRIES:n})})),d=v(e),_=function(t,e,n){var i,r,a=d(t),o=m(t,e);return o?o.value=n:(a.last=o={index:r=f(e,!0),key:e,value:n,previous:i=a.last,next:void 0,removed:!1},a.first||(a.first=o),i&&(i.next=o),c?a.size++:t.size++,"F"!==r&&(a.index[r]=o)),t},m=function(t,e){var n,i=d(t),r=f(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return a(h.prototype,{clear:function(){for(var t=d(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,c?t.size=0:this.size=0},delete:function(t){var e=this,n=d(e),i=m(e,t);if(i){var r=i.next,a=i.previous;delete n.index[i.index],i.removed=!0,a&&(a.next=r),r&&(r.previous=a),n.first==i&&(n.first=r),n.last==i&&(n.last=a),c?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=d(this),i=o(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!m(this,t)}}),a(h.prototype,n?{get:function(t){var e=m(this,t);return e&&e.value},set:function(t,e){return _(this,0===t?0:t,e)}}:{add:function(t){return _(this,t=0===t?0:t,t)}}),c&&i(h.prototype,"size",{get:function(){return d(this).size}}),h},setStrong:function(t,e,n){var i=e+" Iterator",r=v(e),a=v(i);l(t,e,(function(t,e){p(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),h(e)}}},7710:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(4705),o=n(1320),s=n(2423),u=n(408),l=n(5787),h=n(111),c=n(7293),f=n(7072),d=n(8003),p=n(9587);t.exports=function(t,e,n){var v=-1!==t.indexOf("Map"),_=-1!==t.indexOf("Weak"),m=v?"set":"add",y=r[t],g=y&&y.prototype,b=y,x={},w=function(t){var e=g[t];o(g,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(_&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return _&&!h(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(_&&!h(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(a(t,"function"!=typeof y||!(_||g.forEach&&!c((function(){(new y).entries().next()})))))b=n.getConstructor(e,t,v,m),s.REQUIRED=!0;else if(a(t,!0)){var E=new b,S=E[m](_?{}:-0,1)!=E,k=c((function(){E.has(1)})),T=f((function(t){new y(t)})),A=!_&&c((function(){for(var t=new y,e=5;e--;)t[m](e,e);return!t.has(-0)}));T||((b=e((function(e,n){l(e,b,t);var i=p(new y,e,b);return null!=n&&u(n,i[m],{that:i,AS_ENTRIES:v}),i}))).prototype=g,g.constructor=b),(k||A)&&(w("delete"),w("has"),v&&w("get")),(A||S)&&w(m),_&&g.clear&&delete g.clear}return x[t]=b,i({global:!0,forced:b!=y},x),d(b,t),_||n.setStrong(b,t,v),b}},9920:function(t,e,n){var i=n(6656),r=n(3887),a=n(1236),o=n(3070);t.exports=function(t,e){for(var n=r(e),s=o.f,u=a.f,l=0;l<n.length;l++){var h=n[l];i(t,h)||s(t,h,u(e,h))}}},4964:function(t,e,n){var i=n(5112)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,"/./"[t](e)}catch(t){}}return!1}},8544:function(t,e,n){var i=n(7293);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:function(t,e,n){"use strict";var i=n(3383).IteratorPrototype,r=n(30),a=n(9114),o=n(8003),s=n(7497),u=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=r(i,{next:a(1,n)}),o(t,l,!1,!0),s[l]=u,t}},8880:function(t,e,n){var i=n(9781),r=n(3070),a=n(9114);t.exports=i?function(t,e,n){return r.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,n){"use strict";var i=n(7593),r=n(3070),a=n(9114);t.exports=function(t,e,n){var o=i(e);o in t?r.f(t,o,a(0,n)):t[o]=n}},654:function(t,e,n){"use strict";var i=n(2109),r=n(4994),a=n(9518),o=n(7674),s=n(8003),u=n(8880),l=n(1320),h=n(5112),c=n(1913),f=n(7497),d=n(3383),p=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,_=h("iterator"),m="keys",y="values",g="entries",b=function(){return this};t.exports=function(t,e,n,h,d,x,w){r(n,e,h);var E,S,k,T=function(t){if(t===d&&P)return P;if(!v&&t in I)return I[t];switch(t){case m:case y:case g:return function(){return new n(this,t)}}return function(){return new n(this)}},A=e+" Iterator",R=!1,I=t.prototype,C=I[_]||I["@@iterator"]||d&&I[d],P=!v&&C||T(d),M="Array"==e&&I.entries||C;if(M&&(E=a(M.call(new t)),p!==Object.prototype&&E.next&&(c||a(E)===p||(o?o(E,p):"function"!=typeof E[_]&&u(E,_,b)),s(E,A,!0,!0),c&&(f[A]=b))),d==y&&C&&C.name!==y&&(R=!0,P=function(){return C.call(this)}),c&&!w||I[_]===P||u(I,_,P),f[e]=P,d)if(S={values:T(y),keys:x?P:T(m),entries:T(g)},w)for(k in S)(v||R||!(k in I))&&l(I,k,S[k]);else i({target:e,proto:!0,forced:v||R},S);return S}},7235:function(t,e,n){var i=n(857),r=n(6656),a=n(6061),o=n(3070).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});r(e,t)||o(e,t,{value:a.f(t)})}},9781:function(t,e,n){var i=n(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var i=n(7854),r=n(111),a=i.document,o=r(a)&&r(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},7871:function(t){t.exports="object"==typeof window},6833:function(t,e,n){var i=n(8113);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(i)},5268:function(t,e,n){var i=n(4326),r=n(7854);t.exports="process"==i(r.process)},1036:function(t,e,n){var i=n(8113);t.exports=/web0s(?!.*chrome)/i.test(i)},8113:function(t,e,n){var i=n(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,n){var i,r,a=n(7854),o=n(8113),s=a.process,u=s&&s.versions,l=u&&u.v8;l?r=(i=l.split("."))[0]<4?1:i[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(r=i[1]),t.exports=r&&+r},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){var i=n(7854),r=n(1236).f,a=n(8880),o=n(1320),s=n(3505),u=n(9920),l=n(4705);t.exports=function(t,e){var n,h,c,f,d,p=t.target,v=t.global,_=t.stat;if(n=v?i:_?i[p]||s(p,{}):(i[p]||{}).prototype)for(h in e){if(f=e[h],c=t.noTargetGet?(d=r(n,h))&&d.value:n[h],!l(v?h:p+(_?".":"#")+h,t.forced)&&void 0!==c){if(typeof f==typeof c)continue;u(f,c)}(t.sham||c&&c.sham)&&a(f,"sham",!0),o(n,h,f,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){"use strict";n(4916);var i=n(1320),r=n(2261),a=n(7293),o=n(5112),s=n(8880),u=o("species"),l=RegExp.prototype,h=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c="$0"==="a".replace(/./,"$0"),f=o("replace"),d=!!/./[f]&&""===/./[f]("a","$0"),p=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,f){var v=o(t),_=!a((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),m=_&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return e=!0,null},n[v](""),!e}));if(!_||!m||"replace"===t&&(!h||!c||d)||"split"===t&&!p){var y=/./[v],g=n(v,""[t],(function(t,e,n,i,a){var o=e.exec;return o===r||o===l.exec?_&&!a?{done:!0,value:y.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=g[0],x=g[1];i(String.prototype,t,b),i(l,v,2==e?function(t,e){return x.call(t,this,e)}:function(t){return x.call(t,this)})}f&&s(l[v],"sham",!0)}},6677:function(t,e,n){var i=n(7293);t.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},9974:function(t,e,n){var i=n(3099);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},7065:function(t,e,n){"use strict";var i=n(3099),r=n(111),a=[].slice,o={},s=function(t,e,n){if(!(e in o)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";o[e]=Function("C,a","return new C("+i.join(",")+")")}return o[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=a.call(arguments,1),o=function(){var i=n.concat(a.call(arguments));return this instanceof o?s(e,i.length,i):e.apply(t,i)};return r(e.prototype)&&(o.prototype=e.prototype),o}},5005:function(t,e,n){var i=n(857),r=n(7854),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(i[t])||a(r[t]):i[t]&&i[t][e]||r[t]&&r[t][e]}},1246:function(t,e,n){var i=n(648),r=n(7497),a=n(5112)("iterator");t.exports=function(t){if(null!=t)return t[a]||t["@@iterator"]||r[i(t)]}},8554:function(t,e,n){var i=n(9670),r=n(1246);t.exports=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return i(e.call(t))}},4647:function(t,e,n){var i=n(1913),r=n(8554);t.exports=i?r:function(t){return Map.prototype.entries.call(t)}},647:function(t,e,n){var i=n(7908),r=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,u,l,h){var c=n+t.length,f=u.length,d=s;return void 0!==l&&(l=i(l),d=o),a.call(h,d,(function(i,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(c);case"<":o=l[a.slice(1,-1)];break;default:var s=+a;if(0===s)return i;if(s>f){var h=r(s/10);return 0===h?i:h<=f?void 0===u[h-1]?a.charAt(1):u[h-1]+a.charAt(1):i}o=u[s-1]}return void 0===o?"":o}))}},7854:function(t,e,n){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},6656:function(t,e,n){var i=n(7908),r={}.hasOwnProperty;t.exports=function(t,e){return r.call(i(t),e)}},3501:function(t){t.exports={}},842:function(t,e,n){var i=n(7854);t.exports=function(t,e){var n=i.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},490:function(t,e,n){var i=n(5005);t.exports=i("document","documentElement")},4664:function(t,e,n){var i=n(9781),r=n(7293),a=n(317);t.exports=!i&&!r((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},1179:function(t){var e=Math.abs,n=Math.pow,i=Math.floor,r=Math.log,a=Math.LN2;t.exports={pack:function(t,o,s){var u,l,h,c=new Array(s),f=8*s-o-1,d=(1<<f)-1,p=d>>1,v=23===o?n(2,-24)-n(2,-77):0,_=t<0||0===t&&1/t<0?1:0,m=0;for((t=e(t))!=t||t===1/0?(l=t!=t?1:0,u=d):(u=i(r(t)/a),t*(h=n(2,-u))<1&&(u--,h*=2),(t+=u+p>=1?v/h:v*n(2,1-p))*h>=2&&(u++,h/=2),u+p>=d?(l=0,u=d):u+p>=1?(l=(t*h-1)*n(2,o),u+=p):(l=t*n(2,p-1)*n(2,o),u=0));o>=8;c[m++]=255&l,l/=256,o-=8);for(u=u<<o|l,f+=o;f>0;c[m++]=255&u,u/=256,f-=8);return c[--m]|=128*_,c},unpack:function(t,e){var i,r=t.length,a=8*r-e-1,o=(1<<a)-1,s=o>>1,u=a-7,l=r-1,h=t[l--],c=127&h;for(h>>=7;u>0;c=256*c+t[l],l--,u-=8);for(i=c&(1<<-u)-1,c>>=-u,u+=e;u>0;i=256*i+t[l],l--,u-=8);if(0===c)c=1-s;else{if(c===o)return i?NaN:h?-1/0:1/0;i+=n(2,e),c-=s}return(h?-1:1)*i*n(2,c-e)}}},8361:function(t,e,n){var i=n(7293),r=n(4326),a="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==r(t)?a.call(t,""):Object(t)}:Object},9587:function(t,e,n){var i=n(111),r=n(7674);t.exports=function(t,e,n){var a,o;return r&&"function"==typeof(a=e.constructor)&&a!==n&&i(o=a.prototype)&&o!==n.prototype&&r(t,o),t}},2788:function(t,e,n){var i=n(5465),r=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return r.call(t)}),t.exports=i.inspectSource},2423:function(t,e,n){var i=n(3501),r=n(111),a=n(6656),o=n(3070).f,s=n(9711),u=n(6677),l=s("meta"),h=0,c=Object.isExtensible||function(){return!0},f=function(t){o(t,l,{value:{objectID:"O"+ ++h,weakData:{}}})},d=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,l)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[l].objectID},getWeakData:function(t,e){if(!a(t,l)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[l].weakData},onFreeze:function(t){return u&&d.REQUIRED&&c(t)&&!a(t,l)&&f(t),t}};i[l]=!0},9909:function(t,e,n){var i,r,a,o=n(8536),s=n(7854),u=n(111),l=n(8880),h=n(6656),c=n(5465),f=n(6200),d=n(3501),p="Object already initialized",v=s.WeakMap;if(o||c.state){var _=c.state||(c.state=new v),m=_.get,y=_.has,g=_.set;i=function(t,e){if(y.call(_,t))throw new TypeError(p);return e.facade=t,g.call(_,t,e),e},r=function(t){return m.call(_,t)||{}},a=function(t){return y.call(_,t)}}else{var b=f("state");d[b]=!0,i=function(t,e){if(h(t,b))throw new TypeError(p);return e.facade=t,l(t,b,e),e},r=function(t){return h(t,b)?t[b]:{}},a=function(t){return h(t,b)}}t.exports={set:i,get:r,has:a,enforce:function(t){return a(t)?r(t):i(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=r(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},7659:function(t,e,n){var i=n(5112),r=n(7497),a=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[a]===t)}},3157:function(t,e,n){var i=n(4326);t.exports=Array.isArray||function(t){return"Array"==i(t)}},4705:function(t,e,n){var i=n(7293),r=/#|\.prototype\./,a=function(t,e){var n=s[o(t)];return n==l||n!=u&&("function"==typeof e?i(e):!!e)},o=a.normalize=function(t){return String(t).replace(r,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},7850:function(t,e,n){var i=n(111),r=n(4326),a=n(5112)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==r(t))}},408:function(t,e,n){var i=n(9670),r=n(7659),a=n(7466),o=n(9974),s=n(1246),u=n(9212),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var h,c,f,d,p,v,_,m=n&&n.that,y=!(!n||!n.AS_ENTRIES),g=!(!n||!n.IS_ITERATOR),b=!(!n||!n.INTERRUPTED),x=o(e,m,1+y+b),w=function(t){return h&&u(h),new l(!0,t)},E=function(t){return y?(i(t),b?x(t[0],t[1],w):x(t[0],t[1])):b?x(t,w):x(t)};if(g)h=t;else{if("function"!=typeof(c=s(t)))throw TypeError("Target is not iterable");if(r(c)){for(f=0,d=a(t.length);d>f;f++)if((p=E(t[f]))&&p instanceof l)return p;return new l(!1)}h=c.call(t)}for(v=h.next;!(_=v.call(h)).done;){try{p=E(_.value)}catch(t){throw u(h),t}if("object"==typeof p&&p&&p instanceof l)return p}return new l(!1)}},9212:function(t,e,n){var i=n(9670);t.exports=function(t){var e=t.return;if(void 0!==e)return i(e.call(t)).value}},3383:function(t,e,n){"use strict";var i,r,a,o=n(7293),s=n(9518),u=n(8880),l=n(6656),h=n(5112),c=n(1913),f=h("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(r=s(s(a)))!==Object.prototype&&(i=r):d=!0);var p=null==i||o((function(){var t={};return i[f].call(t)!==t}));p&&(i={}),c&&!p||l(i,f)||u(i,f,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:d}},7497:function(t){t.exports={}},5948:function(t,e,n){var i,r,a,o,s,u,l,h,c=n(7854),f=n(1236).f,d=n(261).set,p=n(6833),v=n(1036),_=n(5268),m=c.MutationObserver||c.WebKitMutationObserver,y=c.document,g=c.process,b=c.Promise,x=f(c,"queueMicrotask"),w=x&&x.value;w||(i=function(){var t,e;for(_&&(t=g.domain)&&t.exit();r;){e=r.fn,r=r.next;try{e()}catch(t){throw r?o():a=void 0,t}}a=void 0,t&&t.enter()},p||_||v||!m||!y?b&&b.resolve?((l=b.resolve(void 0)).constructor=b,h=l.then,o=function(){h.call(l,i)}):o=_?function(){g.nextTick(i)}:function(){d.call(c,i)}:(s=!0,u=y.createTextNode(""),new m(i).observe(u,{characterData:!0}),o=function(){u.data=s=!s})),t.exports=w||function(t){var e={fn:t,next:void 0};a&&(a.next=e),r||(r=e,o()),a=e}},3366:function(t,e,n){var i=n(7854);t.exports=i.Promise},133:function(t,e,n){var i=n(7392),r=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())||!Symbol.sham&&i&&i<41}))},590:function(t,e,n){var i=n(7293),r=n(5112),a=n(1913),o=r("iterator");t.exports=!i((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,i){e.delete("b"),n+=i+t})),a&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:function(t,e,n){var i=n(7854),r=n(2788),a=i.WeakMap;t.exports="function"==typeof a&&/native code/.test(r(a))},8523:function(t,e,n){"use strict";var i=n(3099),r=function(t){var e,n;this.promise=new t((function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i})),this.resolve=i(e),this.reject=i(n)};t.exports.f=function(t){return new r(t)}},3929:function(t,e,n){var i=n(7850);t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},1574:function(t,e,n){"use strict";var i=n(9781),r=n(7293),a=n(1956),o=n(5181),s=n(5296),u=n(7908),l=n(8361),h=Object.assign,c=Object.defineProperty;t.exports=!h||r((function(){if(i&&1!==h({b:1},h(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=h({},t)[n]||a(h({},e)).join("")!=r}))?function(t,e){for(var n=u(t),r=arguments.length,h=1,c=o.f,f=s.f;r>h;)for(var d,p=l(arguments[h++]),v=c?a(p).concat(c(p)):a(p),_=v.length,m=0;_>m;)d=v[m++],i&&!f.call(p,d)||(n[d]=p[d]);return n}:h},30:function(t,e,n){var i,r=n(9670),a=n(6048),o=n(748),s=n(3501),u=n(490),l=n(317),h=n(6200),c=h("IE_PROTO"),f=function(){},d=function(t){return"<script>"+t+"</"+"script>"},p=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;p=i?function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}(i):((e=l("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=o.length;n--;)delete p.prototype[o[n]];return p()};s[c]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(f.prototype=r(t),n=new f,f.prototype=null,n[c]=t):n=p(),void 0===e?n:a(n,e)}},6048:function(t,e,n){var i=n(9781),r=n(3070),a=n(9670),o=n(1956);t.exports=i?Object.defineProperties:function(t,e){a(t);for(var n,i=o(e),s=i.length,u=0;s>u;)r.f(t,n=i[u++],e[n]);return t}},3070:function(t,e,n){var i=n(9781),r=n(4664),a=n(9670),o=n(7593),s=Object.defineProperty;e.f=i?s:function(t,e,n){if(a(t),e=o(e,!0),a(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var i=n(9781),r=n(5296),a=n(9114),o=n(5656),s=n(7593),u=n(6656),l=n(4664),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=o(t),e=s(e,!0),l)try{return h(t,e)}catch(t){}if(u(t,e))return a(!r.f.call(t,e),t[e])}},1156:function(t,e,n){var i=n(5656),r=n(8006).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?function(t){try{return r(t)}catch(t){return o.slice()}}(t):r(i(t))}},8006:function(t,e,n){var i=n(6324),r=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var i=n(6656),r=n(7908),a=n(6200),o=n(8544),s=a("IE_PROTO"),u=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=r(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},6324:function(t,e,n){var i=n(6656),r=n(5656),a=n(1318).indexOf,o=n(3501);t.exports=function(t,e){var n,s=r(t),u=0,l=[];for(n in s)!i(o,n)&&i(s,n)&&l.push(n);for(;e.length>u;)i(s,n=e[u++])&&(~a(l,n)||l.push(n));return l}},1956:function(t,e,n){var i=n(6324),r=n(748);t.exports=Object.keys||function(t){return i(t,r)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);e.f=r?function(t){var e=i(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var i=n(9670),r=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,a){return i(n),r(a),e?t.call(n,a):n.__proto__=a,n}}():void 0)},4699:function(t,e,n){var i=n(9781),r=n(1956),a=n(5656),o=n(5296).f,s=function(t){return function(e){for(var n,s=a(e),u=r(s),l=u.length,h=0,c=[];l>h;)n=u[h++],i&&!o.call(s,n)||c.push(t?[n,s[n]]:s[n]);return c}};t.exports={entries:s(!0),values:s(!1)}},288:function(t,e,n){"use strict";var i=n(1694),r=n(648);t.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},3887:function(t,e,n){var i=n(5005),r=n(8006),a=n(5181),o=n(9670);t.exports=i("Reflect","ownKeys")||function(t){var e=r.f(o(t)),n=a.f;return n?e.concat(n(t)):e}},857:function(t,e,n){var i=n(7854);t.exports=i},2534:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},9478:function(t,e,n){var i=n(9670),r=n(111),a=n(8523);t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},2248:function(t,e,n){var i=n(1320);t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},1320:function(t,e,n){var i=n(7854),r=n(8880),a=n(6656),o=n(3505),s=n(2788),u=n(9909),l=u.get,h=u.enforce,c=String(String).split("String");(t.exports=function(t,e,n,s){var u,l=!!s&&!!s.unsafe,f=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||r(n,"name",e),(u=h(n)).source||(u.source=c.join("string"==typeof e?e:""))),t!==i?(l?!d&&t[e]&&(f=!0):delete t[e],f?t[e]=n:r(t,e,n)):f?t[e]=n:o(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},7651:function(t,e,n){var i=n(4326),r=n(2261);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var a=n.call(t,e);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},2261:function(t,e,n){"use strict";var i,r,a=n(7066),o=n(2999),s=n(2309),u=RegExp.prototype.exec,l=s("native-string-replace",String.prototype.replace),h=u,c=(i=/a/,r=/b*/g,u.call(i,"a"),u.call(r,"a"),0!==i.lastIndex||0!==r.lastIndex),f=o.UNSUPPORTED_Y||o.BROKEN_CARET,d=void 0!==/()??/.exec("")[1];(c||d||f)&&(h=function(t){var e,n,i,r,o=this,s=f&&o.sticky,h=a.call(o),p=o.source,v=0,_=t;return s&&(-1===(h=h.replace("y","")).indexOf("g")&&(h+="g"),_=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(p="(?: "+p+")",_=" "+_,v++),n=new RegExp("^(?:"+p+")",h)),d&&(n=new RegExp("^"+p+"$(?!\\s)",h)),c&&(e=o.lastIndex),i=u.call(s?n:o,_),s?i?(i.input=i.input.slice(v),i[0]=i[0].slice(v),i.index=o.lastIndex,o.lastIndex+=i[0].length):o.lastIndex=0:c&&i&&(o.lastIndex=o.global?i.index+i[0].length:e),d&&i&&i.length>1&&l.call(i[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)})),i}),t.exports=h},7066:function(t,e,n){"use strict";var i=n(9670);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},2999:function(t,e,n){"use strict";var i=n(7293);function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},6465:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},1150:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},3505:function(t,e,n){var i=n(7854),r=n(8880);t.exports=function(t,e){try{r(i,t,e)}catch(n){i[t]=e}return e}},6340:function(t,e,n){"use strict";var i=n(5005),r=n(3070),a=n(5112),o=n(9781),s=a("species");t.exports=function(t){var e=i(t),n=r.f;o&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},8003:function(t,e,n){var i=n(3070).f,r=n(6656),a=n(5112)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,a)&&i(t,a,{configurable:!0,value:e})}},6200:function(t,e,n){var i=n(2309),r=n(9711),a=i("keys");t.exports=function(t){return a[t]||(a[t]=r(t))}},5465:function(t,e,n){var i=n(7854),r=n(3505),a="__core-js_shared__",o=i[a]||r(a,{});t.exports=o},2309:function(t,e,n){var i=n(1913),r=n(5465);(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.13.0",mode:i?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(t,e,n){var i=n(9670),r=n(3099),a=n(5112)("species");t.exports=function(t,e){var n,o=i(t).constructor;return void 0===o||null==(n=i(o)[a])?e:r(n)}},8710:function(t,e,n){var i=n(9958),r=n(4488),a=function(t){return function(e,n){var a,o,s=String(r(e)),u=i(n),l=s.length;return u<0||u>=l?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},3197:function(t){"use strict";var e=2147483647,n=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,r="Overflow: input needs wider integers to process",a=Math.floor,o=String.fromCharCode,s=function(t){return t+22+75*(t<26)},u=function(t,e,n){var i=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;i+=36)t=a(t/35);return a(i+36*t/(t+38))},l=function(t){var n,i,l=[],h=(t=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var a=t.charCodeAt(n++);56320==(64512&a)?e.push(((1023&r)<<10)+(1023&a)+65536):(e.push(r),n--)}else e.push(r)}return e}(t)).length,c=128,f=0,d=72;for(n=0;n<t.length;n++)(i=t[n])<128&&l.push(o(i));var p=l.length,v=p;for(p&&l.push("-");v<h;){var _=e;for(n=0;n<t.length;n++)(i=t[n])>=c&&i<_&&(_=i);var m=v+1;if(_-c>a((e-f)/m))throw RangeError(r);for(f+=(_-c)*m,c=_,n=0;n<t.length;n++){if((i=t[n])<c&&++f>e)throw RangeError(r);if(i==c){for(var y=f,g=36;;g+=36){var b=g<=d?1:g>=d+26?26:g-d;if(y<b)break;var x=y-b,w=36-b;l.push(o(s(b+x%w))),y=a(x/w)}l.push(o(s(y))),d=u(f,m,v==p),f=0,++v}}++f,++c}return l.join("")};t.exports=function(t){var e,r,a=[],o=t.toLowerCase().replace(i,".").split(".");for(e=0;e<o.length;e++)r=o[e],a.push(n.test(r)?"xn--"+l(r):r);return a.join(".")}},6091:function(t,e,n){var i=n(7293),r=n(1361);t.exports=function(t){return i((function(){return!!r[t]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[t]()||r[t].name!==t}))}},3111:function(t,e,n){var i=n(4488),r="["+n(1361)+"]",a=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),s=function(t){return function(e){var n=String(i(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},261:function(t,e,n){var i,r,a,o=n(7854),s=n(7293),u=n(9974),l=n(490),h=n(317),c=n(6833),f=n(5268),d=o.location,p=o.setImmediate,v=o.clearImmediate,_=o.process,m=o.MessageChannel,y=o.Dispatch,g=0,b={},x="onreadystatechange",w=function(t){if(b.hasOwnProperty(t)){var e=b[t];delete b[t],e()}},E=function(t){return function(){w(t)}},S=function(t){w(t.data)},k=function(t){o.postMessage(t+"",d.protocol+"//"+d.host)};p&&v||(p=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return b[++g]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},i(g),g},v=function(t){delete b[t]},f?i=function(t){_.nextTick(E(t))}:y&&y.now?i=function(t){y.now(E(t))}:m&&!c?(a=(r=new m).port2,r.port1.onmessage=S,i=u(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&d&&"file:"!==d.protocol&&!s(k)?(i=k,o.addEventListener("message",S,!1)):i=x in h("script")?function(t){l.appendChild(h("script")).onreadystatechange=function(){l.removeChild(this),w(t)}}:function(t){setTimeout(E(t),0)}),t.exports={set:p,clear:v}},1400:function(t,e,n){var i=n(9958),r=Math.max,a=Math.min;t.exports=function(t,e){var n=i(t);return n<0?r(n+e,0):a(n,e)}},7067:function(t,e,n){var i=n(9958),r=n(7466);t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length or index");return n}},5656:function(t,e,n){var i=n(8361),r=n(4488);t.exports=function(t){return i(r(t))}},9958:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:e)(t)}},7466:function(t,e,n){var i=n(9958),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},7908:function(t,e,n){var i=n(4488);t.exports=function(t){return Object(i(t))}},4590:function(t,e,n){var i=n(3002);t.exports=function(t,e){var n=i(t);if(n%e)throw RangeError("Wrong offset");return n}},3002:function(t,e,n){var i=n(9958);t.exports=function(t){var e=i(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},7593:function(t,e,n){var i=n(111);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},1694:function(t,e,n){var i={};i[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(i)},9843:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(9781),o=n(3832),s=n(260),u=n(3331),l=n(5787),h=n(9114),c=n(8880),f=n(7466),d=n(7067),p=n(4590),v=n(7593),_=n(6656),m=n(648),y=n(111),g=n(30),b=n(7674),x=n(8006).f,w=n(7321),E=n(2092).forEach,S=n(6340),k=n(3070),T=n(1236),A=n(9909),R=n(9587),I=A.get,C=A.set,P=k.f,M=T.f,O=Math.round,D=r.RangeError,N=u.ArrayBuffer,L=u.DataView,F=s.NATIVE_ARRAY_BUFFER_VIEWS,B=s.TYPED_ARRAY_TAG,V=s.TypedArray,U=s.TypedArrayPrototype,X=s.aTypedArrayConstructor,Y=s.isTypedArray,j="BYTES_PER_ELEMENT",G="Wrong length",H=function(t,e){for(var n=0,i=e.length,r=new(X(t))(i);i>n;)r[n]=e[n++];return r},W=function(t,e){P(t,e,{get:function(){return I(this)[e]}})},z=function(t){var e;return t instanceof N||"ArrayBuffer"==(e=m(t))||"SharedArrayBuffer"==e},q=function(t,e){return Y(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Z=function(t,e){return q(t,e=v(e,!0))?h(2,t[e]):M(t,e)},K=function(t,e,n){return!(q(t,e=v(e,!0))&&y(n)&&_(n,"value"))||_(n,"get")||_(n,"set")||n.configurable||_(n,"writable")&&!n.writable||_(n,"enumerable")&&!n.enumerable?P(t,e,n):(t[e]=n.value,t)};a?(F||(T.f=Z,k.f=K,W(U,"buffer"),W(U,"byteOffset"),W(U,"byteLength"),W(U,"length")),i({target:"Object",stat:!0,forced:!F},{getOwnPropertyDescriptor:Z,defineProperty:K}),t.exports=function(t,e,n){var a=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",u="get"+t,h="set"+t,v=r[s],_=v,m=_&&_.prototype,k={},T=function(t,e){P(t,e,{get:function(){return function(t,e){var n=I(t);return n.view[u](e*a+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,i){var r=I(t);n&&(i=(i=O(i))<0?0:i>255?255:255&i),r.view[h](e*a+r.byteOffset,i,!0)}(this,e,t)},enumerable:!0})};F?o&&(_=e((function(t,e,n,i){return l(t,_,s),R(y(e)?z(e)?void 0!==i?new v(e,p(n,a),i):void 0!==n?new v(e,p(n,a)):new v(e):Y(e)?H(_,e):w.call(_,e):new v(d(e)),t,_)})),b&&b(_,V),E(x(v),(function(t){t in _||c(_,t,v[t])})),_.prototype=m):(_=e((function(t,e,n,i){l(t,_,s);var r,o,u,h=0,c=0;if(y(e)){if(!z(e))return Y(e)?H(_,e):w.call(_,e);r=e,c=p(n,a);var v=e.byteLength;if(void 0===i){if(v%a)throw D(G);if((o=v-c)<0)throw D(G)}else if((o=f(i)*a)+c>v)throw D(G);u=o/a}else u=d(e),r=new N(o=u*a);for(C(t,{buffer:r,byteOffset:c,byteLength:o,length:u,view:new L(r)});h<u;)T(t,h++)})),b&&b(_,V),m=_.prototype=g(U)),m.constructor!==_&&c(m,"constructor",_),B&&c(m,B,s),k[s]=_,i({global:!0,forced:_!=v,sham:!F},k),j in _||c(_,j,a),j in m||c(m,j,a),S(s)}):t.exports=function(){}},3832:function(t,e,n){var i=n(7854),r=n(7293),a=n(7072),o=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=i.ArrayBuffer,u=i.Int8Array;t.exports=!o||!r((function(){u(1)}))||!r((function(){new u(-1)}))||!a((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||r((function(){return 1!==new u(new s(2),1,void 0).length}))},3074:function(t,e,n){var i=n(260).aTypedArrayConstructor,r=n(6707);t.exports=function(t,e){for(var n=r(t,t.constructor),a=0,o=e.length,s=new(i(n))(o);o>a;)s[a]=e[a++];return s}},7321:function(t,e,n){var i=n(7908),r=n(7466),a=n(1246),o=n(7659),s=n(9974),u=n(260).aTypedArrayConstructor;t.exports=function(t){var e,n,l,h,c,f,d=i(t),p=arguments.length,v=p>1?arguments[1]:void 0,_=void 0!==v,m=a(d);if(null!=m&&!o(m))for(f=(c=m.call(d)).next,d=[];!(h=f.call(c)).done;)d.push(h.value);for(_&&p>2&&(v=s(v,arguments[2],2)),n=r(d.length),l=new(u(this))(n),e=0;n>e;e++)l[e]=_?v(d[e],e):d[e];return l}},9711:function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+n).toString(36)}},3307:function(t,e,n){var i=n(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(t,e,n){var i=n(5112);e.f=i},5112:function(t,e,n){var i=n(7854),r=n(2309),a=n(6656),o=n(9711),s=n(133),u=n(3307),l=r("wks"),h=i.Symbol,c=u?h:h&&h.withoutSetter||o;t.exports=function(t){return a(l,t)&&(s||"string"==typeof l[t])||(s&&a(h,t)?l[t]=h[t]:l[t]=c("Symbol."+t)),l[t]}},1361:function(t){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},8264:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(3331),o=n(6340),s="ArrayBuffer",u=a.ArrayBuffer;i({global:!0,forced:r.ArrayBuffer!==u},{ArrayBuffer:u}),o(s)},9575:function(t,e,n){"use strict";var i=n(2109),r=n(7293),a=n(3331),o=n(9670),s=n(1400),u=n(7466),l=n(6707),h=a.ArrayBuffer,c=a.DataView,f=h.prototype.slice;i({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:r((function(){return!new h(2).slice(1,void 0).byteLength}))},{slice:function(t,e){if(void 0!==f&&void 0===e)return f.call(o(this),t);for(var n=o(this).byteLength,i=s(t,n),r=s(void 0===e?n:e,n),a=new(l(this,h))(u(r-i)),d=new c(this),p=new c(a),v=0;i<r;)p.setUint8(v++,d.getUint8(i++));return a}})},2222:function(t,e,n){"use strict";var i=n(2109),r=n(7293),a=n(3157),o=n(111),s=n(7908),u=n(7466),l=n(6135),h=n(5417),c=n(1194),f=n(5112),d=n(7392),p=f("isConcatSpreadable"),v=9007199254740991,_="Maximum allowed index exceeded",m=d>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),y=c("concat"),g=function(t){if(!o(t))return!1;var e=t[p];return void 0!==e?!!e:a(t)};i({target:"Array",proto:!0,forced:!m||!y},{concat:function(t){var e,n,i,r,a,o=s(this),c=h(o,0),f=0;for(e=-1,i=arguments.length;e<i;e++)if(g(a=-1===e?o:arguments[e])){if(f+(r=u(a.length))>v)throw TypeError(_);for(n=0;n<r;n++,f++)n in a&&l(c,f,a[n])}else{if(f>=v)throw TypeError(_);l(c,f++,a)}return c.length=f,c}})},3290:function(t,e,n){var i=n(2109),r=n(1285),a=n(1223);i({target:"Array",proto:!0},{fill:r}),a("fill")},7327:function(t,e,n){"use strict";var i=n(2109),r=n(2092).filter;i({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},9826:function(t,e,n){"use strict";var i=n(2109),r=n(2092).find,a=n(1223),o="find",s=!0;o in[]&&Array(1).find((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},1038:function(t,e,n){var i=n(2109),r=n(8457);i({target:"Array",stat:!0,forced:!n(7072)((function(t){Array.from(t)}))},{from:r})},6699:function(t,e,n){"use strict";var i=n(2109),r=n(1318).includes,a=n(1223);i({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},2772:function(t,e,n){"use strict";var i=n(2109),r=n(1318).indexOf,a=n(9341),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,u=a("indexOf");i({target:"Array",proto:!0,forced:s||!u},{indexOf:function(t){return s?o.apply(this,arguments)||0:r(this,t,arguments.length>1?arguments[1]:void 0)}})},6992:function(t,e,n){"use strict";var i=n(5656),r=n(1223),a=n(7497),o=n(9909),s=n(654),u="Array Iterator",l=o.set,h=o.getterFor(u);t.exports=s(Array,"Array",(function(t,e){l(this,{type:u,target:i(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},4986:function(t,e,n){var i=n(2109),r=n(6583);i({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},1249:function(t,e,n){"use strict";var i=n(2109),r=n(2092).map;i({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},5827:function(t,e,n){"use strict";var i=n(2109),r=n(3671).left,a=n(9341),o=n(7392),s=n(5268);i({target:"Array",proto:!0,forced:!a("reduce")||!s&&o>79&&o<83},{reduce:function(t){return r(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5069:function(t,e,n){"use strict";var i=n(2109),r=n(3157),a=[].reverse,o=[1,2];i({target:"Array",proto:!0,forced:String(o)===String(o.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),a.call(this)}})},7042:function(t,e,n){"use strict";var i=n(2109),r=n(111),a=n(3157),o=n(1400),s=n(7466),u=n(5656),l=n(6135),h=n(5112),c=n(1194)("slice"),f=h("species"),d=[].slice,p=Math.max;i({target:"Array",proto:!0,forced:!c},{slice:function(t,e){var n,i,h,c=u(this),v=s(c.length),_=o(t,v),m=o(void 0===e?v:e,v);if(a(c)&&("function"!=typeof(n=c.constructor)||n!==Array&&!a(n.prototype)?r(n)&&null===(n=n[f])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(c,_,m);for(i=new(void 0===n?Array:n)(p(m-_,0)),h=0;_<m;_++,h++)_ in c&&l(i,h,c[_]);return i.length=h,i}})},2707:function(t,e,n){"use strict";var i=n(2109),r=n(3099),a=n(7908),o=n(7293),s=n(9341),u=[],l=u.sort,h=o((function(){u.sort(void 0)})),c=o((function(){u.sort(null)})),f=s("sort");i({target:"Array",proto:!0,forced:h||!c||!f},{sort:function(t){return void 0===t?l.call(a(this)):l.call(a(this),r(t))}})},561:function(t,e,n){"use strict";var i=n(2109),r=n(1400),a=n(9958),o=n(7466),s=n(7908),u=n(5417),l=n(6135),h=n(1194)("splice"),c=Math.max,f=Math.min,d=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var n,i,h,v,_,m,y=s(this),g=o(y.length),b=r(t,g),x=arguments.length;if(0===x?n=i=0:1===x?(n=0,i=g-b):(n=x-2,i=f(c(a(e),0),g-b)),g+n-i>d)throw TypeError(p);for(h=u(y,i),v=0;v<i;v++)(_=b+v)in y&&l(h,v,y[_]);if(h.length=i,n<i){for(v=b;v<g-i;v++)m=v+n,(_=v+i)in y?y[m]=y[_]:delete y[m];for(v=g;v>g-i+n;v--)delete y[v-1]}else if(n>i)for(v=g-i;v>b;v--)m=v+n-1,(_=v+i-1)in y?y[m]=y[_]:delete y[m];for(v=0;v<n;v++)y[v+b]=arguments[v+2];return y.length=g-i+n,h}})},5837:function(t,e,n){n(2109)({global:!0},{globalThis:n(7854)})},1532:function(t,e,n){"use strict";var i=n(7710),r=n(5631);t.exports=i("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r)},9601:function(t,e,n){var i=n(2109),r=n(1574);i({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},9720:function(t,e,n){var i=n(2109),r=n(4699).entries;i({target:"Object",stat:!0},{entries:function(t){return r(t)}})},3371:function(t,e,n){var i=n(2109),r=n(6677),a=n(7293),o=n(111),s=n(2423).onFreeze,u=Object.freeze;i({target:"Object",stat:!0,forced:a((function(){u(1)})),sham:!r},{freeze:function(t){return u&&o(t)?u(s(t)):t}})},5003:function(t,e,n){var i=n(2109),r=n(7293),a=n(5656),o=n(1236).f,s=n(9781),u=r((function(){o(1)}));i({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(a(t),e)}})},9337:function(t,e,n){var i=n(2109),r=n(9781),a=n(3887),o=n(5656),s=n(1236),u=n(6135);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(t){for(var e,n,i=o(t),r=s.f,l=a(i),h={},c=0;l.length>c;)void 0!==(n=r(i,e=l[c++]))&&u(h,e,n);return h}})},489:function(t,e,n){var i=n(2109),r=n(7293),a=n(7908),o=n(9518),s=n(8544);i({target:"Object",stat:!0,forced:r((function(){o(1)})),sham:!s},{getPrototypeOf:function(t){return o(a(t))}})},1539:function(t,e,n){var i=n(1694),r=n(1320),a=n(288);i||r(Object.prototype,"toString",a,{unsafe:!0})},2479:function(t,e,n){var i=n(2109),r=n(4699).values;i({target:"Object",stat:!0},{values:function(t){return r(t)}})},8674:function(t,e,n){"use strict";var i,r,a,o,s=n(2109),u=n(1913),l=n(7854),h=n(5005),c=n(3366),f=n(1320),d=n(2248),p=n(7674),v=n(8003),_=n(6340),m=n(111),y=n(3099),g=n(5787),b=n(2788),x=n(408),w=n(7072),E=n(6707),S=n(261).set,k=n(5948),T=n(9478),A=n(842),R=n(8523),I=n(2534),C=n(9909),P=n(4705),M=n(5112),O=n(7871),D=n(5268),N=n(7392),L=M("species"),F="Promise",B=C.get,V=C.set,U=C.getterFor(F),X=c&&c.prototype,Y=c,j=X,G=l.TypeError,H=l.document,W=l.process,z=R.f,q=z,Z=!!(H&&H.createEvent&&l.dispatchEvent),K="function"==typeof PromiseRejectionEvent,$="unhandledrejection",Q=!1,J=P(F,(function(){var t=b(Y)!==String(Y);if(!t&&66===N)return!0;if(u&&!j.finally)return!0;if(N>=51&&/native code/.test(Y))return!1;var e=new Y((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(e.constructor={})[L]=n,!(Q=e.then((function(){}))instanceof n)||!t&&O&&!K})),tt=J||!w((function(t){Y.all(t).catch((function(){}))})),et=function(t){var e;return!(!m(t)||"function"!=typeof(e=t.then))&&e},nt=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;k((function(){for(var i=t.value,r=1==t.state,a=0;n.length>a;){var o,s,u,l=n[a++],h=r?l.ok:l.fail,c=l.resolve,f=l.reject,d=l.domain;try{h?(r||(2===t.rejection&&ot(t),t.rejection=1),!0===h?o=i:(d&&d.enter(),o=h(i),d&&(d.exit(),u=!0)),o===l.promise?f(G("Promise-chain cycle")):(s=et(o))?s.call(o,c,f):c(o)):f(i)}catch(t){d&&!u&&d.exit(),f(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&rt(t)}))}},it=function(t,e,n){var i,r;Z?((i=H.createEvent("Event")).promise=e,i.reason=n,i.initEvent(t,!1,!0),l.dispatchEvent(i)):i={promise:e,reason:n},!K&&(r=l["on"+t])?r(i):t===$&&A("Unhandled promise rejection",n)},rt=function(t){S.call(l,(function(){var e,n=t.facade,i=t.value;if(at(t)&&(e=I((function(){D?W.emit("unhandledRejection",i,n):it($,n,i)})),t.rejection=D||at(t)?2:1,e.error))throw e.value}))},at=function(t){return 1!==t.rejection&&!t.parent},ot=function(t){S.call(l,(function(){var e=t.facade;D?W.emit("rejectionHandled",e):it("rejectionhandled",e,t.value)}))},st=function(t,e,n){return function(i){t(e,i,n)}},ut=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,nt(t,!0))},lt=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw G("Promise can't be resolved itself");var i=et(e);i?k((function(){var n={done:!1};try{i.call(e,st(lt,n,t),st(ut,n,t))}catch(e){ut(n,e,t)}})):(t.value=e,t.state=1,nt(t,!1))}catch(e){ut({done:!1},e,t)}}};if(J&&(j=(Y=function(t){g(this,Y,F),y(t),i.call(this);var e=B(this);try{t(st(lt,e),st(ut,e))}catch(t){ut(e,t)}}).prototype,(i=function(t){V(this,{type:F,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(j,{then:function(t,e){var n=U(this),i=z(E(this,Y));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=D?W.domain:void 0,n.parent=!0,n.reactions.push(i),0!=n.state&&nt(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),r=function(){var t=new i,e=B(t);this.promise=t,this.resolve=st(lt,e),this.reject=st(ut,e)},R.f=z=function(t){return t===Y||t===a?new r(t):q(t)},!u&&"function"==typeof c&&X!==Object.prototype)){o=X.then,Q||(f(X,"then",(function(t,e){var n=this;return new Y((function(t,e){o.call(n,t,e)})).then(t,e)}),{unsafe:!0}),f(X,"catch",j.catch,{unsafe:!0}));try{delete X.constructor}catch(t){}p&&p(X,j)}s({global:!0,wrap:!0,forced:J},{Promise:Y}),v(Y,F,!1,!0),_(F),a=h(F),s({target:F,stat:!0,forced:J},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),s({target:F,stat:!0,forced:u||J},{resolve:function(t){return T(u&&this===a?Y:this,t)}}),s({target:F,stat:!0,forced:tt},{all:function(t){var e=this,n=z(e),i=n.resolve,r=n.reject,a=I((function(){var n=y(e.resolve),a=[],o=0,s=1;x(t,(function(t){var u=o++,l=!1;a.push(void 0),s++,n.call(e,t).then((function(t){l||(l=!0,a[u]=t,--s||i(a))}),r)})),--s||i(a)}));return a.error&&r(a.value),n.promise},race:function(t){var e=this,n=z(e),i=n.reject,r=I((function(){var r=y(e.resolve);x(t,(function(t){r.call(e,t).then(n.resolve,i)}))}));return r.error&&i(r.value),n.promise}})},2419:function(t,e,n){var i=n(2109),r=n(5005),a=n(3099),o=n(9670),s=n(111),u=n(30),l=n(7065),h=n(7293),c=r("Reflect","construct"),f=h((function(){function t(){}return!(c((function(){}),[],t)instanceof t)})),d=!h((function(){c((function(){}))})),p=f||d;i({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(t,e){a(t),o(e);var n=arguments.length<3?t:a(arguments[2]);if(d&&!f)return c(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(l.apply(t,i))}var r=n.prototype,h=u(s(r)?r:Object.prototype),p=Function.apply.call(t,h,e);return s(p)?p:h}})},4819:function(t,e,n){var i=n(2109),r=n(111),a=n(9670),o=n(6656),s=n(1236),u=n(9518);i({target:"Reflect",stat:!0},{get:function t(e,n){var i,l,h=arguments.length<3?e:arguments[2];return a(e)===h?e[n]:(i=s.f(e,n))?o(i,"value")?i.value:void 0===i.get?void 0:i.get.call(h):r(l=u(e))?t(l,n,h):void 0}})},3593:function(t,e,n){var i=n(2109),r=n(9670),a=n(111),o=n(6656),s=n(7293),u=n(3070),l=n(1236),h=n(9518),c=n(9114);i({target:"Reflect",stat:!0,forced:s((function(){var t=function(){},e=u.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}))},{set:function t(e,n,i){var s,f,d=arguments.length<4?e:arguments[3],p=l.f(r(e),n);if(!p){if(a(f=h(e)))return t(f,n,i,d);p=c(0)}if(o(p,"value")){if(!1===p.writable||!a(d))return!1;if(s=l.f(d,n)){if(s.get||s.set||!1===s.writable)return!1;s.value=i,u.f(d,n,s)}else u.f(d,n,c(0,i));return!0}return void 0!==p.set&&(p.set.call(d,i),!0)}})},4603:function(t,e,n){var i=n(9781),r=n(7854),a=n(4705),o=n(9587),s=n(3070).f,u=n(8006).f,l=n(7850),h=n(7066),c=n(2999),f=n(1320),d=n(7293),p=n(9909).enforce,v=n(6340),_=n(5112)("match"),m=r.RegExp,y=m.prototype,g=/a/g,b=/a/g,x=new m(g)!==g,w=c.UNSUPPORTED_Y;if(i&&a("RegExp",!x||w||d((function(){return b[_]=!1,m(g)!=g||m(b)==b||"/a/i"!=m(g,"i")})))){for(var E=function(t,e){var n,i=this instanceof E,r=l(t),a=void 0===e;if(!i&&r&&t.constructor===E&&a)return t;x?r&&!a&&(t=t.source):t instanceof E&&(a&&(e=h.call(t)),t=t.source),w&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var s=o(x?new m(t,e):m(t,e),i?this:y,E);w&&n&&(p(s).sticky=!0);return s},S=function(t){t in E||s(E,t,{configurable:!0,get:function(){return m[t]},set:function(e){m[t]=e}})},k=u(m),T=0;k.length>T;)S(k[T++]);y.constructor=E,E.prototype=y,f(r,"RegExp",E)}v("RegExp")},4916:function(t,e,n){"use strict";var i=n(2109),r=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},2087:function(t,e,n){var i=n(9781),r=n(3070),a=n(7066),o=n(2999).UNSUPPORTED_Y;i&&("g"!=/./g.flags||o)&&r.f(RegExp.prototype,"flags",{configurable:!0,get:a})},9714:function(t,e,n){"use strict";var i=n(1320),r=n(9670),a=n(7293),o=n(7066),s="toString",u=RegExp.prototype,l=u.toString,h=a((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),c=l.name!=s;(h||c)&&i(RegExp.prototype,s,(function(){var t=r(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in u)?o.call(t):n)}),{unsafe:!0})},7852:function(t,e,n){"use strict";var i,r=n(2109),a=n(1236).f,o=n(7466),s=n(3929),u=n(4488),l=n(4964),h=n(1913),c="".endsWith,f=Math.min,d=l("endsWith");r({target:"String",proto:!0,forced:!!(h||d||(i=a(String.prototype,"endsWith"),!i||i.writable))&&!d},{endsWith:function(t){var e=String(u(this));s(t);var n=arguments.length>1?arguments[1]:void 0,i=o(e.length),r=void 0===n?i:f(o(n),i),a=String(t);return c?c.call(e,a,r):e.slice(r-a.length,r)===a}})},2023:function(t,e,n){"use strict";var i=n(2109),r=n(3929),a=n(4488);i({target:"String",proto:!0,forced:!n(4964)("includes")},{includes:function(t){return!!~String(a(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},8783:function(t,e,n){"use strict";var i=n(8710).charAt,r=n(9909),a=n(654),o="String Iterator",s=r.set,u=r.getterFor(o);a(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,r=e.index;return r>=n.length?{value:void 0,done:!0}:(t=i(n,r),e.index+=t.length,{value:t,done:!1})}))},4723:function(t,e,n){"use strict";var i=n(7007),r=n(9670),a=n(7466),o=n(4488),s=n(1530),u=n(7651);i("match",1,(function(t,e,n){return[function(e){var n=o(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var o=r(t),l=String(this);if(!o.global)return u(o,l);var h=o.unicode;o.lastIndex=0;for(var c,f=[],d=0;null!==(c=u(o,l));){var p=String(c[0]);f[d]=p,""===p&&(o.lastIndex=s(l,a(o.lastIndex),h)),d++}return 0===d?null:f}]}))},5306:function(t,e,n){"use strict";var i=n(7007),r=n(9670),a=n(7466),o=n(9958),s=n(4488),u=n(1530),l=n(647),h=n(7651),c=Math.max,f=Math.min;i("replace",2,(function(t,e,n,i){var d=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,p=i.REPLACE_KEEPS_$0,v=d?"$":"$0";return[function(n,i){var r=s(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,r,i):e.call(String(r),n,i)},function(t,i){if(!d&&p||"string"==typeof i&&-1===i.indexOf(v)){var s=n(e,t,this,i);if(s.done)return s.value}var _=r(t),m=String(this),y="function"==typeof i;y||(i=String(i));var g=_.global;if(g){var b=_.unicode;_.lastIndex=0}for(var x=[];;){var w=h(_,m);if(null===w)break;if(x.push(w),!g)break;""===String(w[0])&&(_.lastIndex=u(m,a(_.lastIndex),b))}for(var E,S="",k=0,T=0;T<x.length;T++){w=x[T];for(var A=String(w[0]),R=c(f(o(w.index),m.length),0),I=[],C=1;C<w.length;C++)I.push(void 0===(E=w[C])?E:String(E));var P=w.groups;if(y){var M=[A].concat(I,R,m);void 0!==P&&M.push(P);var O=String(i.apply(void 0,M))}else O=l(A,m,R,I,P,i);R>=k&&(S+=m.slice(k,R)+O,k=R+A.length)}return S+m.slice(k)}]}))},4765:function(t,e,n){"use strict";var i=n(7007),r=n(9670),a=n(4488),o=n(1150),s=n(7651);i("search",1,(function(t,e,n){return[function(e){var n=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var a=r(t),u=String(this),l=a.lastIndex;o(l,0)||(a.lastIndex=0);var h=s(a,u);return o(a.lastIndex,l)||(a.lastIndex=l),null===h?-1:h.index}]}))},3123:function(t,e,n){"use strict";var i=n(7007),r=n(7850),a=n(9670),o=n(4488),s=n(6707),u=n(1530),l=n(7466),h=n(7651),c=n(2261),f=n(2999).UNSUPPORTED_Y,d=[].push,p=Math.min,v=4294967295;i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(o(this)),a=void 0===n?v:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,a);for(var s,u,l,h=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,_=new RegExp(t.source,f+"g");(s=c.call(_,i))&&!((u=_.lastIndex)>p&&(h.push(i.slice(p,s.index)),s.length>1&&s.index<i.length&&d.apply(h,s.slice(1)),l=s[0].length,p=u,h.length>=a));)_.lastIndex===s.index&&_.lastIndex++;return p===i.length?!l&&_.test("")||h.push(""):h.push(i.slice(p)),h.length>a?h.slice(0,a):h}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=o(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,r,n):i.call(String(r),e,n)},function(t,r){var o=n(i,t,this,r,i!==e);if(o.done)return o.value;var c=a(t),d=String(this),_=s(c,RegExp),m=c.unicode,y=(c.ignoreCase?"i":"")+(c.multiline?"m":"")+(c.unicode?"u":"")+(f?"g":"y"),g=new _(f?"^(?:"+c.source+")":c,y),b=void 0===r?v:r>>>0;if(0===b)return[];if(0===d.length)return null===h(g,d)?[d]:[];for(var x=0,w=0,E=[];w<d.length;){g.lastIndex=f?0:w;var S,k=h(g,f?d.slice(w):d);if(null===k||(S=p(l(g.lastIndex+(f?w:0)),d.length))===x)w=u(d,w,m);else{if(E.push(d.slice(x,w)),E.length===b)return E;for(var T=1;T<=k.length-1;T++)if(E.push(k[T]),E.length===b)return E;w=x=S}}return E.push(d.slice(x)),E}]}),f)},8702:function(t,e,n){"use strict";var i=n(2109),r=n(3111).end,a=n(6091)("trimEnd"),o=a?function(){return r(this)}:"".trimEnd;i({target:"String",proto:!0,forced:a},{trimEnd:o,trimRight:o})},3210:function(t,e,n){"use strict";var i=n(2109),r=n(3111).trim;i({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return r(this)}})},1817:function(t,e,n){"use strict";var i=n(2109),r=n(9781),a=n(7854),o=n(6656),s=n(111),u=n(3070).f,l=n(9920),h=a.Symbol;if(r&&"function"==typeof h&&(!("description"in h.prototype)||void 0!==h().description)){var c={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new h(t):void 0===t?h():h(t);return""===t&&(c[e]=!0),e};l(f,h);var d=f.prototype=h.prototype;d.constructor=f;var p=d.toString,v="Symbol(test)"==String(h("test")),_=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(o(c,t))return"";var n=v?e.slice(7,-1):e.replace(_,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:f})}},2526:function(t,e,n){"use strict";var i=n(2109),r=n(7854),a=n(5005),o=n(1913),s=n(9781),u=n(133),l=n(3307),h=n(7293),c=n(6656),f=n(3157),d=n(111),p=n(9670),v=n(7908),_=n(5656),m=n(7593),y=n(9114),g=n(30),b=n(1956),x=n(8006),w=n(1156),E=n(5181),S=n(1236),k=n(3070),T=n(5296),A=n(8880),R=n(1320),I=n(2309),C=n(6200),P=n(3501),M=n(9711),O=n(5112),D=n(6061),N=n(7235),L=n(8003),F=n(9909),B=n(2092).forEach,V=C("hidden"),U="Symbol",X=O("toPrimitive"),Y=F.set,j=F.getterFor(U),G=Object.prototype,H=r.Symbol,W=a("JSON","stringify"),z=S.f,q=k.f,Z=w.f,K=T.f,$=I("symbols"),Q=I("op-symbols"),J=I("string-to-symbol-registry"),tt=I("symbol-to-string-registry"),et=I("wks"),nt=r.QObject,it=!nt||!nt.prototype||!nt.prototype.findChild,rt=s&&h((function(){return 7!=g(q({},"a",{get:function(){return q(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=z(G,e);i&&delete G[e],q(t,e,n),i&&t!==G&&q(G,e,i)}:q,at=function(t,e){var n=$[t]=g(H.prototype);return Y(n,{type:U,tag:t,description:e}),s||(n.description=e),n},ot=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},st=function(t,e,n){t===G&&st(Q,e,n),p(t);var i=m(e,!0);return p(n),c($,i)?(n.enumerable?(c(t,V)&&t[V][i]&&(t[V][i]=!1),n=g(n,{enumerable:y(0,!1)})):(c(t,V)||q(t,V,y(1,{})),t[V][i]=!0),rt(t,i,n)):q(t,i,n)},ut=function(t,e){p(t);var n=_(e),i=b(n).concat(ft(n));return B(i,(function(e){s&&!lt.call(n,e)||st(t,e,n[e])})),t},lt=function(t){var e=m(t,!0),n=K.call(this,e);return!(this===G&&c($,e)&&!c(Q,e))&&(!(n||!c(this,e)||!c($,e)||c(this,V)&&this[V][e])||n)},ht=function(t,e){var n=_(t),i=m(e,!0);if(n!==G||!c($,i)||c(Q,i)){var r=z(n,i);return!r||!c($,i)||c(n,V)&&n[V][i]||(r.enumerable=!0),r}},ct=function(t){var e=Z(_(t)),n=[];return B(e,(function(t){c($,t)||c(P,t)||n.push(t)})),n},ft=function(t){var e=t===G,n=Z(e?Q:_(t)),i=[];return B(n,(function(t){!c($,t)||e&&!c(G,t)||i.push($[t])})),i};(u||(R((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=M(t),n=function(t){this===G&&n.call(Q,t),c(this,V)&&c(this[V],e)&&(this[V][e]=!1),rt(this,e,y(1,t))};return s&&it&&rt(G,e,{configurable:!0,set:n}),at(e,t)}).prototype,"toString",(function(){return j(this).tag})),R(H,"withoutSetter",(function(t){return at(M(t),t)})),T.f=lt,k.f=st,S.f=ht,x.f=w.f=ct,E.f=ft,D.f=function(t){return at(O(t),t)},s&&(q(H.prototype,"description",{configurable:!0,get:function(){return j(this).description}}),o||R(G,"propertyIsEnumerable",lt,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:H}),B(b(et),(function(t){N(t)})),i({target:U,stat:!0,forced:!u},{for:function(t){var e=String(t);if(c(J,e))return J[e];var n=H(e);return J[e]=n,tt[n]=e,n},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(c(tt,t))return tt[t]},useSetter:function(){it=!0},useSimple:function(){it=!1}}),i({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(t,e){return void 0===e?g(t):ut(g(t),e)},defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:ht}),i({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ct,getOwnPropertySymbols:ft}),i({target:"Object",stat:!0,forced:h((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(v(t))}}),W)&&i({target:"JSON",stat:!0,forced:!u||h((function(){var t=H();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t,e,n){for(var i,r=[t],a=1;arguments.length>a;)r.push(arguments[a++]);if(i=e,(d(e)||void 0!==t)&&!ot(t))return f(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!ot(e))return e}),r[1]=e,W.apply(null,r)}});H.prototype[X]||A(H.prototype,X,H.prototype.valueOf),L(H,U),P[V]=!0},2990:function(t,e,n){"use strict";var i=n(260),r=n(1048),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(t,e){return r.call(a(this),t,e,arguments.length>2?arguments[2]:void 0)}))},8927:function(t,e,n){"use strict";var i=n(260),r=n(2092).every,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("every",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},3105:function(t,e,n){"use strict";var i=n(260),r=n(1285),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("fill",(function(t){return r.apply(a(this),arguments)}))},5035:function(t,e,n){"use strict";var i=n(260),r=n(2092).filter,a=n(3074),o=i.aTypedArray;(0,i.exportTypedArrayMethod)("filter",(function(t){var e=r(o(this),t,arguments.length>1?arguments[1]:void 0);return a(this,e)}))},7174:function(t,e,n){"use strict";var i=n(260),r=n(2092).findIndex,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("findIndex",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},4345:function(t,e,n){"use strict";var i=n(260),r=n(2092).find,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("find",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},4197:function(t,e,n){n(9843)("Float32",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},2846:function(t,e,n){"use strict";var i=n(260),r=n(2092).forEach,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("forEach",(function(t){r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},4731:function(t,e,n){"use strict";var i=n(260),r=n(1318).includes,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("includes",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},7209:function(t,e,n){"use strict";var i=n(260),r=n(1318).indexOf,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("indexOf",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},5109:function(t,e,n){n(9843)("Int16",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},5125:function(t,e,n){n(9843)("Int32",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},7145:function(t,e,n){n(9843)("Int8",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},6319:function(t,e,n){"use strict";var i=n(7854),r=n(260),a=n(6992),o=n(5112)("iterator"),s=i.Uint8Array,u=a.values,l=a.keys,h=a.entries,c=r.aTypedArray,f=r.exportTypedArrayMethod,d=s&&s.prototype[o],p=!!d&&("values"==d.name||null==d.name),v=function(){return u.call(c(this))};f("entries",(function(){return h.call(c(this))})),f("keys",(function(){return l.call(c(this))})),f("values",v,!p),f(o,v,!p)},8867:function(t,e,n){"use strict";var i=n(260),r=i.aTypedArray,a=i.exportTypedArrayMethod,o=[].join;a("join",(function(t){return o.apply(r(this),arguments)}))},7789:function(t,e,n){"use strict";var i=n(260),r=n(6583),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("lastIndexOf",(function(t){return r.apply(a(this),arguments)}))},3739:function(t,e,n){"use strict";var i=n(260),r=n(2092).map,a=n(6707),o=i.aTypedArray,s=i.aTypedArrayConstructor;(0,i.exportTypedArrayMethod)("map",(function(t){return r(o(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(a(t,t.constructor)))(e)}))}))},4483:function(t,e,n){"use strict";var i=n(260),r=n(3671).right,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduceRight",(function(t){return r(a(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},9368:function(t,e,n){"use strict";var i=n(260),r=n(3671).left,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("reduce",(function(t){return r(a(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2056:function(t,e,n){"use strict";var i=n(260),r=i.aTypedArray,a=i.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var t,e=this,n=r(e).length,i=o(n/2),a=0;a<i;)t=e[a],e[a++]=e[--n],e[n]=t;return e}))},678:function(t,e,n){"use strict";var i=n(260),r=n(6707),a=n(7293),o=i.aTypedArray,s=i.aTypedArrayConstructor,u=i.exportTypedArrayMethod,l=[].slice;u("slice",(function(t,e){for(var n=l.call(o(this),t,e),i=r(this,this.constructor),a=0,u=n.length,h=new(s(i))(u);u>a;)h[a]=n[a++];return h}),a((function(){new Int8Array(1).slice()})))},7462:function(t,e,n){"use strict";var i=n(260),r=n(2092).some,a=i.aTypedArray;(0,i.exportTypedArrayMethod)("some",(function(t){return r(a(this),t,arguments.length>1?arguments[1]:void 0)}))},3824:function(t,e,n){"use strict";var i=n(260),r=i.aTypedArray,a=i.exportTypedArrayMethod,o=[].sort;a("sort",(function(t){return o.call(r(this),t)}))},2974:function(t,e,n){"use strict";var i=n(7854),r=n(260),a=n(7293),o=i.Int8Array,s=r.aTypedArray,u=r.exportTypedArrayMethod,l=[].toLocaleString,h=[].slice,c=!!o&&a((function(){l.call(new o(1))}));u("toLocaleString",(function(){return l.apply(c?h.call(s(this)):s(this),arguments)}),a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])})))},5016:function(t,e,n){"use strict";var i=n(260).exportTypedArrayMethod,r=n(7293),a=n(7854).Uint8Array,o=a&&a.prototype||{},s=[].toString,u=[].join;r((function(){s.call({})}))&&(s=function(){return u.call(this)});var l=o.toString!=s;i("toString",s,l)},8255:function(t,e,n){n(9843)("Uint16",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},9135:function(t,e,n){n(9843)("Uint32",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},2472:function(t,e,n){n(9843)("Uint8",(function(t){return function(e,n,i){return t(this,e,n,i)}}))},3475:function(t,e,n){"use strict";var i=n(9781),r=n(1223),a=n(7908),o=n(7466),s=n(3070).f;i&&!("lastIndex"in[])&&(s(Array.prototype,"lastIndex",{configurable:!0,get:function(){var t=a(this),e=o(t.length);return 0==e?0:e-1}}),r("lastIndex"))},5743:function(t,e,n){n(5837)},72:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(4092);i({target:"Map",proto:!0,real:!0,forced:r},{deleteAll:function(){return a.apply(this,arguments)}})},9137:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(9670),o=n(9974),s=n(4647),u=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{every:function(t){var e=a(this),n=s(e),i=o(t,arguments.length>1?arguments[1]:void 0,3);return!u(n,(function(t,n,r){if(!i(n,t,e))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},1957:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(5005),o=n(9670),s=n(3099),u=n(9974),l=n(6707),h=n(4647),c=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{filter:function(t){var e=o(this),n=h(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,a("Map"))),f=s(r.set);return c(n,(function(t,n){i(n,t,e)&&f.call(r,t,n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r}})},103:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(9670),o=n(9974),s=n(4647),u=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{findKey:function(t){var e=a(this),n=s(e),i=o(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t,n,r){if(i(n,t,e))return r(t)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},6306:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(9670),o=n(9974),s=n(4647),u=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{find:function(t){var e=a(this),n=s(e),i=o(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t,n,r){if(i(n,t,e))return r(n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},4592:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(9670),o=n(4647),s=n(6465),u=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{includes:function(t){return u(o(a(this)),(function(e,n,i){if(s(n,t))return i()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},8276:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(9670),o=n(4647),s=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{keyOf:function(t){return s(o(a(this)),(function(e,n,i){if(n===t)return i(e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).result}})},5082:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(5005),o=n(9670),s=n(3099),u=n(9974),l=n(6707),h=n(4647),c=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{mapKeys:function(t){var e=o(this),n=h(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,a("Map"))),f=s(r.set);return c(n,(function(t,n){f.call(r,i(n,t,e),n)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r}})},2813:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(5005),o=n(9670),s=n(3099),u=n(9974),l=n(6707),h=n(4647),c=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{mapValues:function(t){var e=o(this),n=h(e),i=u(t,arguments.length>1?arguments[1]:void 0,3),r=new(l(e,a("Map"))),f=s(r.set);return c(n,(function(t,n){f.call(r,t,i(n,t,e))}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),r}})},8222:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(9670),o=n(3099),s=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{merge:function(t){for(var e=a(this),n=o(e.set),i=0;i<arguments.length;)s(arguments[i++],n,{that:e,AS_ENTRIES:!0});return e}})},8563:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(9670),o=n(3099),s=n(4647),u=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{reduce:function(t){var e=a(this),n=s(e),i=arguments.length<2,r=i?void 0:arguments[1];if(o(t),u(n,(function(n,a){i?(i=!1,r=a):r=t(r,a,n,e)}),{AS_ENTRIES:!0,IS_ITERATOR:!0}),i)throw TypeError("Reduce of empty map with no initial value");return r}})},336:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(9670),o=n(9974),s=n(4647),u=n(408);i({target:"Map",proto:!0,real:!0,forced:r},{some:function(t){var e=a(this),n=s(e),i=o(t,arguments.length>1?arguments[1]:void 0,3);return u(n,(function(t,n,r){if(i(n,t,e))return r()}),{AS_ENTRIES:!0,IS_ITERATOR:!0,INTERRUPTED:!0}).stopped}})},7512:function(t,e,n){"use strict";var i=n(2109),r=n(1913),a=n(9670),o=n(3099);i({target:"Map",proto:!0,real:!0,forced:r},{update:function(t,e){var n=a(this),i=arguments.length;o(e);var r=n.has(t);if(!r&&i<3)throw TypeError("Updating absent value");var s=r?n.get(t):o(i>2?arguments[2]:void 0)(t,n);return n.set(t,e(s,t,n)),n}})},4747:function(t,e,n){var i=n(7854),r=n(8324),a=n(8533),o=n(8880);for(var s in r){var u=i[s],l=u&&u.prototype;if(l&&l.forEach!==a)try{o(l,"forEach",a)}catch(t){l.forEach=a}}},3948:function(t,e,n){var i=n(7854),r=n(8324),a=n(6992),o=n(8880),s=n(5112),u=s("iterator"),l=s("toStringTag"),h=a.values;for(var c in r){var f=i[c],d=f&&f.prototype;if(d){if(d[u]!==h)try{o(d,u,h)}catch(t){d[u]=h}if(d[l]||o(d,l,c),r[c])for(var p in a)if(d[p]!==a[p])try{o(d,p,a[p])}catch(t){d[p]=a[p]}}}},1637:function(t,e,n){"use strict";n(6992);var i=n(2109),r=n(5005),a=n(590),o=n(1320),s=n(2248),u=n(8003),l=n(4994),h=n(9909),c=n(5787),f=n(6656),d=n(9974),p=n(648),v=n(9670),_=n(111),m=n(30),y=n(9114),g=n(8554),b=n(1246),x=n(5112),w=r("fetch"),E=r("Headers"),S=x("iterator"),k="URLSearchParams",T="URLSearchParamsIterator",A=h.set,R=h.getterFor(k),I=h.getterFor(T),C=/\+/g,P=Array(4),M=function(t){return P[t-1]||(P[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},O=function(t){try{return decodeURIComponent(t)}catch(e){return t}},D=function(t){var e=t.replace(C," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(M(n--),O);return e}},N=/[!'()~]|%20/g,L={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(t){return L[t]},B=function(t){return encodeURIComponent(t).replace(N,F)},V=function(t,e){if(e)for(var n,i,r=e.split("&"),a=0;a<r.length;)(n=r[a++]).length&&(i=n.split("="),t.push({key:D(i.shift()),value:D(i.join("="))}))},U=function(t){this.entries.length=0,V(this.entries,t)},X=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Y=l((function(t,e){A(this,{type:T,iterator:g(R(t).entries),kind:e})}),"Iterator",(function(){var t=I(this),e=t.kind,n=t.iterator.next(),i=n.value;return n.done||(n.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),n})),j=function(){c(this,j,k);var t,e,n,i,r,a,o,s,u,l=arguments.length>0?arguments[0]:void 0,h=this,d=[];if(A(h,{type:k,entries:d,updateURL:function(){},updateSearchParams:U}),void 0!==l)if(_(l))if("function"==typeof(t=b(l)))for(n=(e=t.call(l)).next;!(i=n.call(e)).done;){if((o=(a=(r=g(v(i.value))).next).call(r)).done||(s=a.call(r)).done||!a.call(r).done)throw TypeError("Expected sequence with length 2");d.push({key:o.value+"",value:s.value+""})}else for(u in l)f(l,u)&&d.push({key:u,value:l[u]+""});else V(d,"string"==typeof l?"?"===l.charAt(0)?l.slice(1):l:l+"")},G=j.prototype;s(G,{append:function(t,e){X(arguments.length,2);var n=R(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){X(arguments.length,1);for(var e=R(this),n=e.entries,i=t+"",r=0;r<n.length;)n[r].key===i?n.splice(r,1):r++;e.updateURL()},get:function(t){X(arguments.length,1);for(var e=R(this).entries,n=t+"",i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){X(arguments.length,1);for(var e=R(this).entries,n=t+"",i=[],r=0;r<e.length;r++)e[r].key===n&&i.push(e[r].value);return i},has:function(t){X(arguments.length,1);for(var e=R(this).entries,n=t+"",i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){X(arguments.length,1);for(var n,i=R(this),r=i.entries,a=!1,o=t+"",s=e+"",u=0;u<r.length;u++)(n=r[u]).key===o&&(a?r.splice(u--,1):(a=!0,n.value=s));a||r.push({key:o,value:s}),i.updateURL()},sort:function(){var t,e,n,i=R(this),r=i.entries,a=r.slice();for(r.length=0,n=0;n<a.length;n++){for(t=a[n],e=0;e<n;e++)if(r[e].key>t.key){r.splice(e,0,t);break}e===n&&r.push(t)}i.updateURL()},forEach:function(t){for(var e,n=R(this).entries,i=d(t,arguments.length>1?arguments[1]:void 0,3),r=0;r<n.length;)i((e=n[r++]).value,e.key,this)},keys:function(){return new Y(this,"keys")},values:function(){return new Y(this,"values")},entries:function(){return new Y(this,"entries")}},{enumerable:!0}),o(G,S,G.entries),o(G,"toString",(function(){for(var t,e=R(this).entries,n=[],i=0;i<e.length;)t=e[i++],n.push(B(t.key)+"="+B(t.value));return n.join("&")}),{enumerable:!0}),u(j,k),i({global:!0,forced:!a},{URLSearchParams:j}),a||"function"!=typeof w||"function"!=typeof E||i({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,i,r=[t];return arguments.length>1&&(_(e=arguments[1])&&(n=e.body,p(n)===k&&((i=e.headers?new E(e.headers):new E).has("content-type")||i.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=m(e,{body:y(0,String(n)),headers:y(0,i)}))),r.push(e)),w.apply(this,r)}}),t.exports={URLSearchParams:j,getState:R}},285:function(t,e,n){"use strict";n(8783);var i,r=n(2109),a=n(9781),o=n(590),s=n(7854),u=n(6048),l=n(1320),h=n(5787),c=n(6656),f=n(1574),d=n(8457),p=n(8710).codeAt,v=n(3197),_=n(8003),m=n(1637),y=n(9909),g=s.URL,b=m.URLSearchParams,x=m.getState,w=y.set,E=y.getterFor("URL"),S=Math.floor,k=Math.pow,T="Invalid scheme",A="Invalid host",R="Invalid port",I=/[A-Za-z]/,C=/[\d+-.A-Za-z]/,P=/\d/,M=/^(0x|0X)/,O=/^[0-7]+$/,D=/^\d+$/,N=/^[\dA-Fa-f]+$/,L=/[\0\t\n\r #%/:?@[\\]]/,F=/[\0\t\n\r #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,V=/[\t\n\r]/g,U=function(t,e){var n,i,r;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return A;if(!(n=Y(e.slice(1,-1))))return A;t.host=n}else if(K(t)){if(e=v(e),L.test(e))return A;if(null===(n=X(e)))return A;t.host=n}else{if(F.test(e))return A;for(n="",i=d(e),r=0;r<i.length;r++)n+=q(i[r],G);t.host=n}},X=function(t){var e,n,i,r,a,o,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(n=[],i=0;i<e;i++){if(""==(r=u[i]))return t;if(a=10,r.length>1&&"0"==r.charAt(0)&&(a=M.test(r)?16:8,r=r.slice(8==a?1:2)),""===r)o=0;else{if(!(10==a?D:8==a?O:N).test(r))return t;o=parseInt(r,a)}n.push(o)}for(i=0;i<e;i++)if(o=n[i],i==e-1){if(o>=k(256,5-e))return null}else if(o>255)return null;for(s=n.pop(),i=0;i<n.length;i++)s+=n[i]*k(256,3-i);return s},Y=function(t){var e,n,i,r,a,o,s,u=[0,0,0,0,0,0,0,0],l=0,h=null,c=0,f=function(){return t.charAt(c)};if(":"==f()){if(":"!=t.charAt(1))return;c+=2,h=++l}for(;f();){if(8==l)return;if(":"!=f()){for(e=n=0;n<4&&N.test(f());)e=16*e+parseInt(f(),16),c++,n++;if("."==f()){if(0==n)return;if(c-=n,l>6)return;for(i=0;f();){if(r=null,i>0){if(!("."==f()&&i<4))return;c++}if(!P.test(f()))return;for(;P.test(f());){if(a=parseInt(f(),10),null===r)r=a;else{if(0==r)return;r=10*r+a}if(r>255)return;c++}u[l]=256*u[l]+r,2!=++i&&4!=i||l++}if(4!=i)return;break}if(":"==f()){if(c++,!f())return}else if(f())return;u[l++]=e}else{if(null!==h)return;c++,h=++l}}if(null!==h)for(o=l-h,l=7;0!=l&&o>0;)s=u[l],u[l--]=u[h+o-1],u[h+--o]=s;else if(8!=l)return;return u},j=function(t){var e,n,i,r;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,n=1,i=null,r=0,a=0;a<8;a++)0!==t[a]?(r>n&&(e=i,n=r),i=null,r=0):(null===i&&(i=a),++r);return r>n&&(e=i,n=r),e}(t),n=0;n<8;n++)r&&0===t[n]||(r&&(r=!1),i===n?(e+=n?":":"::",r=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},G={},H=f({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),W=f({},H,{"#":1,"?":1,"{":1,"}":1}),z=f({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),q=function(t,e){var n=p(t,0);return n>32&&n<127&&!c(e,t)?t:encodeURIComponent(t)},Z={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(t){return c(Z,t.scheme)},$=function(t){return""!=t.username||""!=t.password},Q=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},J=function(t,e){var n;return 2==t.length&&I.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},tt=function(t){var e;return t.length>1&&J(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},et=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&J(e[0],!0)||e.pop()},nt=function(t){return"."===t||"%2e"===t.toLowerCase()},it={},rt={},at={},ot={},st={},ut={},lt={},ht={},ct={},ft={},dt={},pt={},vt={},_t={},mt={},yt={},gt={},bt={},xt={},wt={},Et={},St=function(t,e,n,r){var a,o,s,u,l,h=n||it,f=0,p="",v=!1,_=!1,m=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(B,"")),e=e.replace(V,""),a=d(e);f<=a.length;){switch(o=a[f],h){case it:if(!o||!I.test(o)){if(n)return T;h=at;continue}p+=o.toLowerCase(),h=rt;break;case rt:if(o&&(C.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return T;p="",h=at,f=0;continue}if(n&&(K(t)!=c(Z,p)||"file"==p&&($(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(K(t)&&Z[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?h=_t:K(t)&&r&&r.scheme==t.scheme?h=ot:K(t)?h=ht:"/"==a[f+1]?(h=st,f++):(t.cannotBeABaseURL=!0,t.path.push(""),h=xt)}break;case at:if(!r||r.cannotBeABaseURL&&"#"!=o)return T;if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,h=Et;break}h="file"==r.scheme?_t:ut;continue;case ot:if("/"!=o||"/"!=a[f+1]){h=ut;continue}h=ct,f++;break;case st:if("/"==o){h=ft;break}h=bt;continue;case ut:if(t.scheme=r.scheme,o==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&K(t))h=lt;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",h=wt;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),h=bt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",h=Et}break;case lt:if(!K(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,h=bt;continue}h=ft}else h=ct;break;case ht:if(h=ct,"/"!=o||"/"!=p.charAt(f+1))continue;f++;break;case ct:if("/"!=o&&"\\"!=o){h=ft;continue}break;case ft:if("@"==o){v&&(p="%40"+p),v=!0,s=d(p);for(var y=0;y<s.length;y++){var g=s[y];if(":"!=g||m){var b=q(g,z);m?t.password+=b:t.username+=b}else m=!0}p=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(t)){if(v&&""==p)return"Invalid authority";f-=d(p).length+1,p="",h=dt}else p+=o;break;case dt:case pt:if(n&&"file"==t.scheme){h=yt;continue}if(":"!=o||_){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(t)){if(K(t)&&""==p)return A;if(n&&""==p&&($(t)||null!==t.port))return;if(u=U(t,p))return u;if(p="",h=gt,n)return;continue}"["==o?_=!0:"]"==o&&(_=!1),p+=o}else{if(""==p)return A;if(u=U(t,p))return u;if(p="",h=vt,n==pt)return}break;case vt:if(!P.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(t)||n){if(""!=p){var x=parseInt(p,10);if(x>65535)return R;t.port=K(t)&&x===Z[t.scheme]?null:x,p=""}if(n)return;h=gt;continue}return R}p+=o;break;case _t:if(t.scheme="file","/"==o||"\\"==o)h=mt;else{if(!r||"file"!=r.scheme){h=bt;continue}if(o==i)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",h=wt;else{if("#"!=o){tt(a.slice(f).join(""))||(t.host=r.host,t.path=r.path.slice(),et(t)),h=bt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",h=Et}}break;case mt:if("/"==o||"\\"==o){h=yt;break}r&&"file"==r.scheme&&!tt(a.slice(f).join(""))&&(J(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),h=bt;continue;case yt:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&J(p))h=bt;else if(""==p){if(t.host="",n)return;h=gt}else{if(u=U(t,p))return u;if("localhost"==t.host&&(t.host=""),n)return;p="",h=gt}continue}p+=o;break;case gt:if(K(t)){if(h=bt,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(h=bt,"/"!=o))continue}else t.fragment="",h=Et;else t.query="",h=wt;break;case bt:if(o==i||"/"==o||"\\"==o&&K(t)||!n&&("?"==o||"#"==o)){if(".."===(l=(l=p).toLowerCase())||"%2e."===l||".%2e"===l||"%2e%2e"===l?(et(t),"/"==o||"\\"==o&&K(t)||t.path.push("")):nt(p)?"/"==o||"\\"==o&&K(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&J(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(o==i||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",h=wt):"#"==o&&(t.fragment="",h=Et)}else p+=q(o,W);break;case xt:"?"==o?(t.query="",h=wt):"#"==o?(t.fragment="",h=Et):o!=i&&(t.path[0]+=q(o,G));break;case wt:n||"#"!=o?o!=i&&("'"==o&&K(t)?t.query+="%27":t.query+="#"==o?"%23":q(o,G)):(t.fragment="",h=Et);break;case Et:o!=i&&(t.fragment+=q(o,H))}f++}},kt=function(t){var e,n,i=h(this,kt,"URL"),r=arguments.length>1?arguments[1]:void 0,o=String(t),s=w(i,{type:"URL"});if(void 0!==r)if(r instanceof kt)e=E(r);else if(n=St(e={},String(r)))throw TypeError(n);if(n=St(s,o,null,e))throw TypeError(n);var u=s.searchParams=new b,l=x(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=String(u)||null},a||(i.href=At.call(i),i.origin=Rt.call(i),i.protocol=It.call(i),i.username=Ct.call(i),i.password=Pt.call(i),i.host=Mt.call(i),i.hostname=Ot.call(i),i.port=Dt.call(i),i.pathname=Nt.call(i),i.search=Lt.call(i),i.searchParams=Ft.call(i),i.hash=Bt.call(i))},Tt=kt.prototype,At=function(){var t=E(this),e=t.scheme,n=t.username,i=t.password,r=t.host,a=t.port,o=t.path,s=t.query,u=t.fragment,l=e+":";return null!==r?(l+="//",$(t)&&(l+=n+(i?":"+i:"")+"@"),l+=j(r),null!==a&&(l+=":"+a)):"file"==e&&(l+="//"),l+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(l+="?"+s),null!==u&&(l+="#"+u),l},Rt=function(){var t=E(this),e=t.scheme,n=t.port;if("blob"==e)try{return new kt(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&K(t)?e+"://"+j(t.host)+(null!==n?":"+n:""):"null"},It=function(){return E(this).scheme+":"},Ct=function(){return E(this).username},Pt=function(){return E(this).password},Mt=function(){var t=E(this),e=t.host,n=t.port;return null===e?"":null===n?j(e):j(e)+":"+n},Ot=function(){var t=E(this).host;return null===t?"":j(t)},Dt=function(){var t=E(this).port;return null===t?"":String(t)},Nt=function(){var t=E(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Lt=function(){var t=E(this).query;return t?"?"+t:""},Ft=function(){return E(this).searchParams},Bt=function(){var t=E(this).fragment;return t?"#"+t:""},Vt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(a&&u(Tt,{href:Vt(At,(function(t){var e=E(this),n=String(t),i=St(e,n);if(i)throw TypeError(i);x(e.searchParams).updateSearchParams(e.query)})),origin:Vt(Rt),protocol:Vt(It,(function(t){var e=E(this);St(e,String(t)+":",it)})),username:Vt(Ct,(function(t){var e=E(this),n=d(String(t));if(!Q(e)){e.username="";for(var i=0;i<n.length;i++)e.username+=q(n[i],z)}})),password:Vt(Pt,(function(t){var e=E(this),n=d(String(t));if(!Q(e)){e.password="";for(var i=0;i<n.length;i++)e.password+=q(n[i],z)}})),host:Vt(Mt,(function(t){var e=E(this);e.cannotBeABaseURL||St(e,String(t),dt)})),hostname:Vt(Ot,(function(t){var e=E(this);e.cannotBeABaseURL||St(e,String(t),pt)})),port:Vt(Dt,(function(t){var e=E(this);Q(e)||(""==(t=String(t))?e.port=null:St(e,t,vt))})),pathname:Vt(Nt,(function(t){var e=E(this);e.cannotBeABaseURL||(e.path=[],St(e,t+"",gt))})),search:Vt(Lt,(function(t){var e=E(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",St(e,t,wt)),x(e.searchParams).updateSearchParams(e.query)})),searchParams:Vt(Ft),hash:Vt(Bt,(function(t){var e=E(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",St(e,t,Et)):e.fragment=null}))}),l(Tt,"toJSON",(function(){return At.call(this)}),{enumerable:!0}),l(Tt,"toString",(function(){return At.call(this)}),{enumerable:!0}),g){var Ut=g.createObjectURL,Xt=g.revokeObjectURL;Ut&&l(kt,"createObjectURL",(function(t){return Ut.apply(g,arguments)})),Xt&&l(kt,"revokeObjectURL",(function(t){return Xt.apply(g,arguments)}))}_(kt,"URL"),r({global:!0,forced:!o,sham:!a},{URL:kt})},3645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(r[o]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);i&&r[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},4289:function(t,e,n){"use strict";var i=n(2215),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),l=function(t,e,n,i){var r;(!(e in t)||"function"==typeof(r=i)&&"[object Function]"===a.call(r)&&i())&&(u?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},h=function(t,e){var n=arguments.length>2?arguments[2]:{},a=i(e);r&&(a=o.call(a,Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;s+=1)l(t,a[s],e[a[s]],n[a[s]])};h.supportsDescriptors=!!u,t.exports=h},9187:function(t){"use strict";function e(t,e,a){a=a||2;var o,s,u,c,f,p,v,_=e&&e.length,m=_?e[0]*a:t.length,y=n(t,0,m,a,!0),g=[];if(!y||y.next===y.prev)return g;if(_&&(y=function(t,e,r,a){var o,s,u,c=[];for(o=0,s=e.length;o<s;o++)(u=n(t,e[o]*a,o<s-1?e[o+1]*a:t.length,a,!1))===u.next&&(u.steiner=!0),c.push(d(u));for(c.sort(l),o=0;o<c.length;o++)h(c[o],r),r=i(r,r.next);return r}(t,e,y,a)),t.length>80*a){o=u=t[0],s=c=t[1];for(var b=a;b<m;b+=a)(f=t[b])<o&&(o=f),(p=t[b+1])<s&&(s=p),f>u&&(u=f),p>c&&(c=p);v=0!==(v=Math.max(u-o,c-s))?1/v:0}return r(y,g,a,o,s,v),g}function n(t,e,n,i,r){var a,o;if(r===T(t,e,n,i)>0)for(a=e;a<n;a+=i)o=E(a,t[a],t[a+1],o);else for(a=n-i;a>=e;a-=i)o=E(a,t[a],t[a+1],o);return o&&m(o,o.next)&&(S(o),o=o.next),o}function i(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!m(i,i.next)&&0!==_(i.prev,i,i.next))i=i.next;else{if(S(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function r(t,e,n,l,h,c,d){if(t){!d&&c&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=f(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,a,o,s,u,l=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,i=n,s=0,e=0;e<l&&(s++,i=i.nextZ);e++);for(u=l;s>0||u>0&&i;)0!==s&&(0===u||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,u--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,l*=2}while(o>1)}(r)}(t,l,h,c);for(var p,v,_=t;t.prev!==t.next;)if(p=t.prev,v=t.next,c?o(t,l,h,c):a(t))e.push(p.i/n),e.push(t.i/n),e.push(v.i/n),S(t),t=v.next,_=v.next;else if((t=v)===_){d?1===d?r(t=s(i(t),e,n),e,n,l,h,c,2):2===d&&u(t,e,n,l,h,c):r(i(t),e,n,l,h,c,1);break}}}function a(t){var e=t.prev,n=t,i=t.next;if(_(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(p(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&_(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function o(t,e,n,i){var r=t.prev,a=t,o=t.next;if(_(r,a,o)>=0)return!1;for(var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,u=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,l=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,h=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,c=f(s,u,e,n,i),d=f(l,h,e,n,i),v=t.prevZ,m=t.nextZ;v&&v.z>=c&&m&&m.z<=d;){if(v!==t.prev&&v!==t.next&&p(r.x,r.y,a.x,a.y,o.x,o.y,v.x,v.y)&&_(v.prev,v,v.next)>=0)return!1;if(v=v.prevZ,m!==t.prev&&m!==t.next&&p(r.x,r.y,a.x,a.y,o.x,o.y,m.x,m.y)&&_(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;v&&v.z>=c;){if(v!==t.prev&&v!==t.next&&p(r.x,r.y,a.x,a.y,o.x,o.y,v.x,v.y)&&_(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;m&&m.z<=d;){if(m!==t.prev&&m!==t.next&&p(r.x,r.y,a.x,a.y,o.x,o.y,m.x,m.y)&&_(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function s(t,e,n){var r=t;do{var a=r.prev,o=r.next.next;!m(a,o)&&y(a,r,r.next,o)&&x(a,o)&&x(o,a)&&(e.push(a.i/n),e.push(r.i/n),e.push(o.i/n),S(r),S(r.next),r=t=o),r=r.next}while(r!==t);return i(r)}function u(t,e,n,a,o,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&v(u,l)){var h=w(u,l);return u=i(u,u.next),h=i(h,h.next),r(u,e,n,a,o,s),void r(h,e,n,a,o,s)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function h(t,e){if(e=function(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o){if(o=s,s===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===o)return n;var u,l=n,h=n.x,f=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=h&&r!==i.x&&p(a<f?r:o,a,h,f,a<f?o:r,a,i.x,i.y)&&(u=Math.abs(a-i.y)/(r-i.x),x(i,t)&&(u<d||u===d&&(i.x>n.x||i.x===n.x&&c(n,i)))&&(n=i,d=u)),i=i.next}while(i!==l);return n}(t,e)){var n=w(e,t);i(e,e.next),i(n,n.next)}}function c(t,e){return _(t.prev,t,e.prev)<0&&_(e.next,t,t.next)<0}function f(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function d(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function p(t,e,n,i,r,a,o,s){return(r-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(i-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(r-o)*(i-s)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&y(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(_(t.prev,t,e.prev)||_(t,e.prev,e))||m(t,e)&&_(t.prev,t,t.next)>0&&_(e.prev,e,e.next)>0)}function _(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function y(t,e,n,i){var r=b(_(t,e,n)),a=b(_(t,e,i)),o=b(_(n,i,t)),s=b(_(n,i,e));return r!==a&&o!==s||(!(0!==r||!g(t,n,e))||(!(0!==a||!g(t,i,e))||(!(0!==o||!g(n,t,i))||!(0!==s||!g(n,e,i)))))}function g(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function b(t){return t>0?1:t<0?-1:0}function x(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function w(t,e){var n=new k(t.i,t.x,t.y),i=new k(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function E(t,e,n,i){var r=new k(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function k(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function T(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}t.exports=e,t.exports.default=e,e.deviation=function(t,e,n,i){var r=e&&e.length,a=r?e[0]*n:t.length,o=Math.abs(T(t,0,a,n));if(r)for(var s=0,u=e.length;s<u;s++){var l=e[s]*n,h=s<u-1?e[s+1]*n:t.length;o-=Math.abs(T(t,l,h,n))}var c=0;for(s=0;s<i.length;s+=3){var f=i[s]*n,d=i[s+1]*n,p=i[s+2]*n;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===o&&0===c?0:Math.abs((c-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var a=0;a<t[r].length;a++)for(var o=0;o<e;o++)n.vertices.push(t[r][a][o]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},3733:function(t,e,n){"use strict";t.exports=n(8631)},7308:function(t,e,n){"use strict";var i=n(210),r=i("%String%"),a=i("%TypeError%");t.exports=function(t){if("symbol"==typeof t)throw new a("Cannot convert a Symbol value to a string");return r(t)}},8631:function(t,e,n){"use strict";var i=n(210)("%TypeError%");t.exports=function(t,e){if(null==t)throw new i(e||"Cannot call method on "+t);return t}},6729:function(t){"use strict";var e=Object.prototype.hasOwnProperty,n="~";function i(){}function r(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function a(t,e,i,a,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new r(i,a||t,o),u=n?n+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function o(t,e){0==--t._eventsCount?t._events=new i:delete t._events[e]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var t,i,r=[];if(0===this._eventsCount)return r;for(i in t=this._events)e.call(t,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},s.prototype.listeners=function(t){var e=n?n+t:t,i=this._events[e];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,a=i.length,o=new Array(a);r<a;r++)o[r]=i[r].fn;return o},s.prototype.listenerCount=function(t){var e=n?n+t:t,i=this._events[e];return i?i.fn?1:i.length:0},s.prototype.emit=function(t,e,i,r,a,o){var s=n?n+t:t;if(!this._events[s])return!1;var u,l,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,i),!0;case 4:return h.fn.call(h.context,e,i,r),!0;case 5:return h.fn.call(h.context,e,i,r,a),!0;case 6:return h.fn.call(h.context,e,i,r,a,o),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,i);break;case 4:h[l].fn.call(h[l].context,e,i,r);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},s.prototype.on=function(t,e,n){return a(this,t,e,n,!1)},s.prototype.once=function(t,e,n){return a(this,t,e,n,!0)},s.prototype.removeListener=function(t,e,i,r){var a=n?n+t:t;if(!this._events[a])return this;if(!e)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==e||r&&!s.once||i&&s.context!==i||o(this,a);else{for(var u=0,l=[],h=s.length;u<h;u++)(s[u].fn!==e||r&&!s[u].once||i&&s[u].context!==i)&&l.push(s[u]);l.length?this._events[a]=1===l.length?l[0]:l:o(this,a)}return this},s.prototype.removeAllListeners=function(t){var e;return t?(e=n?n+t:t,this._events[e]&&o(this,e)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s},7187:function(t){"use strict";var e,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var r=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(t,e){return new Promise((function(n,i){function r(n){t.removeListener(e,a),i(n)}function a(){"function"==typeof t.removeListener&&t.removeListener("error",r),n([].slice.call(arguments))}v(t,e,a,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&v(t,"error",e,n)}(t,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function l(t,e,n,i){var r,a,o;if(s(n),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),a=t._events),o=a[e]),void 0===o)o=a[e]=n,++t._eventsCount;else if("function"==typeof o?o=a[e]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(t))>0&&o.length>r&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,console&&console.warn}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function f(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):p(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function v(t,e,n,i){if("function"==typeof t.on)i.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function r(a){i.once&&t.removeEventListener(e,r),n(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||r(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var r="error"===t,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=a[t];if(void 0===u)return!1;if("function"==typeof u)i(u,this,e);else{var l=u.length,h=p(u,l);for(n=0;n<l;++n)i(h[n],this,e)}return!0},a.prototype.addListener=function(t,e){return l(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return l(this,t,e,!0)},a.prototype.once=function(t,e){return s(e),this.on(t,c(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return s(e),this.prependListener(t,c(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,i,r,a,o;if(s(e),void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,a=n.length-1;a>=0;a--)if(n[a]===e||n[a].listener===e){o=n[a].listener,r=a;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,o||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,a=Object.keys(n);for(i=0;i<a.length;++i)"removeListener"!==(r=a[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},a.prototype.listeners=function(t){return f(this,t,!0)},a.prototype.rawListeners=function(t){return f(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},3162:function(t,e,n){var i,r,a;r=[],void 0===(a="function"==typeof(i=function(){"use strict";function e(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function i(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){u(i.response,e,n)},i.onerror=function(){},i.send()}function r(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function a(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(t,e,n){var s=o.URL||o.webkitURL,u=document.createElement("a");e=e||t.name||"download",u.download=e,u.rel="noopener","string"==typeof t?(u.href=t,u.origin===location.origin?a(u):r(u.href)?i(t,e,n):a(u,u.target="_blank")):(u.href=s.createObjectURL(t),setTimeout((function(){s.revokeObjectURL(u.href)}),4e4),setTimeout((function(){a(u)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(e(t,o),n);else if(r(t))i(t,n,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){a(s)}))}}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return i(t,e,n);var a="application/octet-stream"===t.type,u=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&u||s)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var t=h.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},h.readAsDataURL(t)}else{var c=o.URL||o.webkitURL,f=c.createObjectURL(t);r?r.location=f:location.href=f,r=null,setTimeout((function(){c.revokeObjectURL(f)}),4e4)}});o.saveAs=u.saveAs=u,t.exports=u})?i.apply(e,r):i)||(t.exports=a)},4029:function(t,e,n){"use strict";var i=n(5320),r=Object.prototype.toString,a=Object.prototype.hasOwnProperty,o=function(t,e,n){for(var i=0,r=t.length;i<r;i++)a.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))},s=function(t,e,n){for(var i=0,r=t.length;i<r;i++)null==n?e(t.charAt(i),i,t):e.call(n,t.charAt(i),i,t)},u=function(t,e,n){for(var i in t)a.call(t,i)&&(null==n?e(t[i],i,t):e.call(n,t[i],i,t))};t.exports=function(t,e,n){if(!i(e))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===r.call(t)?o(t,e,a):"string"==typeof t?s(t,e,a):u(t,e,a)}},7648:function(t){"use strict";var e="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString,r="[object Function]";t.exports=function(t){var a=this;if("function"!=typeof a||i.call(a)!==r)throw new TypeError(e+a);for(var o,s=n.call(arguments,1),u=function(){if(this instanceof o){var e=a.apply(this,s.concat(n.call(arguments)));return Object(e)===e?e:this}return a.apply(t,s.concat(n.call(arguments)))},l=Math.max(0,a.length-s.length),h=[],c=0;c<l;c++)h.push("$"+c);if(o=Function("binder","return function ("+h.join(",")+"){ return binder.apply(this,arguments); }")(u),a.prototype){var f=function(){};f.prototype=a.prototype,o.prototype=new f,f.prototype=null}return o}},8612:function(t,e,n){"use strict";var i=n(7648);t.exports=Function.prototype.bind||i},210:function(t,e,n){"use strict";var i,r=SyntaxError,a=Function,o=TypeError,s=function(t){try{return a('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var l=function(){throw new o},h=u?function(){try{return l}catch(t){try{return u(arguments,"callee").get}catch(t){return l}}}():l,c=n(1405)(),f=Object.getPrototypeOf||function(t){return t.__proto__},d={},p="undefined"==typeof Uint8Array?i:f(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":c?f([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?f(f([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?f((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?f((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?f(""[Symbol.iterator]()):i,"%Symbol%":c?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":h,"%TypedArray%":p,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},_=function t(e){var n;if("%AsyncFunction%"===e)n=s("async function () {}");else if("%GeneratorFunction%"===e)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=s("async function* () {}");else if("%AsyncGenerator%"===e){var i=t("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===e){var r=t("%AsyncGenerator%");r&&(n=f(r.prototype))}return v[e]=n,n},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(8612),g=n(7642),b=y.call(Function.call,Array.prototype.concat),x=y.call(Function.apply,Array.prototype.splice),w=y.call(Function.call,String.prototype.replace),E=y.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,k=/\\(\\)?/g,T=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return w(t,S,(function(t,e,n,r){i[i.length]=n?w(r,k,"$1"):e||t})),i},A=function(t,e){var n,i=t;if(g(m,i)&&(i="%"+(n=m[i])[0]+"%"),g(v,i)){var a=v[i];if(a===d&&(a=_(i)),void 0===a&&!e)throw new o("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:a}}throw new r("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new o('"allowMissing" argument must be a boolean');var n=T(t),i=n.length>0?n[0]:"",a=A("%"+i+"%",e),s=a.name,l=a.value,h=!1,c=a.alias;c&&(i=c[0],x(n,b([0,1],c)));for(var f=1,d=!0;f<n.length;f+=1){var p=n[f],_=E(p,0,1),m=E(p,-1);if(('"'===_||"'"===_||"`"===_||'"'===m||"'"===m||"`"===m)&&_!==m)throw new r("property names with quotes must have matching quotes");if("constructor"!==p&&d||(h=!0),g(v,s="%"+(i+="."+p)+"%"))l=v[s];else if(null!=l){if(!(p in l)){if(!e)throw new o("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var y=u(l,p);l=(d=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:l[p]}else d=g(l,p),l=l[p];d&&!h&&(v[s]=l)}}return l}},1405:function(t,e,n){"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(5419);t.exports=function(){return"function"==typeof i&&("function"==typeof Symbol&&("symbol"==typeof i("foo")&&("symbol"==typeof Symbol("bar")&&r())))}},5419:function(t){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},7642:function(t,e,n){"use strict";var i=n(8612);t.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},5320:function(t){"use strict";var e,n,i=Function.prototype.toString,r="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof r&&"function"==typeof Object.defineProperty)try{e=Object.defineProperty({},"length",{get:function(){throw n}}),n={},r((function(){throw 42}),null,e)}catch(t){t!==n&&(r=null)}else r=null;var a=/^\s*class\b/,o=function(t){try{var e=i.call(t);return a.test(e)}catch(t){return!1}},s=Object.prototype.toString,u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,l="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};t.exports=r?function(t){if(t===l)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;try{r(t,null,e)}catch(t){if(t!==n)return!1}return!o(t)}:function(t){if(t===l)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(u)return function(t){try{return!o(t)&&(i.call(t),!0)}catch(t){return!1}}(t);if(o(t))return!1;var e=s.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e}},5733:function(t,e,n){t.exports=function t(e,n,i){function r(o,s){if(!n[o]){if(!e[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};e[o][0].call(l.exports,(function(t){return r(e[o][1][t]||t)}),l,l.exports,t,e,n,i)}return n[o].exports}for(var a=void 0,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,i){(function(n){!function(t){"object"==typeof i&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,i,r){function a(s,u){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};n[s][0].call(c.exports,(function(t){return a(n[s][1][t]||t)}),c,c.exports,e,n,i,r)}return i[s].exports}for(var o="function"==typeof t&&t,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(t,e,i){(function(n){!function(t){"object"==typeof i&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,i,r){function a(s,u){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};n[s][0].call(c.exports,(function(t){return a(n[s][1][t]||t)}),c,c.exports,e,n,i,r)}return i[s].exports}for(var o="function"==typeof t&&t,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(t,e,i){(function(n){!function(t){"object"==typeof i&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,i,r){function a(s,u){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};n[s][0].call(c.exports,(function(t){return a(n[s][1][t]||t)}),c,c.exports,e,n,i,r)}return i[s].exports}for(var o="function"==typeof t&&t,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(t,e,i){(function(n){!function(t){"object"==typeof i&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,i,r){function a(s,u){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};n[s][0].call(c.exports,(function(t){return a(n[s][1][t]||t)}),c,c.exports,e,n,i,r)}return i[s].exports}for(var o="function"==typeof t&&t,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(t,e,i){(function(n){!function(t){"object"==typeof i&&void 0!==e?e.exports=t():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=t()}((function(){return function e(n,i,r){function a(s,u){if(!i[s]){if(!n[s]){var l="function"==typeof t&&t;if(!u&&l)return l(s,!0);if(o)return o(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var c=i[s]={exports:{}};n[s][0].call(c.exports,(function(t){return a(n[s][1][t]||t)}),c,c.exports,e,n,i,r)}return i[s].exports}for(var o="function"==typeof t&&t,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(t,e,n){"use strict";var i=t("./utils"),r=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,r,o,s,u,l,h=[],c=0,f=t.length,d=f,p="string"!==i.getTypeOf(t);c<t.length;)d=f-c,r=p?(e=t[c++],n=c<f?t[c++]:0,c<f?t[c++]:0):(e=t.charCodeAt(c++),n=c<f?t.charCodeAt(c++):0,c<f?t.charCodeAt(c++):0),o=e>>2,s=(3&e)<<4|n>>4,u=1<d?(15&n)<<2|r>>6:64,l=2<d?63&r:64,h.push(a.charAt(o)+a.charAt(s)+a.charAt(u)+a.charAt(l));return h.join("")},n.decode=function(t){var e,n,i,o,s,u,l=0,h=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===a.charAt(64)&&f--,t.charAt(t.length-2)===a.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=r.uint8array?new Uint8Array(0|f):new Array(0|f);l<t.length;)e=a.indexOf(t.charAt(l++))<<2|(o=a.indexOf(t.charAt(l++)))>>4,n=(15&o)<<4|(s=a.indexOf(t.charAt(l++)))>>2,i=(3&s)<<6|(u=a.indexOf(t.charAt(l++))),c[h++]=e,64!==s&&(c[h++]=n),64!==u&&(c[h++]=i);return c}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var i=t("./external"),r=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),o=t("./stream/DataLengthProbe");function s(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var t=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new a).pipe(new o("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var i=t("./utils"),r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n){var i=r,a=0+n;t^=-1;for(var o=0;o<a;o++)t=t>>>8^i[255&(t^e[o])];return-1^t}(0|e,t,t.length):function(t,e,n){var i=r,a=0+n;t^=-1;for(var o=0;o<a;o++)t=t>>>8^i[255&(t^e.charCodeAt(o))];return-1^t}(0|e,t,t.length):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:i}},{lie:37}],7:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=t("pako"),a=t("./utils"),o=t("./stream/GenericWorker"),s=i?"uint8array":"array";function u(t,e){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",a.inherits(u,o),u.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,t.data),!1)},u.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},n.compressWorker=function(t){return new u("Deflate",t)},n.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,e,n){"use strict";function i(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i}function r(t,e,n,r,o,h){var c,f,d=t.file,p=t.compression,v=h!==s.utf8encode,_=a.transformTo("string",h(d.name)),m=a.transformTo("string",s.utf8encode(d.name)),y=d.comment,g=a.transformTo("string",h(y)),b=a.transformTo("string",s.utf8encode(y)),x=m.length!==d.name.length,w=b.length!==y.length,E="",S="",k="",T=d.dir,A=d.date,R={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(R.crc32=t.crc32,R.compressedSize=t.compressedSize,R.uncompressedSize=t.uncompressedSize);var I=0;e&&(I|=8),v||!x&&!w||(I|=2048);var C,P=0,M=0;T&&(P|=16),"UNIX"===o?(M=798,P|=((C=d.unixPermissions)||(C=T?16893:33204),(65535&C)<<16)):(M=20,P|=63&(d.dosPermissions||0)),c=A.getUTCHours(),c<<=6,c|=A.getUTCMinutes(),c<<=5,c|=A.getUTCSeconds()/2,f=A.getUTCFullYear()-1980,f<<=4,f|=A.getUTCMonth()+1,f<<=5,f|=A.getUTCDate(),x&&(E+="up"+i((S=i(1,1)+i(u(_),4)+m).length,2)+S),w&&(E+="uc"+i((k=i(1,1)+i(u(g),4)+b).length,2)+k);var O="";return O+="\n\0",O+=i(I,2),O+=p.magic,O+=i(c,2),O+=i(f,2),O+=i(R.crc32,4),O+=i(R.compressedSize,4),O+=i(R.uncompressedSize,4),O+=i(_.length,2),O+=i(E.length,2),{fileRecord:l.LOCAL_FILE_HEADER+O+_+E,dirRecord:l.CENTRAL_FILE_HEADER+i(M,2)+O+i(g.length,2)+"\0\0\0\0"+i(P,4)+i(r,4)+_+E+g}}var a=t("../utils"),o=t("../stream/GenericWorker"),s=t("../utf8"),u=t("../crc32"),l=t("../signature");function h(t,e,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,o),h.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},h.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=r(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(t){this.accumulate=!1;var e,n=this.streamFiles&&!t.file.dir,a=r(t,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),n)this.push({data:(e=t,l.DATA_DESCRIPTOR+i(e.crc32,4)+i(e.compressedSize,4)+i(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n,r,o,s,u,h,c=this.bytesWritten-t,f=(n=this.dirRecords.length,r=c,o=t,s=this.zipComment,u=this.encodeFileName,h=a.transformTo("string",u(s)),l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(n,2)+i(n,2)+i(r,4)+i(o,4)+i(h.length,2)+h);this.push({data:f,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},h.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},h.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var i=t("../compressions"),r=t("./ZipFileWorker");n.generateWorker=function(t,e,n){var a=new r(e.streamFiles,n,e.platform,e.encodeFileName),o=0;try{t.forEach((function(t,n){o++;var r=function(t,e){var n=t||e,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,e.compression),s=n.options.compressionOptions||e.compressionOptions||{},u=n.dir,l=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:t,dir:u,date:l,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)})),a.entriesCount=o}catch(t){a.error(t)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.5.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var i=t("./utils"),r=t("./external"),a=t("./utf8"),o=t("./zipEntries"),s=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function l(t){return new r.Promise((function(e,n){var i=t.decompressed.getContentWorker().pipe(new s);i.on("error",(function(t){n(t)})).on("end",(function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}e.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new o(e);return n.load(t),n})).then((function(t){var n=[r.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var a=0;a<i.length;a++)n.push(l(i[a]));return r.Promise.all(n)})).then((function(t){for(var i=t.shift(),r=i.files,a=0;a<r.length;a++){var o=r[a];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var i=t("../utils"),r=t("../stream/GenericWorker");function a(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(a,r),a.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var i=t("readable-stream").Readable;function r(t,e,n){i.call(this,e),this._helper=t;var r=this;t.on("data",(function(t,e){r.push(t)||r._helper.pause(),n&&n(e)})).on("error",(function(t){r.emit("error",t)})).on("end",(function(){r.push(null)}))}t("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(t,e);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new Buffer(t,e)},allocBuffer:function(t){if(Buffer.alloc)return Buffer.alloc(t);var e=new Buffer(t);return e.fill(0),e},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";function i(t,e,n){var i,a=o.getTypeOf(e),u=o.extend(n||{},l);u.date=u.date||new Date,null!==u.compression&&(u.compression=u.compression.toUpperCase()),"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(t=r(t)),u.createFolders&&(i=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""}(t))&&v.call(this,i,!0);var f,_="string"===a&&!1===u.binary&&!1===u.base64;n&&void 0!==n.binary||(u.binary=!_),(e instanceof h&&0===e.uncompressedSize||u.dir||!e||0===e.length)&&(u.base64=!1,u.binary=!0,e="",u.compression="STORE",a="string"),f=e instanceof h||e instanceof s?e:d.isNode&&d.isStream(e)?new p(t,e):o.prepareContent(t,e,u.binary,u.optimizedBinaryString,u.base64);var m=new c(t,f,u);this.files[t]=m}function r(t){return"/"!==t.slice(-1)&&(t+="/"),t}var a=t("./utf8"),o=t("./utils"),s=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),l=t("./defaults"),h=t("./compressedObject"),c=t("./zipObject"),f=t("./generate"),d=t("./nodejsUtils"),p=t("./nodejs/NodejsStreamInputAdapter"),v=function(t,e){return e=void 0!==e?e:l.createFolders,t=r(t),this.files[t]||i.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function _(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach((function(n,i){t(n,i)&&e.push(i)})),e},file:function(t,e,n){if(1!==arguments.length)return t=this.root+t,i.call(this,t,e,n),this;if(_(t)){var r=t;return this.filter((function(t,e){return!e.dir&&r.test(t)}))}var a=this.files[this.root+t];return a&&!a.dir?a:null},folder:function(t){if(!t)return this;if(_(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=v.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";e=f.generateWorker(this,n,i)}catch(t){(e=new s("error")).error(t)}return new u(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=m},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var i=t("./DataReader");function r(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(r,i),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===e&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===r)return a-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),a=this.readData(4);return e===a[0]&&n===a[1]&&i===a[2]&&r===a[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var i=t("../utils");function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=r},{"../utils":32}],19:[function(t,e,n){"use strict";var i=t("./Uint8ArrayReader");function r(t){i.call(this,t)}t("../utils").inherits(r,i),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var i=t("./DataReader");function r(t){i.call(this,t)}t("../utils").inherits(r,i),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var i=t("./ArrayReader");function r(t){i.call(this,t)}t("../utils").inherits(r,i),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var i=t("../utils"),r=t("../support"),a=t("./ArrayReader"),o=t("./StringReader"),s=t("./NodeBufferReader"),u=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new s(t):r.uint8array?new u(i.transformTo("uint8array",t)):new a(i.transformTo("array",t)):new o(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,e,n){"use strict";var i=t("./GenericWorker"),r=t("../utils");function a(t){i.call(this,"ConvertWorker to "+t),this.destType=t}r.inherits(a,i),a.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},e.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var i=t("./GenericWorker"),r=t("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,i),a.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var i=t("../utils"),r=t("./GenericWorker");function a(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(a,r),a.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)},e.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var i=t("../utils"),r=t("./GenericWorker");function a(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}i.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,n){"use strict";var i=t("../utils"),r=t("./ConvertWorker"),a=t("./GenericWorker"),o=t("../base64"),s=t("../support"),u=t("../external"),l=null;if(s.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function h(t,e,n){var o=e;switch(e){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=e,this._mimeType=n,i.checkSupport(o),this._worker=t.pipe(new r(o)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}h.prototype={accumulate:function(t){return e=this,n=t,new u.Promise((function(t,r){var a=[],s=e._internalType,u=e._outputType,l=e._mimeType;e.on("data",(function(t,e){a.push(t),n&&n(e)})).on("error",(function(t){a=[],r(t)})).on("end",(function(){try{var e=function(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return o.encode(e);default:return i.transformTo(t,e)}}(u,function(t,e){var n,i=0,r=null,a=0;for(n=0;n<e.length;n++)a+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(r=new Uint8Array(a),n=0;n<e.length;n++)r.set(e[n],i),i+=e[n].length;return r;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(s,a),l);t(e)}catch(e){r(e)}a=[]})).resume()}));var e,n},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){i.delay(e,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,n){"use strict";for(var i=t("./utils"),r=t("./support"),a=t("./nodejsUtils"),o=t("./stream/GenericWorker"),s=new Array(256),u=0;u<256;u++)s[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function l(){o.call(this,"utf-8 decode"),this.leftOver=null}function h(){o.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(t){return r.nodebuffer?a.newBufferFrom(t,"utf-8"):function(t){var e,n,i,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=r.uint8array?new Uint8Array(u):new Array(u),a=o=0;o<u;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?e[o++]=n:(n<2048?e[o++]=192|n>>>6:(n<65536?e[o++]=224|n>>>12:(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63),e[o++]=128|n>>>6&63),e[o++]=128|63&n);return e}(t)},n.utf8decode=function(t){return r.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,r,a,o=t.length,u=new Array(2*o);for(e=n=0;e<o;)if((r=t[e++])<128)u[n++]=r;else if(4<(a=s[r]))u[n++]=65533,e+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&e<o;)r=r<<6|63&t[e++],a--;1<a?u[n++]=65533:r<65536?u[n++]=r:(r-=65536,u[n++]=55296|r>>10&1023,u[n++]=56320|1023&r)}return u.length!==n&&(u.subarray?u=u.subarray(0,n):u.length=n),i.applyFromCharCode(u)}(t=i.transformTo(r.uint8array?"uint8array":"array",t))},i.inherits(l,o),l.prototype.processChunk=function(t){var e=i.transformTo(r.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var a=e;(e=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),e.set(a,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var o=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+s[t[n]]>e?n:e}(e),u=e;o!==e.length&&(r.uint8array?(u=e.subarray(0,o),this.leftOver=e.subarray(o,e.length)):(u=e.slice(0,o),this.leftOver=e.slice(o,e.length))),this.push({data:n.utf8decode(u),meta:t.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,i.inherits(h,o),h.prototype.processChunk=function(t){this.push({data:n.utf8encode(t.data),meta:t.meta})},n.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,n){"use strict";var i=t("./support"),r=t("./base64"),a=t("./nodejsUtils"),o=t("set-immediate-shim"),s=t("./external");function u(t){return t}function l(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}n.newBlob=function(t,e){n.checkSupport("blob");try{return new Blob([t],{type:e})}catch(n){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(t,e,n){var i=[],r=0,a=t.length;if(a<=n)return String.fromCharCode.apply(null,t);for(;r<a;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,a)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,a)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(t){return!1}}()}};function c(t){var e=65536,i=n.getTypeOf(t),r=!0;if("uint8array"===i?r=h.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=h.applyCanBeUsed.nodebuffer),r)for(;1<e;)try{return h.stringifyByChunk(t,i,e)}catch(t){e=Math.floor(e/2)}return h.stringifyByChar(t)}function f(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}n.applyFromCharCode=c;var d={};d.string={string:u,array:function(t){return l(t,new Array(t.length))},arraybuffer:function(t){return d.string.uint8array(t).buffer},uint8array:function(t){return l(t,new Uint8Array(t.length))},nodebuffer:function(t){return l(t,a.allocBuffer(t.length))}},d.array={string:c,array:u,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(t)}},d.arraybuffer={string:function(t){return c(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:u,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a.newBufferFrom(new Uint8Array(t))}},d.uint8array={string:c,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:u,nodebuffer:function(t){return a.newBufferFrom(t)}},d.nodebuffer={string:c,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return d.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:u},n.transformTo=function(t,e){if(e=e||"",!t)return e;n.checkSupport(t);var i=n.getTypeOf(e);return d[i][t](e)},n.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&a.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},n.delay=function(t,e,n){o((function(){t.apply(n||null,e||[])}))},n.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},n.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},n.prepareContent=function(t,e,a,o,u){return s.Promise.resolve(e).then((function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new s.Promise((function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)})):t})).then((function(e){var h,c=n.getTypeOf(e);return c?("arraybuffer"===c?e=n.transformTo("uint8array",e):"string"===c&&(u?e=r.decode(e):a&&!0!==o&&(e=l(h=e,i.uint8array?new Uint8Array(h.length):new Array(h.length)))),e):s.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(t,e,n){"use strict";var i=t("./reader/readerFor"),r=t("./utils"),a=t("./signature"),o=t("./zipEntry"),s=(t("./utf8"),t("./support"));function u(t){this.files=[],this.loadOptions=t}u.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",n=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(0<i)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var i=t("./reader/readerFor"),r=t("./utils"),a=t("./compressedObject"),o=t("./crc32"),s=t("./utf8"),u=t("./compressions"),l=t("./support");function h(t,e){this.options=t,this.loadOptions=e}h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index+4<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i};t.setIndex(r)},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)||o(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)||o(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";function i(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),o=t("./utf8"),s=t("./compressedObject"),u=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(e=e.pipe(new o.Utf8EncodeWorker)),!a&&i&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new u("error")).error(t)}return new r(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<l.length;c++)i.prototype[l[c]]=h;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var a=0,o=new r(h),s=t.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){h(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(h,0)};else{var u=new t.MessageChannel;u.port1.onmessage=h,n=function(){u.port2.postMessage(0)}}var l=[];function h(){var t,e;i=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}i=!1}e.exports=function(t){1!==l.push(t)||i||n()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(t,e,n){"use strict";var i=t("immediate");function r(){}var a={},o=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==r&&d(this,t)}function h(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function c(t,e,n){i((function(){var i;try{i=e(n)}catch(i){return a.reject(t,i)}i===t?a.reject(t,new TypeError("Cannot resolve promise with itself")):a.resolve(t,i)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function i(e){n||(n=!0,a.reject(t,e))}function r(e){n||(n=!0,a.resolve(t,e))}var o=p((function(){e(r,i)}));"error"===o.status&&i(o.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=l).prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===o)return this;var n=new this.constructor(r);return this.state!==u?c(n,this.state===s?t:e,this.outcome):this.queue.push(new h(n,t,e)),n},h.prototype.callFulfilled=function(t){a.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){a.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},a.resolve=function(t,e){var n=p(f,e);if("error"===n.status)return a.reject(t,n.value);var i=n.value;if(i)d(t,i);else{t.state=s,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},a.reject=function(t,e){t.state=o,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},l.resolve=function(t){return t instanceof this?t:a.resolve(new this(r),t)},l.reject=function(t){var e=new this(r);return a.reject(e,t)},l.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,u=-1,l=new this(r);++u<n;)h(t[u],u);return l;function h(t,r){e.resolve(t).then((function(t){o[r]=t,++s!==n||i||(i=!0,a.resolve(l,o))}),(function(t){i||(i=!0,a.reject(l,t))}))}},l.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var i,o=-1,s=new this(r);++o<e;)i=t[o],this.resolve(i).then((function(t){n||(n=!0,a.resolve(s,t))}),(function(t){n||(n=!0,a.reject(s,t))}));return s}},{immediate:36}],38:[function(t,e,n){"use strict";var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,e,n){"use strict";var i=t("./zlib/deflate"),r=t("./utils/common"),a=t("./utils/strings"),o=t("./zlib/messages"),s=t("./zlib/zstream"),u=Object.prototype.toString,l=0,h=-1,c=0,f=8;function d(t){if(!(this instanceof d))return new d(t);this.options=r.assign({level:h,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:c,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==l)throw new Error(o[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var p;if(p="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,p))!==l)throw new Error(o[n]);this._dict_set=!0}}function p(t,e){var n=new d(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}d.prototype.push=function(t,e){var n,o,s=this.strm,h=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(h),s.next_out=0,s.avail_out=h),1!==(n=i.deflate(s,o))&&n!==l)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===l):2!==o||(this.onEnd(l),!(s.avail_out=0))},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){t===l&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=d,n.deflate=p,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,p(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,p(t,e)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,e,n){"use strict";var i=t("./zlib/inflate"),r=t("./utils/common"),a=t("./utils/strings"),o=t("./zlib/constants"),s=t("./zlib/messages"),u=t("./zlib/zstream"),l=t("./zlib/gzheader"),h=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function f(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}c.prototype.push=function(t,e){var n,s,u,l,c,f,d=this.strm,p=this.options.chunkSize,v=this.options.dictionary,_=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?d.input=a.binstring2buf(t):"[object ArrayBuffer]"===h.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(p),d.next_out=0,d.avail_out=p),(n=i.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&v&&(f="string"==typeof v?a.string2buf(v):"[object ArrayBuffer]"===h.call(v)?new Uint8Array(v):v,n=i.inflateSetDictionary(this.strm,f)),n===o.Z_BUF_ERROR&&!0===_&&(n=o.Z_OK,_=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&n!==o.Z_STREAM_END&&(0!==d.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(d.output,d.next_out),l=d.next_out-u,c=a.buf2string(d.output,u),d.next_out=l,d.avail_out=p-l,l&&r.arraySet(d.output,d.output,u,l,0),this.onData(c)):this.onData(r.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(_=!0)}while((0<d.avail_in||0===d.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(d.avail_out=0))},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=c,n.inflate=f,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},n.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var a=0;a<i;a++)t[r+a]=e[n+a]},flattenChunks:function(t){var e,n,i,r,a,o;for(e=i=0,n=t.length;e<n;e++)i+=t[e].length;for(o=new Uint8Array(i),e=r=0,n=t.length;e<n;e++)a=t[e],o.set(a,r),r+=a.length;return o}},a={arraySet:function(t,e,n,i,r){for(var a=0;a<i;a++)t[r+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],42:[function(t,e,n){"use strict";var i=t("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function u(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n}o[254]=o[254]=1,n.string2buf=function(t){var e,n,r,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(u),a=o=0;o<u;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?e[o++]=n:(n<2048?e[o++]=192|n>>>6:(n<65536?e[o++]=224|n>>>12:(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63),e[o++]=128|n>>>6&63),e[o++]=128|63&n);return e},n.buf2binstring=function(t){return u(t,t.length)},n.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,i,r,a,s=e||t.length,l=new Array(2*s);for(n=i=0;n<s;)if((r=t[n++])<128)l[i++]=r;else if(4<(a=o[r]))l[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&n<s;)r=r<<6|63&t[n++],a--;1<a?l[i++]=65533:r<65536?l[i++]=r:(r-=65536,l[i++]=55296|r>>10&1023,l[i++]=56320|1023&r)}return u(l,i)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0||0===n?e:n+o[t[n]]>e?n:e}},{"./common":41}],43:[function(t,e,n){"use strict";e.exports=function(t,e,n,i){for(var r=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(r=r+e[i++]|0)|0,--o;);r%=65521,a%=65521}return r|a<<16|0}},{}],44:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,r){var a=i,o=r+n;t^=-1;for(var s=r;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},{}],46:[function(t,e,n){"use strict";var i,r=t("../utils/common"),a=t("./trees"),o=t("./adler32"),s=t("./crc32"),u=t("./messages"),l=0,h=0,c=-2,f=2,d=8,p=286,v=30,_=19,m=2*p+1,y=15,g=3,b=258,x=b+g+1,w=42,E=113;function S(t,e){return t.msg=u[e],e}function k(t){return(t<<1)-(4<t?9:0)}function T(t){for(var e=t.length;0<=--e;)t[e]=0}function A(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function R(t,e){a._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,A(t.strm)}function I(t,e){t.pending_buf[t.pending++]=e}function C(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function P(t,e){var n,i,r=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-x?t.strstart-(t.w_size-x):0,l=t.window,h=t.w_mask,c=t.prev,f=t.strstart+b,d=l[a+o-1],p=l[a+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(l[(n=e)+o]===p&&l[n+o-1]===d&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do{}while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<f);if(i=b-(f-a),a=f-b,o<i){if(t.match_start=e,s<=(o=i))break;d=l[a+o-1],p=l[a+o]}}}while((e=c[e&h])>u&&0!=--r);return o<=t.lookahead?o:t.lookahead}function M(t){var e,n,i,a,u,l,h,c,f,d,p=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=p+(p-x)){for(r.arraySet(t.window,t.window,p,p,0),t.match_start-=p,t.strstart-=p,t.block_start-=p,e=n=t.hash_size;i=t.head[--e],t.head[e]=p<=i?i-p:0,--n;);for(e=n=p;i=t.prev[--e],t.prev[e]=p<=i?i-p:0,--n;);a+=p}if(0===t.strm.avail_in)break;if(l=t.strm,h=t.window,c=t.strstart+t.lookahead,d=void 0,(f=a)<(d=l.avail_in)&&(d=f),n=0===d?0:(l.avail_in-=d,r.arraySet(h,l.input,l.next_in,d,c),1===l.state.wrap?l.adler=o(l.adler,h,d,c):2===l.state.wrap&&(l.adler=s(l.adler,h,d,c)),l.next_in+=d,l.total_in+=d,d),t.lookahead+=n,t.lookahead+t.insert>=g)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+g-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<g)););}while(t.lookahead<x&&0!==t.strm.avail_in)}function O(t,e){for(var n,i;;){if(t.lookahead<x){if(M(t),t.lookahead<x&&e===l)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=g&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+g-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-x&&(t.match_length=P(t,n)),t.match_length>=g)if(i=a._tr_tally(t,t.strstart-t.match_start,t.match_length-g),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=g){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+g-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(R(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<g-1?t.strstart:g-1,4===e?(R(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(R(t,!1),0===t.strm.avail_out)?1:2}function D(t,e){for(var n,i,r;;){if(t.lookahead<x){if(M(t),t.lookahead<x&&e===l)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=g&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+g-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=g-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-x&&(t.match_length=P(t,n),t.match_length<=5&&(1===t.strategy||t.match_length===g&&4096<t.strstart-t.match_start)&&(t.match_length=g-1)),t.prev_length>=g&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-g,i=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-g),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+g-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=g-1,t.strstart++,i&&(R(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=a._tr_tally(t,0,t.window[t.strstart-1]))&&R(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<g-1?t.strstart:g-1,4===e?(R(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(R(t,!1),0===t.strm.avail_out)?1:2}function N(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function L(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=d,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*m),this.dyn_dtree=new r.Buf16(2*(2*v+1)),this.bl_tree=new r.Buf16(2*(2*_+1)),T(this.dyn_ltree),T(this.dyn_dtree),T(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(y+1),this.heap=new r.Buf16(2*p+1),T(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*p+1),T(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function F(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=f,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?w:E,t.adler=2===e.wrap?0:1,e.last_flush=l,a._tr_init(e),h):S(t,c)}function B(t){var e,n=F(t);return n===h&&((e=t.state).window_size=2*e.w_size,T(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=g-1,e.match_available=0,e.ins_h=0),n}function V(t,e,n,i,a,o){if(!t)return c;var s=1;if(-1===e&&(e=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),a<1||9<a||n!==d||i<8||15<i||e<0||9<e||o<0||4<o)return S(t,c);8===i&&(i=9);var u=new L;return(t.state=u).strm=t,u.wrap=s,u.gzhead=null,u.w_bits=i,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+g-1)/g),u.window=new r.Buf8(2*u.w_size),u.head=new r.Buf16(u.hash_size),u.prev=new r.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new r.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=o,u.method=n,B(t)}i=[new N(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(M(t),0===t.lookahead&&e===l)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,R(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-x&&(R(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(R(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(R(t,!1),t.strm.avail_out),1)})),new N(4,4,8,4,O),new N(4,5,16,8,O),new N(4,6,32,32,O),new N(4,4,16,16,D),new N(8,16,32,32,D),new N(8,16,128,128,D),new N(8,32,128,256,D),new N(32,128,258,1024,D),new N(32,258,258,4096,D)],n.deflateInit=function(t,e){return V(t,e,d,15,8,0)},n.deflateInit2=V,n.deflateReset=B,n.deflateResetKeep=F,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?c:(t.state.gzhead=e,h):c},n.deflate=function(t,e){var n,r,o,u;if(!t||!t.state||5<e||e<0)return t?S(t,c):c;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return S(t,0===t.avail_out?-5:c);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===w)if(2===r.wrap)t.adler=0,I(r,31),I(r,139),I(r,8),r.gzhead?(I(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),I(r,255&r.gzhead.time),I(r,r.gzhead.time>>8&255),I(r,r.gzhead.time>>16&255),I(r,r.gzhead.time>>24&255),I(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),I(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(I(r,255&r.gzhead.extra.length),I(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(I(r,0),I(r,0),I(r,0),I(r,0),I(r,0),I(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),I(r,3),r.status=E);else{var f=d+(r.w_bits-8<<4)<<8;f|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(f|=32),f+=31-f%31,r.status=E,C(r,f),0!==r.strstart&&(C(r,t.adler>>>16),C(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),A(t),o=r.pending,r.pending!==r.pending_buf_size));)I(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),A(t),o=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,I(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===u&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),A(t),o=r.pending,r.pending===r.pending_buf_size)){u=1;break}u=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,I(r,u)}while(0!==u);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===u&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&A(t),r.pending+2<=r.pending_buf_size&&(I(r,255&t.adler),I(r,t.adler>>8&255),t.adler=0,r.status=E)):r.status=E),0!==r.pending){if(A(t),0===t.avail_out)return r.last_flush=-1,h}else if(0===t.avail_in&&k(e)<=k(n)&&4!==e)return S(t,-5);if(666===r.status&&0!==t.avail_in)return S(t,-5);if(0!==t.avail_in||0!==r.lookahead||e!==l&&666!==r.status){var p=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(M(t),0===t.lookahead)){if(e===l)return 1;break}if(t.match_length=0,n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(R(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(R(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(R(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,i,r,o,s=t.window;;){if(t.lookahead<=b){if(M(t),t.lookahead<=b&&e===l)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=g&&0<t.strstart&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=t.strstart+b;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=b-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=g?(n=a._tr_tally(t,1,t.match_length-g),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(R(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(R(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(R(t,!1),0===t.strm.avail_out)?1:2}(r,e):i[r.level].func(r,e);if(3!==p&&4!==p||(r.status=666),1===p||3===p)return 0===t.avail_out&&(r.last_flush=-1),h;if(2===p&&(1===e?a._tr_align(r):5!==e&&(a._tr_stored_block(r,0,0,!1),3===e&&(T(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),A(t),0===t.avail_out))return r.last_flush=-1,h}return 4!==e?h:r.wrap<=0?1:(2===r.wrap?(I(r,255&t.adler),I(r,t.adler>>8&255),I(r,t.adler>>16&255),I(r,t.adler>>24&255),I(r,255&t.total_in),I(r,t.total_in>>8&255),I(r,t.total_in>>16&255),I(r,t.total_in>>24&255)):(C(r,t.adler>>>16),C(r,65535&t.adler)),A(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?h:1)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==w&&69!==e&&73!==e&&91!==e&&103!==e&&e!==E&&666!==e?S(t,c):(t.state=null,e===E?S(t,-3):h):c},n.deflateSetDictionary=function(t,e){var n,i,a,s,u,l,f,d,p=e.length;if(!t||!t.state)return c;if(2===(s=(n=t.state).wrap)||1===s&&n.status!==w||n.lookahead)return c;for(1===s&&(t.adler=o(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(T(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,e,p-n.w_size,n.w_size,0),e=d,p=n.w_size),u=t.avail_in,l=t.next_in,f=t.input,t.avail_in=p,t.next_in=0,t.input=e,M(n);n.lookahead>=g;){for(i=n.strstart,a=n.lookahead-(g-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+g-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--a;);n.strstart=i,n.lookahead=g-1,M(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=g-1,n.match_available=0,t.next_in=l,t.input=f,t.avail_in=u,n.wrap=s,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,e,n){"use strict";e.exports=function(t,e){var n,i,r,a,o,s,u,l,h,c,f,d,p,v,_,m,y,g,b,x,w,E,S,k,T;n=t.state,i=t.next_in,k=t.input,r=i+(t.avail_in-5),a=t.next_out,T=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),u=n.dmax,l=n.wsize,h=n.whave,c=n.wnext,f=n.window,d=n.hold,p=n.bits,v=n.lencode,_=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),g=v[d&m];e:for(;;){if(d>>>=b=g>>>24,p-=b,0==(b=g>>>16&255))T[a++]=65535&g;else{if(!(16&b)){if(0==(64&b)){g=v[(65535&g)+(d&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&g,(b&=15)&&(p<b&&(d+=k[i++]<<p,p+=8),x+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),g=_[d&y];n:for(;;){if(d>>>=b=g>>>24,p-=b,!(16&(b=g>>>16&255))){if(0==(64&b)){g=_[(65535&g)+(d&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&g,p<(b&=15)&&(d+=k[i++]<<p,(p+=8)<b&&(d+=k[i++]<<p,p+=8)),u<(w+=d&(1<<b)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(d>>>=b,p-=b,(b=a-o)<w){if(h<(b=w-b)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=f,(E=0)===c){if(E+=l-b,b<x){for(x-=b;T[a++]=f[E++],--b;);E=a-w,S=T}}else if(c<b){if(E+=l+c-b,(b-=c)<x){for(x-=b;T[a++]=f[E++],--b;);if(E=0,c<x){for(x-=b=c;T[a++]=f[E++],--b;);E=a-w,S=T}}}else if(E+=c-b,b<x){for(x-=b;T[a++]=f[E++],--b;);E=a-w,S=T}for(;2<x;)T[a++]=S[E++],T[a++]=S[E++],T[a++]=S[E++],x-=3;x&&(T[a++]=S[E++],1<x&&(T[a++]=S[E++]))}else{for(E=a-w;T[a++]=T[E++],T[a++]=T[E++],T[a++]=T[E++],2<(x-=3););x&&(T[a++]=T[E++],1<x&&(T[a++]=T[E++]))}break}}break}}while(i<r&&a<s);i-=x=p>>3,d&=(1<<(p-=x<<3))-1,t.next_in=i,t.next_out=a,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=d,n.bits=p}},{}],49:[function(t,e,n){"use strict";var i=t("../utils/common"),r=t("./adler32"),a=t("./crc32"),o=t("./inffast"),s=t("./inftrees"),u=1,l=2,h=0,c=-2,f=1,d=852,p=592;function v(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=f,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(d),e.distcode=e.distdyn=new i.Buf32(p),e.sane=1,e.back=-1,h):c}function y(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,m(t)):c}function g(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?c:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,y(t))):c}function b(t,e){var n,i;return t?(i=new _,(t.state=i).window=null,(n=g(t,e))!==h&&(t.state=null),n):c}var x,w,E=!0;function S(t){if(E){var e;for(x=new i.Buf32(512),w=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(u,t.lens,0,288,x,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(l,t.lens,0,32,w,0,t.work,{bits:5}),E=!1}t.lencode=x,t.lenbits=9,t.distcode=w,t.distbits=5}function k(t,e,n,r){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),r>=o.wsize?(i.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r<(a=o.wsize-o.wnext)&&(a=r),i.arraySet(o.window,e,n-r,a,o.wnext),(r-=a)?(i.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=y,n.inflateReset2=g,n.inflateResetKeep=m,n.inflateInit=function(t){return b(t,15)},n.inflateInit2=b,n.inflate=function(t,e){var n,d,p,_,m,y,g,b,x,w,E,T,A,R,I,C,P,M,O,D,N,L,F,B,V=0,U=new i.Buf8(4),X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return c;12===(n=t.state).mode&&(n.mode=13),m=t.next_out,p=t.output,g=t.avail_out,_=t.next_in,d=t.input,y=t.avail_in,b=n.hold,x=n.bits,w=y,E=g,L=h;t:for(;;)switch(n.mode){case f:if(0===n.wrap){n.mode=13;break}for(;x<16;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if(2&n.wrap&&35615===b){U[n.check=0]=255&b,U[1]=b>>>8&255,n.check=a(n.check,U,2,0),x=b=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&b)<<8)+(b>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&b)){t.msg="unknown compression method",n.mode=30;break}if(x-=4,N=8+(15&(b>>>=4)),0===n.wbits)n.wbits=N;else if(N>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<N,t.adler=n.check=1,n.mode=512&b?10:12,x=b=0;break;case 2:for(;x<16;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if(n.flags=b,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=b>>8&1),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,n.check=a(n.check,U,2,0)),x=b=0,n.mode=3;case 3:for(;x<32;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}n.head&&(n.head.time=b),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,U[2]=b>>>16&255,U[3]=b>>>24&255,n.check=a(n.check,U,4,0)),x=b=0,n.mode=4;case 4:for(;x<16;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}n.head&&(n.head.xflags=255&b,n.head.os=b>>8),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,n.check=a(n.check,U,2,0)),x=b=0,n.mode=5;case 5:if(1024&n.flags){for(;x<16;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}n.length=b,n.head&&(n.head.extra_len=b),512&n.flags&&(U[0]=255&b,U[1]=b>>>8&255,n.check=a(n.check,U,2,0)),x=b=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(T=n.length)&&(T=y),T&&(n.head&&(N=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,d,_,T,N)),512&n.flags&&(n.check=a(n.check,d,T,_)),y-=T,_+=T,n.length-=T),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break t;for(T=0;N=d[_+T++],n.head&&N&&n.length<65536&&(n.head.name+=String.fromCharCode(N)),N&&T<y;);if(512&n.flags&&(n.check=a(n.check,d,T,_)),y-=T,_+=T,N)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break t;for(T=0;N=d[_+T++],n.head&&N&&n.length<65536&&(n.head.comment+=String.fromCharCode(N)),N&&T<y;);if(512&n.flags&&(n.check=a(n.check,d,T,_)),y-=T,_+=T,N)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;x<16;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if(b!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}x=b=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;x<32;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}t.adler=n.check=v(b),x=b=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=m,t.avail_out=g,t.next_in=_,t.avail_in=y,n.hold=b,n.bits=x,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){b>>>=7&x,x-=7&x,n.mode=27;break}for(;x<3;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}switch(n.last=1&b,x-=1,3&(b>>>=1)){case 0:n.mode=14;break;case 1:if(S(n),n.mode=20,6!==e)break;b>>>=2,x-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}b>>>=2,x-=2;break;case 14:for(b>>>=7&x,x-=7&x;x<32;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if((65535&b)!=(b>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&b,x=b=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(T=n.length){if(y<T&&(T=y),g<T&&(T=g),0===T)break t;i.arraySet(p,d,_,T,m),y-=T,_+=T,g-=T,m+=T,n.length-=T;break}n.mode=12;break;case 17:for(;x<14;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if(n.nlen=257+(31&b),b>>>=5,x-=5,n.ndist=1+(31&b),b>>>=5,x-=5,n.ncode=4+(15&b),b>>>=4,x-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;x<3;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}n.lens[X[n.have++]]=7&b,b>>>=3,x-=3}for(;n.have<19;)n.lens[X[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F={bits:n.lenbits},L=s(0,n.lens,0,19,n.lencode,0,n.work,F),n.lenbits=F.bits,L){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;C=(V=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,P=65535&V,!((I=V>>>24)<=x);){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if(P<16)b>>>=I,x-=I,n.lens[n.have++]=P;else{if(16===P){for(B=I+2;x<B;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if(b>>>=I,x-=I,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}N=n.lens[n.have-1],T=3+(3&b),b>>>=2,x-=2}else if(17===P){for(B=I+3;x<B;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}x-=I,N=0,T=3+(7&(b>>>=I)),b>>>=3,x-=3}else{for(B=I+7;x<B;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}x-=I,N=0,T=11+(127&(b>>>=I)),b>>>=7,x-=7}if(n.have+T>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;T--;)n.lens[n.have++]=N}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,F={bits:n.lenbits},L=s(u,n.lens,0,n.nlen,n.lencode,0,n.work,F),n.lenbits=F.bits,L){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,F={bits:n.distbits},L=s(l,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,F),n.distbits=F.bits,L){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=y&&258<=g){t.next_out=m,t.avail_out=g,t.next_in=_,t.avail_in=y,n.hold=b,n.bits=x,o(t,E),m=t.next_out,p=t.output,g=t.avail_out,_=t.next_in,d=t.input,y=t.avail_in,b=n.hold,x=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;C=(V=n.lencode[b&(1<<n.lenbits)-1])>>>16&255,P=65535&V,!((I=V>>>24)<=x);){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if(C&&0==(240&C)){for(M=I,O=C,D=P;C=(V=n.lencode[D+((b&(1<<M+O)-1)>>M)])>>>16&255,P=65535&V,!(M+(I=V>>>24)<=x);){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}b>>>=M,x-=M,n.back+=M}if(b>>>=I,x-=I,n.back+=I,n.length=P,0===C){n.mode=26;break}if(32&C){n.back=-1,n.mode=12;break}if(64&C){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&C,n.mode=22;case 22:if(n.extra){for(B=n.extra;x<B;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}n.length+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;C=(V=n.distcode[b&(1<<n.distbits)-1])>>>16&255,P=65535&V,!((I=V>>>24)<=x);){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if(0==(240&C)){for(M=I,O=C,D=P;C=(V=n.distcode[D+((b&(1<<M+O)-1)>>M)])>>>16&255,P=65535&V,!(M+(I=V>>>24)<=x);){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}b>>>=M,x-=M,n.back+=M}if(b>>>=I,x-=I,n.back+=I,64&C){t.msg="invalid distance code",n.mode=30;break}n.offset=P,n.extra=15&C,n.mode=24;case 24:if(n.extra){for(B=n.extra;x<B;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}n.offset+=b&(1<<n.extra)-1,b>>>=n.extra,x-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break t;if(T=E-g,n.offset>T){if((T=n.offset-T)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}A=T>n.wnext?(T-=n.wnext,n.wsize-T):n.wnext-T,T>n.length&&(T=n.length),R=n.window}else R=p,A=m-n.offset,T=n.length;for(g<T&&(T=g),g-=T,n.length-=T;p[m++]=R[A++],--T;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break t;p[m++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;x<32;){if(0===y)break t;y--,b|=d[_++]<<x,x+=8}if(E-=g,t.total_out+=E,n.total+=E,E&&(t.adler=n.check=n.flags?a(n.check,p,E,m-E):r(n.check,p,E,m-E)),E=g,(n.flags?b:v(b))!==n.check){t.msg="incorrect data check",n.mode=30;break}x=b=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;x<32;){if(0===y)break t;y--,b+=d[_++]<<x,x+=8}if(b!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}x=b=0}n.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return c}return t.next_out=m,t.avail_out=g,t.next_in=_,t.avail_in=y,n.hold=b,n.bits=x,(n.wsize||E!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&k(t,t.output,t.next_out,E-t.avail_out)?(n.mode=31,-4):(w-=t.avail_in,E-=t.avail_out,t.total_in+=w,t.total_out+=E,n.total+=E,n.wrap&&E&&(t.adler=n.check=n.flags?a(n.check,p,E,t.next_out-E):r(n.check,p,E,t.next_out-E)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==w&&0===E||4===e)&&L===h&&(L=-5),L)},n.inflateEnd=function(t){if(!t||!t.state)return c;var e=t.state;return e.window&&(e.window=null),t.state=null,h},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?c:((n.head=e).done=!1,h):c},n.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?c:11===n.mode&&r(1,e,i,0)!==n.check?-3:k(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,h):c},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,e,n){"use strict";var i=t("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,u,l,h,c,f){var d,p,v,_,m,y,g,b,x,w=f.bits,E=0,S=0,k=0,T=0,A=0,R=0,I=0,C=0,P=0,M=0,O=null,D=0,N=new i.Buf16(16),L=new i.Buf16(16),F=null,B=0;for(E=0;E<=15;E++)N[E]=0;for(S=0;S<u;S++)N[e[n+S]]++;for(A=w,T=15;1<=T&&0===N[T];T--);if(T<A&&(A=T),0===T)return l[h++]=20971520,l[h++]=20971520,f.bits=1,0;for(k=1;k<T&&0===N[k];k++);for(A<k&&(A=k),E=C=1;E<=15;E++)if(C<<=1,(C-=N[E])<0)return-1;if(0<C&&(0===t||1!==T))return-1;for(L[1]=0,E=1;E<15;E++)L[E+1]=L[E]+N[E];for(S=0;S<u;S++)0!==e[n+S]&&(c[L[e[n+S]]++]=S);if(y=0===t?(O=F=c,19):1===t?(O=r,D-=257,F=a,B-=257,256):(O=o,F=s,-1),E=k,m=h,I=S=M=0,v=-1,_=(P=1<<(R=A))-1,1===t&&852<P||2===t&&592<P)return 1;for(;;){for(g=E-I,x=c[S]<y?(b=0,c[S]):c[S]>y?(b=F[B+c[S]],O[D+c[S]]):(b=96,0),d=1<<E-I,k=p=1<<R;l[m+(M>>I)+(p-=d)]=g<<24|b<<16|x|0,0!==p;);for(d=1<<E-1;M&d;)d>>=1;if(0!==d?(M&=d-1,M+=d):M=0,S++,0==--N[E]){if(E===T)break;E=e[n+c[S]]}if(A<E&&(M&_)!==v){for(0===I&&(I=A),m+=k,C=1<<(R=E-I);R+I<T&&!((C-=N[R+I])<=0);)R++,C<<=1;if(P+=1<<R,1===t&&852<P||2===t&&592<P)return 1;l[v=M&_]=A<<24|R<<16|m-h|0}}return 0!==M&&(l[m+M]=E-I<<24|64<<16|0),f.bits=A,0}},{"../utils/common":41}],51:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,e,n){"use strict";var i=t("../utils/common");function r(t){for(var e=t.length;0<=--e;)t[e]=0}var a=15,o=16,s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],u=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],h=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);r(c);var f=new Array(60);r(f);var d=new Array(512);r(d);var p=new Array(256);r(p);var v=new Array(29);r(v);var _,m,y,g=new Array(30);function b(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function x(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function w(t){return t<256?d[t]:d[256+(t>>>7)]}function E(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function S(t,e,n){t.bi_valid>o-n?(t.bi_buf|=e<<t.bi_valid&65535,E(t,t.bi_buf),t.bi_buf=e>>o-t.bi_valid,t.bi_valid+=n-o):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function k(t,e,n){S(t,n[2*e],n[2*e+1])}function T(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function A(t,e,n){var i,r,o=new Array(a+1),s=0;for(i=1;i<=a;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var u=t[2*r+1];0!==u&&(t[2*r]=T(o[u]++,u))}}function R(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function I(t){8<t.bi_valid?E(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function C(t,e,n,i){var r=2*e,a=2*n;return t[r]<t[a]||t[r]===t[a]&&i[e]<=i[n]}function P(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&C(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!C(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function M(t,e,n){var i,r,a,o,l=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],r=t.pending_buf[t.l_buf+l],l++,0===i?k(t,r,e):(k(t,(a=p[r])+256+1,e),0!==(o=s[a])&&S(t,r-=v[a],o),k(t,a=w(--i),n),0!==(o=u[a])&&S(t,i-=g[a],o)),l<t.last_lit;);k(t,256,e)}function O(t,e){var n,i,r,o=e.dyn_tree,s=e.stat_desc.static_tree,u=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=h=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=h<2?++h:0)]=1,t.depth[r]=0,t.opt_len--,u&&(t.static_len-=s[2*r+1]);for(e.max_code=h,n=t.heap_len>>1;1<=n;n--)P(t,o,n);for(r=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],P(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,P(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,s,u,l=e.dyn_tree,h=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,v=e.stat_desc.max_length,_=0;for(o=0;o<=a;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)v<(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)&&(o=v,_++),l[2*i+1]=o,h<i||(t.bl_count[o]++,s=0,p<=i&&(s=d[i-p]),u=l[2*i],t.opt_len+=u*(o+s),f&&(t.static_len+=u*(c[2*i+1]+s)));if(0!==_){do{for(o=v-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[v]--,_-=2}while(0<_);for(o=v;0!==o;o--)for(i=t.bl_count[o];0!==i;)h<(r=t.heap[--n])||(l[2*r+1]!==o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(t,e),A(o,h,t.bl_count)}function D(t,e,n){var i,r,a=-1,o=e[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=e[2*(i+1)+1],++s<u&&r===o||(s<l?t.bl_tree[2*r]+=s:0!==r?(r!==a&&t.bl_tree[2*r]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=r,l=(s=0)===o?(u=138,3):r===o?(u=6,3):(u=7,4))}function N(t,e,n){var i,r,a=-1,o=e[1],s=0,u=7,l=4;for(0===o&&(u=138,l=3),i=0;i<=n;i++)if(r=o,o=e[2*(i+1)+1],!(++s<u&&r===o)){if(s<l)for(;k(t,r,t.bl_tree),0!=--s;);else 0!==r?(r!==a&&(k(t,r,t.bl_tree),s--),k(t,16,t.bl_tree),S(t,s-3,2)):s<=10?(k(t,17,t.bl_tree),S(t,s-3,3)):(k(t,18,t.bl_tree),S(t,s-11,7));a=r,l=(s=0)===o?(u=138,3):r===o?(u=6,3):(u=7,4)}}r(g);var L=!1;function F(t,e,n,r){var a,o,s;S(t,0+(r?1:0),3),o=e,s=n,I(a=t),E(a,s),E(a,~s),i.arraySet(a.pending_buf,a.window,o,s,a.pending),a.pending+=s}n._tr_init=function(t){L||(function(){var t,e,n,i,r,o=new Array(a+1);for(i=n=0;i<28;i++)for(v[i]=n,t=0;t<1<<s[i];t++)p[n++]=i;for(p[n-1]=i,i=r=0;i<16;i++)for(g[i]=r,t=0;t<1<<u[i];t++)d[r++]=i;for(r>>=7;i<30;i++)for(g[i]=r<<7,t=0;t<1<<u[i]-7;t++)d[256+r++]=i;for(e=0;e<=a;e++)o[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,o[8]++;for(;t<=255;)c[2*t+1]=9,t++,o[9]++;for(;t<=279;)c[2*t+1]=7,t++,o[7]++;for(;t<=287;)c[2*t+1]=8,t++,o[8]++;for(A(c,287,o),t=0;t<30;t++)f[2*t+1]=5,f[2*t]=T(t,5);_=new b(c,s,257,286,a),m=new b(f,u,0,30,a),y=new b(new Array(0),l,0,19,7)}(),L=!0),t.l_desc=new x(t.dyn_ltree,_),t.d_desc=new x(t.dyn_dtree,m),t.bl_desc=new x(t.bl_tree,y),t.bi_buf=0,t.bi_valid=0,R(t)},n._tr_stored_block=F,n._tr_flush_block=function(t,e,n,i){var r,a,o=0;0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),O(t,t.l_desc),O(t,t.d_desc),o=function(t){var e;for(D(t,t.dyn_ltree,t.l_desc.max_code),D(t,t.dyn_dtree,t.d_desc.max_code),O(t,t.bl_desc),e=18;3<=e&&0===t.bl_tree[2*h[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=r&&(r=a)):r=a=n+5,n+4<=r&&-1!==e?F(t,e,n,i):4===t.strategy||a===r?(S(t,2+(i?1:0),3),M(t,c,f)):(S(t,4+(i?1:0),3),function(t,e,n,i){var r;for(S(t,e-257,5),S(t,n-1,5),S(t,i-4,4),r=0;r<i;r++)S(t,t.bl_tree[2*h[r]+1],3);N(t,t.dyn_ltree,e-1),N(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),M(t,t.dyn_ltree,t.dyn_dtree)),R(t),i&&I(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(p[n]+256+1)]++,t.dyn_dtree[2*w(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){var e;S(t,2,3),k(t,256,c),16===(e=t).bi_valid?(E(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":41}],53:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,e,n){"use strict";e.exports="function"==typeof setImmediate?setImmediate:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}},{}]},{},[10])(10)}))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)},9483:function(t,e,n){t.exports=function t(e,n,i){function r(o,s){if(!n[o]){if(!e[o]){if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};e[o][0].call(l.exports,(function(t){var n=e[o][1][t];return r(n||t)}),l,l.exports,t,e,n,i)}return n[o].exports}for(var a=void 0,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(t,e,i){(function(t){"use strict";var n,i,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var a=0,o=new r(h),s=t.document.createTextNode("");o.observe(s,{characterData:!0}),n=function(){s.data=a=++a%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){h(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(h,0)};else{var u=new t.MessageChannel;u.port1.onmessage=h,n=function(){u.port2.postMessage(0)}}var l=[];function h(){var t,e;i=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}i=!1}function c(t){1!==l.push(t)||i||n()}e.exports=c}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var i=t(1);function r(){}var a={},o=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function l(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==r&&d(this,t)}function h(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function c(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return a.reject(t,e)}i===t?a.reject(t,new TypeError("Cannot resolve promise with itself")):a.resolve(t,i)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function i(e){n||(n=!0,a.reject(t,e))}function r(e){n||(n=!0,a.resolve(t,e))}function o(){e(r,i)}var s=p(o);"error"===s.status&&i(s.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function v(t){return t instanceof this?t:a.resolve(new this(r),t)}function _(t){var e=new this(r);return a.reject(e,t)}function m(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),s=0,u=-1,l=new this(r);++u<n;)h(t[u],u);return l;function h(t,r){function u(t){o[r]=t,++s!==n||i||(i=!0,a.resolve(l,o))}e.resolve(t).then(u,(function(t){i||(i=!0,a.reject(l,t))}))}}function y(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var o=-1,s=new this(r);++o<n;)u(t[o]);return s;function u(t){e.resolve(t).then((function(t){i||(i=!0,a.resolve(s,t))}),(function(t){i||(i=!0,a.reject(s,t))}))}}e.exports=l,l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===o)return this;var n=new this.constructor(r);return this.state!==u?c(n,this.state===s?t:e,this.outcome):this.queue.push(new h(n,t,e)),n},h.prototype.callFulfilled=function(t){a.resolve(this.promise,t)},h.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},h.prototype.callRejected=function(t){a.reject(this.promise,t)},h.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},a.resolve=function(t,e){var n=p(f,e);if("error"===n.status)return a.reject(t,n.value);var i=n.value;if(i)d(t,i);else{t.state=s,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},a.reject=function(t,e){t.state=o,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},l.resolve=v,l.reject=_,l.all=m,l.race=y},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}var o=a();function s(){try{if(!o||!o.open)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}function u(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<t.length;i+=1)n.append(t[i]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var l=Promise;function h(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}function c(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function f(t){return"string"!=typeof t&&(t=String(t)),t}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",v=void 0,_={},m=Object.prototype.toString,y="readonly",g="readwrite";function b(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function x(t){return new l((function(e){var n=t.transaction(p,g),i=u([""]);n.objectStore(p).put(i,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})).catch((function(){return!1}))}function w(t){return"boolean"==typeof v?l.resolve(v):x(t).then((function(t){return v=t}))}function E(t){var e=_[t.name],n={};n.promise=new l((function(t,e){n.resolve=t,n.reject=e})),e.deferredOperations.push(n),e.dbReady?e.dbReady=e.dbReady.then((function(){return n.promise})):e.dbReady=n.promise}function S(t){var e=_[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function k(t,e){var n=_[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function T(t,e){return new l((function(n,i){if(_[t.name]=_[t.name]||L(),t.db){if(!e)return n(t.db);E(t),t.db.close()}var r=[t.name];e&&r.push(t.version);var a=o.open.apply(o,r);e&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(p)}catch(t){if("ConstraintError"!==t.name)throw t}}),a.onerror=function(t){t.preventDefault(),i(a.error)},a.onsuccess=function(){n(a.result),S(t)}}))}function A(t){return T(t,!1)}function R(t){return T(t,!0)}function I(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),i=t.version<t.db.version,r=t.version>t.db.version;if(i&&(t.version,t.version=t.db.version),r||n){if(n){var a=t.db.version+1;a>t.version&&(t.version=a)}return!0}return!1}function C(t){return new l((function(e,n){var i=new FileReader;i.onerror=n,i.onloadend=function(n){var i=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:i,type:t.type})},i.readAsBinaryString(t)}))}function P(t){return u([b(atob(t.data))],{type:t.type})}function M(t){return t&&t.__local_forage_encoded_blob}function O(t){var e=this,n=e._initReady().then((function(){var t=_[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady}));return c(n,t,t),n}function D(t){E(t);for(var e=_[t.name],n=e.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return t.db=null,A(t).then((function(e){return t.db=e,I(t)?R(t):e})).then((function(i){t.db=e.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(e){throw k(t,e),e}))}function N(t,e,n,i){void 0===i&&(i=1);try{var r=t.db.transaction(t.storeName,e);n(null,r)}catch(r){if(i>0&&(!t.db||"InvalidStateError"===r.name||"NotFoundError"===r.name))return l.resolve().then((function(){if(!t.db||"NotFoundError"===r.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),R(t)})).then((function(){return D(t).then((function(){N(t,e,n,i-1)}))})).catch(n);n(r)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function F(t){var e=this,n={db:null};if(t)for(var i in t)n[i]=t[i];var r=_[n.name];r||(r=L(),_[n.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=O);var a=[];function o(){return l.resolve()}for(var s=0;s<r.forages.length;s++){var u=r.forages[s];u!==e&&a.push(u._initReady().catch(o))}var h=r.forages.slice(0);return l.all(a).then((function(){return n.db=r.db,A(n)})).then((function(t){return n.db=t,I(n,e._defaultConfig.version)?R(n):t})).then((function(t){n.db=r.db=t,e._dbInfo=n;for(var i=0;i<h.length;i++){var a=h[i];a!==e&&(a._dbInfo.db=n.db,a._dbInfo.version=n.version)}}))}function B(t,e){var n=this;t=f(t);var i=new l((function(e,i){n.ready().then((function(){N(n._dbInfo,y,(function(r,a){if(r)return i(r);try{var o=a.objectStore(n._dbInfo.storeName).get(t);o.onsuccess=function(){var t=o.result;void 0===t&&(t=null),M(t)&&(t=P(t)),e(t)},o.onerror=function(){i(o.error)}}catch(t){i(t)}}))})).catch(i)}));return h(i,e),i}function V(t,e){var n=this,i=new l((function(e,i){n.ready().then((function(){N(n._dbInfo,y,(function(r,a){if(r)return i(r);try{var o=a.objectStore(n._dbInfo.storeName).openCursor(),s=1;o.onsuccess=function(){var n=o.result;if(n){var i=n.value;M(i)&&(i=P(i));var r=t(i,n.key,s++);void 0!==r?e(r):n.continue()}else e()},o.onerror=function(){i(o.error)}}catch(t){i(t)}}))})).catch(i)}));return h(i,e),i}function U(t,e,n){var i=this;t=f(t);var r=new l((function(n,r){var a;i.ready().then((function(){return a=i._dbInfo,"[object Blob]"===m.call(e)?w(a.db).then((function(t){return t?e:C(e)})):e})).then((function(e){N(i._dbInfo,g,(function(a,o){if(a)return r(a);try{var s=o.objectStore(i._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);o.oncomplete=function(){void 0===e&&(e=null),n(e)},o.onabort=o.onerror=function(){var t=u.error?u.error:u.transaction.error;r(t)}}catch(t){r(t)}}))})).catch(r)}));return h(r,n),r}function X(t,e){var n=this;t=f(t);var i=new l((function(e,i){n.ready().then((function(){N(n._dbInfo,g,(function(r,a){if(r)return i(r);try{var o=a.objectStore(n._dbInfo.storeName).delete(t);a.oncomplete=function(){e()},a.onerror=function(){i(o.error)},a.onabort=function(){var t=o.error?o.error:o.transaction.error;i(t)}}catch(t){i(t)}}))})).catch(i)}));return h(i,e),i}function Y(t){var e=this,n=new l((function(t,n){e.ready().then((function(){N(e._dbInfo,g,(function(i,r){if(i)return n(i);try{var a=r.objectStore(e._dbInfo.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=a.error?a.error:a.transaction.error;n(t)}}catch(t){n(t)}}))})).catch(n)}));return h(n,t),n}function j(t){var e=this,n=new l((function(t,n){e.ready().then((function(){N(e._dbInfo,y,(function(i,r){if(i)return n(i);try{var a=r.objectStore(e._dbInfo.storeName).count();a.onsuccess=function(){t(a.result)},a.onerror=function(){n(a.error)}}catch(t){n(t)}}))})).catch(n)}));return h(n,t),n}function G(t,e){var n=this,i=new l((function(e,i){t<0?e(null):n.ready().then((function(){N(n._dbInfo,y,(function(r,a){if(r)return i(r);try{var o=a.objectStore(n._dbInfo.storeName),s=!1,u=o.openKeyCursor();u.onsuccess=function(){var n=u.result;n?0===t||s?e(n.key):(s=!0,n.advance(t)):e(null)},u.onerror=function(){i(u.error)}}catch(t){i(t)}}))})).catch(i)}));return h(i,e),i}function H(t){var e=this,n=new l((function(t,n){e.ready().then((function(){N(e._dbInfo,y,(function(i,r){if(i)return n(i);try{var a=r.objectStore(e._dbInfo.storeName).openKeyCursor(),o=[];a.onsuccess=function(){var e=a.result;e?(o.push(e.key),e.continue()):t(o)},a.onerror=function(){n(a.error)}}catch(t){n(t)}}))})).catch(n)}));return h(n,t),n}function W(t,e){e=d.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;if(t.name){var a=t.name===n.name&&r._dbInfo.db?l.resolve(r._dbInfo.db):A(t).then((function(e){var n=_[t.name],i=n.forages;n.db=e;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=e;return e}));i=t.storeName?a.then((function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;E(t);var i=_[t.name],r=i.forages;e.close();for(var a=0;a<r.length;a++){var s=r[a];s._dbInfo.db=null,s._dbInfo.version=n}return new l((function(e,i){var r=o.open(t.name,n);r.onerror=function(t){r.result.close(),i(t)},r.onupgradeneeded=function(){r.result.deleteObjectStore(t.storeName)},r.onsuccess=function(){var t=r.result;t.close(),e(t)}})).then((function(t){i.db=t;for(var e=0;e<r.length;e++){var n=r[e];n._dbInfo.db=t,S(n._dbInfo)}})).catch((function(e){throw(k(t,e)||l.resolve()).catch((function(){})),e}))}})):a.then((function(e){E(t);var n=_[t.name],i=n.forages;e.close();for(var r=0;r<i.length;r++)i[r]._dbInfo.db=null;return new l((function(e,n){var i=o.deleteDatabase(t.name);i.onerror=i.onblocked=function(t){var e=i.result;e&&e.close(),n(t)},i.onsuccess=function(){var t=i.result;t&&t.close(),e(t)}})).then((function(t){n.db=t;for(var e=0;e<i.length;e++)S(i[e]._dbInfo)})).catch((function(e){throw(k(t,e)||l.resolve()).catch((function(){})),e}))}))}else i=l.reject("Invalid arguments");return h(i,e),i}var z={_driver:"asyncStorage",_initStorage:F,_support:s(),iterate:V,getItem:B,setItem:U,removeItem:X,clear:Y,length:j,key:G,keys:H,dropInstance:W};function q(){return"function"==typeof openDatabase}var Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K="~~local_forage_type~",$=/^~~local_forage_type~([^~]+)~/,Q="__lfsc__:",J=Q.length,tt="arbf",et="blob",nt="si08",it="ui08",rt="uic8",at="si16",ot="si32",st="ur16",ut="ui32",lt="fl32",ht="fl64",ct=J+tt.length,ft=Object.prototype.toString;function dt(t){var e,n,i,r,a,o=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var l=new ArrayBuffer(o),h=new Uint8Array(l);for(e=0;e<s;e+=4)n=Z.indexOf(t[e]),i=Z.indexOf(t[e+1]),r=Z.indexOf(t[e+2]),a=Z.indexOf(t[e+3]),h[u++]=n<<2|i>>4,h[u++]=(15&i)<<4|r>>2,h[u++]=(3&r)<<6|63&a;return l}function pt(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=Z[n[e]>>2],i+=Z[(3&n[e])<<4|n[e+1]>>4],i+=Z[(15&n[e+1])<<2|n[e+2]>>6],i+=Z[63&n[e+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}function vt(t,e){var n="";if(t&&(n=ft.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===ft.call(t.buffer))){var i,r=Q;t instanceof ArrayBuffer?(i=t,r+=tt):(i=t.buffer,"[object Int8Array]"===n?r+=nt:"[object Uint8Array]"===n?r+=it:"[object Uint8ClampedArray]"===n?r+=rt:"[object Int16Array]"===n?r+=at:"[object Uint16Array]"===n?r+=st:"[object Int32Array]"===n?r+=ot:"[object Uint32Array]"===n?r+=ut:"[object Float32Array]"===n?r+=lt:"[object Float64Array]"===n?r+=ht:e(new Error("Failed to get type for BinaryArray"))),e(r+pt(i))}else if("[object Blob]"===n){var a=new FileReader;a.onload=function(){var n=K+t.type+"~"+pt(this.result);e(Q+et+n)},a.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(t){e(null,t)}}function _t(t){if(t.substring(0,J)!==Q)return JSON.parse(t);var e,n=t.substring(ct),i=t.substring(J,ct);if(i===et&&$.test(n)){var r=n.match($);e=r[1],n=n.substring(r[0].length)}var a=dt(n);switch(i){case tt:return a;case et:return u([a],{type:e});case nt:return new Int8Array(a);case it:return new Uint8Array(a);case rt:return new Uint8ClampedArray(a);case at:return new Int16Array(a);case st:return new Uint16Array(a);case ot:return new Int32Array(a);case ut:return new Uint32Array(a);case lt:return new Float32Array(a);case ht:return new Float64Array(a);default:throw new Error("Unkown type: "+i)}}var mt={serialize:vt,deserialize:_t,stringToBuffer:dt,bufferToString:pt};function yt(t,e,n,i){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function gt(t){var e=this,n={db:null};if(t)for(var i in t)n[i]="string"!=typeof t[i]?t[i].toString():t[i];var r=new l((function(t,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(t){return i(t)}n.db.transaction((function(r){yt(r,n,(function(){e._dbInfo=n,t()}),(function(t,e){i(e)}))}),i)}));return n.serializer=mt,r}function bt(t,e,n,i,r,a){t.executeSql(n,i,r,(function(t,o){o.code===o.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[e.storeName],(function(t,s){s.rows.length?a(t,o):yt(t,e,(function(){t.executeSql(n,i,r,a)}),a)}),a):a(t,o)}),a)}function xt(t,e){var n=this;t=f(t);var i=new l((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){bt(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],(function(t,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return h(i,e),i}function wt(t,e){var n=this,i=new l((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){bt(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var a=i.rows,o=a.length,s=0;s<o;s++){var u=a.item(s),l=u.value;if(l&&(l=r.serializer.deserialize(l)),void 0!==(l=t(l,u.key,s+1)))return void e(l)}e()}),(function(t,e){i(e)}))}))})).catch(i)}));return h(i,e),i}function Et(t,e,n,i){var r=this;t=f(t);var a=new l((function(a,o){r.ready().then((function(){void 0===e&&(e=null);var s=e,u=r._dbInfo;u.serializer.serialize(e,(function(e,l){l?o(l):u.db.transaction((function(n){bt(n,u,"INSERT OR REPLACE INTO "+u.storeName+" (key, value) VALUES (?, ?)",[t,e],(function(){a(s)}),(function(t,e){o(e)}))}),(function(e){if(e.code===e.QUOTA_ERR){if(i>0)return void a(Et.apply(r,[t,s,n,i-1]));o(e)}}))}))})).catch(o)}));return h(a,n),a}function St(t,e,n){return Et.apply(this,[t,e,n,1])}function kt(t,e){var n=this;t=f(t);var i=new l((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){bt(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[t],(function(){e()}),(function(t,e){i(e)}))}))})).catch(i)}));return h(i,e),i}function Tt(t){var e=this,n=new l((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){bt(e,i,"DELETE FROM "+i.storeName,[],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return h(n,t),n}function At(t){var e=this,n=new l((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){bt(e,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(e,n){var i=n.rows.item(0).c;t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return h(n,t),n}function Rt(t,e){var n=this,i=new l((function(e,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){bt(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],(function(t,n){var i=n.rows.length?n.rows.item(0).key:null;e(i)}),(function(t,e){i(e)}))}))})).catch(i)}));return h(i,e),i}function It(t){var e=this,n=new l((function(t,n){e.ready().then((function(){var i=e._dbInfo;i.db.transaction((function(e){bt(e,i,"SELECT key FROM "+i.storeName,[],(function(e,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return h(n,t),n}function Ct(t){return new l((function(e,n){t.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],a=0;a<i.rows.length;a++)r.push(i.rows.item(a).name);e({db:t,storeNames:r})}),(function(t,e){n(e)}))}),(function(t){n(t)}))}))}function Pt(t,e){e=d.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var i,r=this;return h(i=t.name?new l((function(e){var i;i=t.name===n.name?r._dbInfo.db:openDatabase(t.name,"","",0),t.storeName?e({db:i,storeNames:[t.storeName]}):e(Ct(i))})).then((function(t){return new l((function(e,n){t.db.transaction((function(i){function r(t){return new l((function(e,n){i.executeSql("DROP TABLE IF EXISTS "+t,[],(function(){e()}),(function(t,e){n(e)}))}))}for(var a=[],o=0,s=t.storeNames.length;o<s;o++)a.push(r(t.storeNames[o]));l.all(a).then((function(){e()})).catch((function(t){n(t)}))}),(function(t){n(t)}))}))})):l.reject("Invalid arguments"),e),i}var Mt={_driver:"webSQLStorage",_initStorage:gt,_support:q(),iterate:wt,getItem:xt,setItem:St,removeItem:kt,clear:Tt,length:At,key:Rt,keys:It,dropInstance:Pt};function Ot(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}function Dt(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}function Nt(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),!1}catch(t){return!0}}function Lt(){return!Nt()||localStorage.length>0}function Ft(t){var e=this,n={};if(t)for(var i in t)n[i]=t[i];return n.keyPrefix=Dt(t,e._defaultConfig),Lt()?(e._dbInfo=n,n.serializer=mt,l.resolve()):l.reject()}function Bt(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(t)&&localStorage.removeItem(i)}}));return h(n,t),n}function Vt(t,e){var n=this;t=f(t);var i=n.ready().then((function(){var e=n._dbInfo,i=localStorage.getItem(e.keyPrefix+t);return i&&(i=e.serializer.deserialize(i)),i}));return h(i,e),i}function Ut(t,e){var n=this,i=n.ready().then((function(){for(var e=n._dbInfo,i=e.keyPrefix,r=i.length,a=localStorage.length,o=1,s=0;s<a;s++){var u=localStorage.key(s);if(0===u.indexOf(i)){var l=localStorage.getItem(u);if(l&&(l=e.serializer.deserialize(l)),void 0!==(l=t(l,u.substring(r),o++)))return l}}}));return h(i,e),i}function Xt(t,e){var n=this,i=n.ready().then((function(){var e,i=n._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(i.keyPrefix.length)),e}));return h(i,e),i}function Yt(t){var e=this,n=e.ready().then((function(){for(var t=e._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var a=localStorage.key(r);0===a.indexOf(t.keyPrefix)&&i.push(a.substring(t.keyPrefix.length))}return i}));return h(n,t),n}function jt(t){var e=this.keys().then((function(t){return t.length}));return h(e,t),e}function Gt(t,e){var n=this;t=f(t);var i=n.ready().then((function(){var e=n._dbInfo;localStorage.removeItem(e.keyPrefix+t)}));return h(i,e),i}function Ht(t,e,n){var i=this;t=f(t);var r=i.ready().then((function(){void 0===e&&(e=null);var n=e;return new l((function(r,a){var o=i._dbInfo;o.serializer.serialize(e,(function(e,i){if(i)a(i);else try{localStorage.setItem(o.keyPrefix+t,e),r(n)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||a(t),a(t)}}))}))}));return h(r,n),r}function Wt(t,e){if(e=d.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var i,r=this;return h(i=t.name?new l((function(e){t.storeName?e(Dt(t,r._defaultConfig)):e(t.name+"/")})).then((function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}})):l.reject("Invalid arguments"),e),i}var zt={_driver:"localStorageWrapper",_initStorage:Ft,_support:Ot(),iterate:Ut,getItem:Vt,setItem:Ht,removeItem:Gt,clear:Bt,length:jt,key:Xt,keys:Yt,dropInstance:Wt},qt=function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)},Zt=function(t,e){for(var n=t.length,i=0;i<n;){if(qt(t[i],e))return!0;i++}return!1},Kt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},$t={},Qt={},Jt={INDEXEDDB:z,WEBSQL:Mt,LOCALSTORAGE:zt},te=[Jt.INDEXEDDB._driver,Jt.WEBSQL._driver,Jt.LOCALSTORAGE._driver],ee=["dropInstance"],ne=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ee),ie={description:"",driver:te.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function re(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function ae(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(Kt(e[n])?arguments[0][n]=e[n].slice():arguments[0][n]=e[n])}return arguments[0]}var oe=new(function(){function t(e){for(var n in r(this,t),Jt)if(Jt.hasOwnProperty(n)){var i=Jt[n],a=i._driver;this[n]=a,$t[a]||this.defineDriver(i)}this._defaultConfig=ae({},ie),this._config=ae({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":i(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t)||!t.driver||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var i=new l((function(e,n){try{var i=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(r);for(var a=ne.concat("_initStorage"),o=0,s=a.length;o<s;o++){var u=a[o];if((!Zt(ee,u)||t[u])&&"function"!=typeof t[u])return void n(r)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=l.reject(e);return h(n,arguments[arguments.length-1]),n}},n=0,i=ee.length;n<i;n++){var r=ee[n];t[r]||(t[r]=e(r))}}();var c=function(n){$t[i],$t[i]=t,Qt[i]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(c,n):c(!!t._support):c(!0)}catch(t){n(t)}}));return c(i,e,n),i},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var i=$t[t]?l.resolve($t[t]):l.reject(new Error("Driver not found."));return c(i,e,n),i},t.prototype.getSerializer=function(t){var e=l.resolve(mt);return c(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return c(n,t,t),n},t.prototype.setDriver=function(t,e,n){var i=this;Kt(t)||(t=[t]);var r=this._getSupportedDrivers(t);function a(){i._config.driver=i.driver()}function o(t){return i._extend(t),a(),i._ready=i._initStorage(i._config),i._ready}function s(t){return function(){var e=0;function n(){for(;e<t.length;){var r=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(o).catch(n)}a();var s=new Error("No available storage method found.");return i._driverSet=l.reject(s),i._driverSet}return n()}}var u=null!==this._driverSet?this._driverSet.catch((function(){return l.resolve()})):l.resolve();return this._driverSet=u.then((function(){var t=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,a(),i._wrapLibraryMethodsWithReady(),i._initDriver=s(r)}))})).catch((function(){a();var t=new Error("No available storage method found.");return i._driverSet=l.reject(t),i._driverSet})),c(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!Qt[t]},t.prototype._extend=function(t){ae(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=ne.length;t<e;t++)re(this,ne[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=oe},{3:3}]},{},[4])(4)},2940:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(e,n,r){void 0===n&&(n=!1),i(this,t),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return n(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function a(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var o=function(){function t(){i(this,t),this._head=this._tail=void 0}return n(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:"has",value:function(t){if(!(t instanceof r))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return a(this,new r(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return a(this,new r(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof r))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();o.MiniSignalBinding=r,e.default=o,t.exports=e.default},4078:function(t,e,n){"use strict";var i=n(4029),r=n(2473),a=n(7642),o=n(6057),s=function(t){r(!1,t)},u=String.prototype.replace,l=String.prototype.split,h="||||",c=function(t){var e=t%100,n=e%10;return 11!==e&&1===n?0:2<=n&&n<=4&&!(e>=12&&e<=14)?1:2},f={pluralTypes:{arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:c,chinese:function(){return 0},croatian:c,french:function(t){return t>1?1:0},german:function(t){return 1!==t?1:0},russian:c,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function d(t,e){var n,r,a=(n=t.pluralTypeToLanguages,r={},i(n,(function(t,e){i(t,(function(t){r[t]=e}))})),r);return a[e]||a[l.call(e,/-/,1)[0]]||a.en}function p(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var v=/%\{(.*?)\}/g;function _(t,e,n,i,r){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var s=t,c=i||v,p=r||f,_="number"==typeof e?{smart_count:e}:e;if(null!=_.smart_count&&s){var m=l.call(s,h);s=o(m[function(t,e,n){return t.pluralTypes[d(t,e)](n)}(p,n||"en",_.smart_count)]||m[0])}return s=u.call(s,c,(function(t,e){return a(_,e)&&null!=_[e]?_[e]:t}))}function m(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en";var n=e.allowMissing?_:null;this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:n,this.warn=e.warn||s,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",n=t&&t.suffix||"}";if(e===h||n===h)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(p(e)+"(.*?)"+p(n),"g")}(e.interpolation),this.pluralRules=e.pluralRules||f}m.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},m.prototype.extend=function(t,e){i(t,(function(t,n){var i=e?e+"."+n:n;"object"==typeof t?this.extend(t,i):this.phrases[i]=t}),this)},m.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:i(t,(function(t,n){var i=e?e+"."+n:n;"object"==typeof t?this.unset(t,i):delete this.phrases[i]}),this)},m.prototype.clear=function(){this.phrases={}},m.prototype.replace=function(t){this.clear(),this.extend(t)},m.prototype.t=function(t,e){var n,i,r=null==e?{}:e;if("string"==typeof this.phrases[t])n=this.phrases[t];else if("string"==typeof r._)n=r._;else if(this.onMissingKey){i=(0,this.onMissingKey)(t,r,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+t+'"'),i=t;return"string"==typeof n&&(i=_(n,r,this.currentLocale,this.tokenRegex,this.pluralRules)),i},m.prototype.has=function(t){return a(this.phrases,t)},m.transformPhrase=function(t,e,n){return _(t,e,n)},t.exports=m},7418:function(t){"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(t){i[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,a){for(var o,s,u=r(t),l=1;l<arguments.length;l++){for(var h in o=Object(arguments[l]))n.call(o,h)&&(u[h]=o[h]);if(e){s=e(o);for(var c=0;c<s.length;c++)i.call(o,s[c])&&(u[s[c]]=o[s[c]])}}return u}},8987:function(t,e,n){"use strict";var i;if(!Object.keys){var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=n(1414),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),h=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{c(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();i=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===a.call(t),i=o(t),s=e&&"[object String]"===a.call(t),f=[];if(!e&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var p=l&&n;if(s&&t.length>0&&!r.call(t,0))for(var v=0;v<t.length;++v)f.push(String(v));if(i&&t.length>0)for(var _=0;_<t.length;++_)f.push(String(_));else for(var m in t)p&&"prototype"===m||!r.call(t,m)||f.push(String(m));if(u)for(var y=function(t){if("undefined"==typeof window||!d)return c(t);try{return c(t)}catch(t){return!1}}(t),g=0;g<h.length;++g)y&&"constructor"===h[g]||!r.call(t,h[g])||f.push(h[g]);return f}}t.exports=i},2215:function(t,e,n){"use strict";var i=Array.prototype.slice,r=n(1414),a=Object.keys,o=a?function(t){return a(t)}:n(8987),s=Object.keys;o.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return r(t)?s(i.call(t)):s(t)}):Object.keys=o;return Object.keys||o},t.exports=o},1414:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),i="[object Arguments]"===n;return i||(i="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),i}},9571:function(t){"use strict";t.exports=function(t,e){if(t){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[e.strictMode?"strict":"loose"].exec(t),r={},a=14;a--;)r[n.key[a]]=i[a]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,(function(t,e,i){e&&(r[n.q.name][e]=i)})),r}}},2374:function(t){(function(){var e;(function(e){t.exports=e})(e={linear:function(t,e,n,i){return n*t/i+e},easeInQuad:function(t,e,n,i){return n*(t/=i)*t+e},easeOutQuad:function(t,e,n,i){return-n*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,i){return n*(t/=i)*t*t+e},easeOutCubic:function(t,e,n,i){return n*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,i){return n*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,n,i){return-n*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,i){return n*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,n,i){return n*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,i){return(t/=i/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,n,i){return-n*Math.cos(t/i*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,i){return n*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,n,i){return-n/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,n,i){return 0===t?e:n*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,n,i){return t===i?e+n:n*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,n,i){return(t/=i/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,i){return-n*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,n,i){return n*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,n,i){return(t/=i/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(t,e,n,i){var r,a,o;return o=1.70158,0===t||(t/=i),(a=0)||(a=.3*i),(r=n)<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),-r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)+e},easeOutElastic:function(t,e,n,i){var r,a,o;return o=1.70158,0===t||(t/=i),(a=0)||(a=.3*i),(r=n)<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),r*Math.pow(2,-10*t)*Math.sin((t*i-o)*(2*Math.PI)/a)+n+e},easeInOutElastic:function(t,e,n,i){var r,a,o;return o=1.70158,0===t||(t/=i/2),(a=0)||(a=i*(.3*1.5)),(r=n)<Math.abs(n)?(r=n,o=a/4):o=a/(2*Math.PI)*Math.asin(n/r),t<1?r*Math.pow(2,10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*-.5+e:r*Math.pow(2,-10*(t-=1))*Math.sin((t*i-o)*(2*Math.PI)/a)*.5+n+e},easeInBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),n*(t/=i)*t*((r+1)*t-r)+e},easeOutBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),n*((t=t/i-1)*t*((r+1)*t+r)+1)+e},easeInOutBack:function(t,e,n,i,r){return void 0===r&&(r=1.70158),(t/=i/2)<1?n/2*(t*t*((1+(r*=1.525))*t-r))+e:n/2*((t-=2)*t*((1+(r*=1.525))*t+r)+2)+e},easeInBounce:function(t,n,i,r){return i-e.easeOutBounce(r-t,0,i,r)+n},easeOutBounce:function(t,e,n,i){return(t/=i)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,n,i,r){return t<r/2?.5*e.easeInBounce(2*t,0,i,r)+n:.5*e.easeOutBounce(2*t-r,0,i,r)+.5*i+n}})}).call(this)},2587:function(t){"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,n,i,r){n=n||"&",i=i||"=";var a={};if("string"!=typeof t||0===t.length)return a;var o=/\+/g;t=t.split(n);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var h,c,f,d,p=t[l].replace(o,"%20"),v=p.indexOf(i);v>=0?(h=p.substr(0,v),c=p.substr(v+1)):(h=p,c=""),f=decodeURIComponent(h),d=decodeURIComponent(c),e(a,f)?Array.isArray(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a}},2361:function(t){"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,n,i,r){return n=n||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(r){var a=encodeURIComponent(e(r))+i;return Array.isArray(t[r])?t[r].map((function(t){return a+encodeURIComponent(e(t))})).join(n):a+encodeURIComponent(e(t[r]))})).join(n):r?encodeURIComponent(e(r))+i+encodeURIComponent(e(t)):""}},7673:function(t,e,n){"use strict";e.decode=e.parse=n(2587),e.encode=e.stringify=n(2361)},5666:function(t){var e=function(t){"use strict";var e,n=Object.prototype,i=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,i){var r=e&&e.prototype instanceof _?e:_,a=Object.create(r.prototype),o=new R(i||[]);return a._invoke=function(t,e,n){var i=c;return function(r,a){if(i===d)throw new Error("Generator is already running");if(i===p){if("throw"===r)throw a;return C()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===c)throw i=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=d;var u=h(t,e,n);if("normal"===u.type){if(i=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=p,n.method="throw",n.arg=u.arg)}}}(t,n,o),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var c="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function _(){}function m(){}function y(){}var g={};g[a]=function(){return this};var b=Object.getPrototypeOf,x=b&&b(b(I([])));x&&x!==n&&i.call(x,a)&&(g=x);var w=y.prototype=_.prototype=Object.create(g);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,a,o,s){var u=h(t[r],t,a);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==typeof c&&i.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(c).then((function(t){l.value=t,o(l)}),(function(t){return n("throw",t,o,s)}))}s(u.arg)}var r;this._invoke=function(t,i){function a(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(a,a):a()}}function k(t,n){var i=t.iterator[n.method];if(i===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var r=h(i,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,v;var a=r.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function I(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:C}}function C(){return{value:e,done:!0}}return m.prototype=w.constructor=y,y.constructor=m,m.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(S.prototype),S.prototype[o]=function(){return this},t.AsyncIterator=S,t.async=function(e,n,i,r,a){void 0===a&&(a=Promise);var o=new S(l(e,n,i,r),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},E(w),u(w,s,"Generator"),w[a]=function(){return this},w.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var i=e.pop();if(i in t)return n.value=i,n.done=!1,n}return n.done=!0,n}},t.values=I,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var u=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:I(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),v}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}},1040:function(t,e,n){"use strict";var i=n(3733),r=n(7308),a=n(1924)("String.prototype.replace"),o=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,s=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;t.exports=function(){var t=r(i(this));return a(a(t,o,""),s,"")}},6057:function(t,e,n){"use strict";var i=n(5559),r=n(4289),a=n(1040),o=n(254),s=n(29),u=i(o());r(u,{getPolyfill:o,implementation:a,shim:s}),t.exports=u},254:function(t,e,n){"use strict";var i=n(1040);t.exports=function(){return String.prototype.trim&&"\u200b"==="\u200b".trim()?String.prototype.trim:i}},29:function(t,e,n){"use strict";var i=n(4289),r=n(254);t.exports=function(){var t=r();return i(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}},3379:function(t,e,n){"use strict";var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function s(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},i=[],r=0;r<t.length;r++){var a=t[r],u=e.base?a[0]+e.base:a[0],l=n[u]||0,h="".concat(u," ").concat(l);n[u]=l+1;var c=s(h),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==c?(o[c].references++,o[c].updater(f)):o.push({identifier:h,updater:_(f,e),references:1}),i.push(h)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var o=a(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var h,c=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function f(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=c(e,r);else{var a=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function d(t,e,n){var i=n.css,r=n.media,a=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,v=0;function _(t,e){var n,i,r;if(e.singleton){var a=v++;n=p||(p=l(e)),i=f.bind(null,n,a,!1),r=f.bind(null,n,a,!0)}else n=l(e),i=d.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=s(n[i]);o[r].references--}for(var a=u(t,e),l=0;l<n.length;l++){var h=s(n[l]);0===o[h].references&&(o[h].updater(),o.splice(h,1))}n=a}}}},6498:function(t,e){!function(t){"use strict";class e{constructor(t){const[e,n]=t.split("-"),i=e.split(".");this.major=parseInt(i[0],10),this.minor=parseInt(i[1],10),this.patch=parseInt(i[2],10),this.prerelease=null!=n?n:null}toString(){const t=[this.major,this.minor,this.patch].join(".");return null!==this.prerelease?[t,this.prerelease].join("-"):t}}class n{constructor(t){this.controller_=t}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(t){this.controller_.viewProps.set("disabled",t)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(t){this.controller_.viewProps.set("hidden",t)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class i{constructor(t){this.target=t}}class r extends i{constructor(t,e,n){super(t),this.value=e,this.presetKey=n}}class a extends i{constructor(t,e,n){super(t),this.value=e,this.presetKey=n}}class o extends i{constructor(t,e){super(t),this.expanded=e}}function s(t){return t}function u(t){return null==t}function l(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}const h={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class c{constructor(t){var e;this.message=null!==(e=h[t.type](s(t.context)))&&void 0!==e?e:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}static alreadyDisposed(){return new c({type:"alreadydisposed"})}static notBindable(){return new c({type:"notbindable"})}static propertyNotFound(t){return new c({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new c({type:"shouldneverhappen"})}}class f{constructor(t,e,n){this.obj_=t,this.key_=e,this.presetKey_=null!=n?n:e}static isBindable(t){return null!==t&&"object"==typeof t}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(t){this.obj_[this.key_]=t}writeProperty(t,e){const n=this.read();if(!f.isBindable(n))throw c.notBindable();if(!(t in n))throw c.propertyNotFound(t);n[t]=e}}class d extends n{get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(t){this.controller_.viewProps.set("disabled",t)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(t){this.controller_.viewProps.set("hidden",t)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get title(){var t;return null!==(t=this.controller_.valueController.props.get("title"))&&void 0!==t?t:""}set title(t){this.controller_.valueController.props.set("title",t)}on(t,e){const n=e.bind(this);return this.controller_.valueController.emitter.on(t,(()=>{n(new i(this))})),this}}class p{constructor(){this.observers_={}}on(t,e){let n=this.observers_[t];return n||(n=this.observers_[t]=[]),n.push({handler:e}),this}off(t,e){const n=this.observers_[t];return n&&(this.observers_[t]=n.filter((t=>t.handler!==e))),this}emit(t,e){const n=this.observers_[t];n&&n.forEach((t=>{t.handler(e)}))}}class v{constructor(t,e){var n;this.constraint_=null==e?void 0:e.constraint,this.equals_=null!==(n=null==e?void 0:e.equals)&&void 0!==n?n:(t,e)=>t===e,this.emitter=new p,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){const e=this.constraint_?this.constraint_.constrain(t):t;!this.equals_(this.rawValue_,e)&&(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=e,this.emitter.emit("change",{rawValue:e,sender:this}))}}class _{constructor(t){this.emitter=new p,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.value_!==t&&(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{sender:this,rawValue:this.value_}))}}function m(t,e){const n=null==e?void 0:e.constraint,i=null==e?void 0:e.equals;return n||i?new v(t,e):new _(t)}class y{constructor(t){this.emitter=new p,this.valMap_=t;for(const t in this.valMap_)this.valMap_[t].emitter.on("change",(()=>{this.emitter.emit("change",{key:t,sender:this})}))}static createCore(t){return Object.keys(t).reduce(((e,n)=>Object.assign(e,{[n]:m(t[n])})),{})}static fromObject(t){const e=this.createCore(t);return new y(e)}get(t){return this.valMap_[t].rawValue}set(t,e){this.valMap_[t].rawValue=e}value(t){return this.valMap_[t]}}function g(t,e){return s(Object.keys(e).reduce(((n,i)=>{if(void 0===n)return;const r=(0,e[i])(t[i]);return r.succeeded?Object.assign(Object.assign({},n),{[i]:r.value}):void 0}),{}))}function b(t,e){return t.reduce(((t,n)=>{if(void 0===t)return;const i=e(n);return i.succeeded&&void 0!==i.value?[...t,i.value]:void 0}),[])}function x(t){return null!==t&&"object"==typeof t}function w(t){return e=>n=>{if(!e&&void 0===n)return{succeeded:!1,value:void 0};if(e&&void 0===n)return{succeeded:!0,value:void 0};const i=t(n);return void 0!==i?{succeeded:!0,value:i}:{succeeded:!1,value:void 0}}}function E(t){return{custom:e=>w(e)(t),boolean:w((t=>"boolean"==typeof t?t:void 0))(t),number:w((t=>"number"==typeof t?t:void 0))(t),string:w((t=>"string"==typeof t?t:void 0))(t),function:w((t=>"function"==typeof t?t:void 0))(t),constant:e=>w((t=>t===e?e:void 0))(t),raw:w((t=>t))(t),object:e=>w((t=>{if(x(t))return g(t,e)}))(t),array:e=>w((t=>{if(Array.isArray(t))return b(t,e)}))(t)}}const S={optional:E(!0),required:E(!1)};function k(t,e){const n=S.required.object(e)(t);return n.succeeded?n.value:void 0}function T(t){return t&&t.parentElement&&t.parentElement.removeChild(t),null}const A="tp";function R(t){return(e,n)=>[A,"-",t,"v",e?`_${e}`:"",n?`-${n}`:""].join("")}function I(){return["veryfirst","first","last","verylast"]}const C=R(""),P={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class M{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const e=this.view.element;this.blade.value("positions").emitter.on("change",(()=>{I().forEach((t=>{e.classList.remove(C(void 0,P[t]))})),this.blade.get("positions").forEach((t=>{e.classList.add(C(void 0,P[t]))}))})),this.viewProps.handleDispose((()=>{T(e)}))}get parent(){return this.parent_}}const O="http://www.w3.org/2000/svg";function D(t){t.offsetHeight}function N(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function L(t){return void 0!==t.ontouchstart}function F(){return new Function("return this")()}function B(){return s(F()).document}function V(){return"document"in F()}function U(t){return V()?t.getContext("2d"):null}const X={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Y(t,e){const n=t.createElementNS(O,"svg");return n.innerHTML=X[e],n}function j(t,e,n){t.insertBefore(e,t.children[n])}function G(t){t.parentElement&&t.parentElement.removeChild(t)}function H(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function W(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function z(t){return t.relatedTarget?s(t.relatedTarget):"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function q(t,e){return n=>e(t(n))}function Z(t){return t.rawValue}function K(t,e){t.emitter.on("change",q(Z,e)),e(t.rawValue)}function $(t,e,n){K(t.value(e),n)}const Q=R("lbl");function J(t,e){const n=t.createDocumentFragment();return e.split("\n").map((e=>t.createTextNode(e))).forEach(((e,i)=>{i>0&&n.appendChild(t.createElement("br")),n.appendChild(e)})),n}class tt{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Q()),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("div");n.classList.add(Q("l")),$(e.props,"label",(e=>{u(e)?this.element.classList.add(Q(void 0,"nol")):(this.element.classList.remove(Q(void 0,"nol")),W(n),n.appendChild(J(t,e)))})),this.element.appendChild(n),this.labelElement=n;const i=t.createElement("div");i.classList.add(Q("v")),this.element.appendChild(i),this.valueElement=i}}class et extends M{constructor(t,e){const n=e.valueController.viewProps;super(Object.assign(Object.assign({},e),{view:new tt(t,{props:e.props,viewProps:n}),viewProps:n})),this.props=e.props,this.valueController=e.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}function nt(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function it(t,e){return n=>{nt(t,e,n)}}function rt(t,e){K(t,(t=>{e.textContent=null!=t?t:""}))}const at=R("btn");class ot{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(at()),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("button");n.classList.add(at("b")),e.viewProps.bindDisabled(n),rt(e.props.value("title"),n),this.element.appendChild(n),this.buttonElement=n}}class st{constructor(t,e){this.emitter=new p,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new ot(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}const ut={id:"button",type:"blade",accept(t){const e=S,n=k(t,{title:e.required.string,view:e.required.constant("button"),label:e.optional.string});return n?{params:n}:null},controller:t=>new et(t.document,{blade:t.blade,props:y.fromObject({label:t.params.label}),valueController:new st(t.document,{props:y.fromObject({title:t.params.title}),viewProps:t.viewProps})}),api:t=>t.controller instanceof et&&t.controller.valueController instanceof st?new d(t.controller):null};class lt extends M{constructor(t){super(t),this.value=t.value}}function ht(){return new y({positions:m([],{equals:l})})}function ct(t){return y.fromObject({expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null})}function ft(t,e){let n=0;return N(e,(()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),D(e),n=e.clientHeight,t.set("temporaryExpanded",null),D(e)})),n}function dt(t){var e;return null!==(e=t.get("temporaryExpanded"))&&void 0!==e?e:t.get("expanded")}function pt(t){if(!dt(t))return"0";const e=t.get("expandedHeight");return t.get("shouldFixHeight")&&!u(e)?`${e}px`:"auto"}function vt(t,e){e.style.height=pt(t)}function _t(t,e){t.value("expanded").emitter.on("beforechange",(()=>{u(t.get("expandedHeight"))&&t.set("expandedHeight",ft(t,e)),t.set("shouldFixHeight",!0),D(e)})),t.emitter.on("change",(()=>{vt(t,e)})),vt(t,e),e.addEventListener("transitionend",(e=>{"height"===e.propertyName&&(t.set("shouldFixHeight",!1),t.set("expandedHeight",null))}))}class mt extends n{constructor(t,e){super(t),this.rackApi_=e}}function yt(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function gt(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function bt(t,e){const n=e||{};return t.addBlade(Object.assign(Object.assign({},n),{view:"separator"}))}function xt(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}class wt{constructor(t){this.emitter=new p,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const e of this.allItems())if(t(e))return e;return null}includes(t){return this.cache_.has(t)}add(t,e){if(this.includes(t))throw c.shouldNeverHappen();const n=void 0!==e?e:this.items_.length;this.items_.splice(n,0,t),this.cache_.add(t);const i=this.extract_(t);i&&(i.emitter.on("add",this.onSubListAdd_),i.emitter.on("remove",this.onSubListRemove_),i.allItems().forEach((t=>{this.cache_.add(t)}))),this.emitter.emit("add",{index:n,item:t,root:this,target:this})}remove(t){const e=this.items_.indexOf(t);if(e<0)return;this.items_.splice(e,1),this.cache_.delete(t);const n=this.extract_(t);n&&(n.emitter.off("add",this.onSubListAdd_),n.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:e,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}class Et extends n{constructor(t){super(t),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new p,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,e){const n=e.bind(this);return this.emitter_.on(t,(t=>{n(t.event)})),this}refresh(){this.controller_.binding.read()}onBindingChange_(t){const e=t.sender.target.read();this.emitter_.emit("change",{event:new r(this,s(e),this.controller_.binding.target.presetKey)})}}class St extends et{constructor(t,e){super(t,e),this.binding=e.binding}}class kt extends n{constructor(t){super(t),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new p,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,e){const n=e.bind(this);return this.emitter_.on(t,(t=>{n(t.event)})),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(t){const e=t.sender.target.read();this.emitter_.emit("update",{event:new a(this,s(e),this.controller_.binding.target.presetKey)})}}class Tt extends et{constructor(t,e){super(t,e),this.binding=e.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose((()=>{this.binding.dispose()}))}}function At(t){return t instanceof Ct?t.apiSet_:t instanceof mt?t.rackApi_.apiSet_:null}function Rt(t,e){const n=t.find((t=>t.controller_===e));if(!n)throw c.shouldNeverHappen();return n}function It(t,e,n){if(!f.isBindable(t))throw c.notBindable();return new f(t,e,n)}class Ct extends n{constructor(t,e){super(t),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new p,this.apiSet_=new wt(At),this.pool_=e;const n=this.controller_.rack;n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),n.emitter.on("inputchange",this.onRackInputChange_),n.emitter.on("monitorupdate",this.onRackMonitorUpdate_),n.children.forEach((t=>{this.setUpApi_(t)}))}get children(){return this.controller_.rack.children.map((t=>Rt(this.apiSet_,t)))}addInput(t,e,n){const i=n||{},r=this.controller_.view.element.ownerDocument,a=this.pool_.createInput(r,It(t,e,i.presetKey),i),o=new Et(a);return this.add(o,i.index)}addMonitor(t,e,n){const i=n||{},r=this.controller_.view.element.ownerDocument,a=this.pool_.createMonitor(r,It(t,e),i),o=new kt(a);return s(this.add(o,i.index))}addFolder(t){return gt(this,t)}addButton(t){return yt(this,t)}addSeparator(t){return bt(this,t)}addTab(t){return xt(this,t)}add(t,e){this.controller_.rack.add(t.controller_,e);const n=this.apiSet_.find((e=>e.controller_===t.controller_));return n&&this.apiSet_.remove(n),this.apiSet_.add(t),t}remove(t){this.controller_.rack.remove(t.controller_)}addBlade(t){const e=this.controller_.view.element.ownerDocument,n=this.pool_.createBlade(e,t),i=this.pool_.createBladeApi(n);return this.add(i,t.index)}on(t,e){const n=e.bind(this);return this.emitter_.on(t,(t=>{n(t.event)})),this}setUpApi_(t){this.apiSet_.find((e=>e.controller_===t))||this.apiSet_.add(this.pool_.createBladeApi(t))}onRackAdd_(t){this.setUpApi_(t.bladeController)}onRackRemove_(t){if(t.isRoot){const e=Rt(this.apiSet_,t.bladeController);this.apiSet_.remove(e)}}onRackInputChange_(t){const e=t.bladeController;if(e instanceof St){const t=Rt(this.apiSet_,e),n=e.binding;this.emitter_.emit("change",{event:new r(t,s(n.target.read()),n.target.presetKey)})}else if(e instanceof lt){const t=Rt(this.apiSet_,e);this.emitter_.emit("change",{event:new r(t,e.value.rawValue,void 0)})}}onRackMonitorUpdate_(t){if(!(t.bladeController instanceof Tt))throw c.shouldNeverHappen();const e=Rt(this.apiSet_,t.bladeController),n=t.bladeController.binding;this.emitter_.emit("update",{event:new a(e,s(n.target.read()),n.target.presetKey)})}}class Pt extends mt{constructor(t,e){super(t,new Ct(t.rackController,e)),this.emitter_=new p,this.controller_.foldable.value("expanded").emitter.on("change",(t=>{this.emitter_.emit("fold",{event:new o(this,t.sender.rawValue)})})),this.rackApi_.on("change",(t=>{this.emitter_.emit("change",{event:t})})),this.rackApi_.on("update",(t=>{this.emitter_.emit("update",{event:t})}))}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(t){this.controller_.foldable.set("expanded",t)}get title(){return this.controller_.props.get("title")}set title(t){this.controller_.props.set("title",t)}get children(){return this.rackApi_.children}addInput(t,e,n){return this.rackApi_.addInput(t,e,n)}addMonitor(t,e,n){return this.rackApi_.addMonitor(t,e,n)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,e){return this.rackApi_.add(t,e)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,e){const n=e.bind(this);return this.emitter_.on(t,(t=>{n(t.event)})),this}}class Mt extends M{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}}class Ot{constructor(t,e){const n=R(e.viewName);this.element=t.createElement("div"),this.element.classList.add(n()),e.viewProps.bindClassModifiers(this.element)}}function Dt(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(i instanceof St&&i.binding===e)return i}return null}function Nt(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(i instanceof Tt&&i.binding===e)return i}return null}function Lt(t,e){for(let n=0;n<t.length;n++){const i=t[n];if(i instanceof lt&&i.value===e)return i}return null}function Ft(t){return t instanceof Ut?t.rack:t instanceof Mt?t.rackController.rack:null}function Bt(t){const e=Ft(t);return e?e.bcSet_:null}class Vt{constructor(t){var e;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new p,this.blade_=null!=t?t:null,null===(e=this.blade_)||void 0===e||e.value("positions").emitter.on("change",this.onBladePositionsChange_),this.bcSet_=new wt(Bt),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,e){t.parent&&t.parent.remove(t),t.parent_=this,this.bcSet_.add(t,e)}remove(t){t.parent_=null,this.bcSet_.remove(t)}find(t){return s(this.bcSet_.allItems().filter((e=>e instanceof t)))}onSetAdd_(t){this.updatePositions_();const e=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:e,sender:this}),!e)return;const n=t.item;if(n.viewProps.emitter.on("change",this.onChildViewPropsChange_),n.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),n.viewProps.handleDispose(this.onChildDispose_),n instanceof St)n.binding.emitter.on("change",this.onChildInputChange_);else if(n instanceof Tt)n.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(n instanceof lt)n.value.emitter.on("change",this.onChildValueChange_);else{const t=Ft(n);if(t){const e=t.emitter;e.on("layout",this.onDescendantLayout_),e.on("inputchange",this.onDescendantInputChange_),e.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(t){this.updatePositions_();const e=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:e,sender:this}),!e)return;const n=t.item;if(n instanceof St)n.binding.emitter.off("change",this.onChildInputChange_);else if(n instanceof Tt)n.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(n instanceof lt)n.value.emitter.off("change",this.onChildValueChange_);else{const t=Ft(n);if(t){const e=t.emitter;e.off("layout",this.onDescendantLayout_),e.off("inputchange",this.onDescendantInputChange_),e.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const t=this.bcSet_.items.filter((t=>!t.viewProps.get("hidden"))),e=t[0],n=t[t.length-1];this.bcSet_.items.forEach((t=>{const i=[];t===e&&(i.push("first"),this.blade_&&!this.blade_.get("positions").includes("veryfirst")||i.push("veryfirst")),t===n&&(i.push("last"),this.blade_&&!this.blade_.get("positions").includes("verylast")||i.push("verylast")),t.blade.set("positions",i)}))}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter((t=>t.viewProps.get("disposed"))).forEach((t=>{this.bcSet_.remove(t)}))}onChildInputChange_(t){const e=Dt(this.find(St),t.sender);if(!e)throw c.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:e,sender:this})}onChildMonitorUpdate_(t){const e=Nt(this.find(Tt),t.sender);if(!e)throw c.shouldNeverHappen();this.emitter.emit("monitorupdate",{bladeController:e,sender:this})}onChildValueChange_(t){const e=Lt(this.find(lt),t.sender);if(!e)throw c.shouldNeverHappen();this.emitter.emit("inputchange",{bladeController:e,sender:this})}onDescendantLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,sender:this})}onDescendantMonitorUpdate_(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Ut extends M{constructor(t,e){super(Object.assign(Object.assign({},e),{view:new Ot(t,{viewName:"brk",viewProps:e.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const n=new Vt(e.root?void 0:e.blade);n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose((()=>{for(let t=this.rack.children.length-1;t>=0;t--)this.rack.children[t].viewProps.set("disposed",!0)}))}onRackAdd_(t){t.isRoot&&j(this.view.element,t.bladeController.view.element,t.index)}onRackRemove_(t){t.isRoot&&G(t.bladeController.view.element)}}const Xt=R("cnt");class Yt{constructor(t,e){this.onFoldableExpandedChange_=this.onFoldableExpandedChange_.bind(this),this.className_=R(e.viewName||"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),Xt()),e.viewProps.bindClassModifiers(this.element),this.foldable_=e.foldable,$(this.foldable_,"expanded",this.onFoldableExpandedChange_);const n=t.createElement("button");n.classList.add(this.className_("b")),$(e.props,"title",(t=>{u(t)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))})),e.viewProps.bindDisabled(n),this.element.appendChild(n),this.buttonElement=n;const i=t.createElement("div");i.classList.add(this.className_("t")),rt(e.props.value("title"),i),this.buttonElement.appendChild(i),this.titleElement=i;const r=t.createElement("div");r.classList.add(this.className_("m")),this.buttonElement.appendChild(r);const a=e.containerElement;a.classList.add(this.className_("c")),this.element.appendChild(a),this.containerElement=a}onFoldableExpandedChange_(){const t=dt(this.foldable_),e=this.className_(void 0,"expanded");t?this.element.classList.add(e):this.element.classList.remove(e)}}class jt extends Mt{constructor(t,e){var n;const i=ct(null===(n=e.expanded)||void 0===n||n),r=new Ut(t,{blade:e.blade,root:e.root,viewProps:e.viewProps});super(Object.assign(Object.assign({},e),{rackController:r,view:new Yt(t,{containerElement:r.view.element,foldable:i,props:e.props,viewName:e.root?"rot":void 0,viewProps:e.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=e.props,this.foldable=i,_t(this.foldable,this.view.containerElement),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const Gt={id:"folder",type:"blade",accept(t){const e=S,n=k(t,{title:e.required.string,view:e.required.constant("folder"),expanded:e.optional.boolean});return n?{params:n}:null},controller:t=>new jt(t.document,{blade:t.blade,expanded:t.params.expanded,props:y.fromObject({title:t.params.title}),viewProps:t.viewProps}),api:t=>t.controller instanceof jt?new Pt(t.controller,t.pool):null};class Ht extends lt{constructor(t,e){const n=e.valueController.viewProps;super(Object.assign(Object.assign({},e),{value:e.valueController.value,view:new tt(t,{props:e.props,viewProps:n}),viewProps:n})),this.props=e.props,this.valueController=e.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Wt extends n{}const zt=R("spr");class qt{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(zt()),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("hr");n.classList.add(zt("r")),this.element.appendChild(n)}}class Zt extends M{constructor(t,e){super(Object.assign(Object.assign({},e),{view:new qt(t,{viewProps:e.viewProps})}))}}const Kt={id:"separator",type:"blade",accept(t){const e=k(t,{view:S.required.constant("separator")});return e?{params:e}:null},controller:t=>new Zt(t.document,{blade:t.blade,viewProps:t.viewProps}),api:t=>t.controller instanceof Zt?new Wt(t.controller):null},$t=R("");function Qt(t,e){return it(t,$t(void 0,e))}class Jt extends y{constructor(t){super(t)}static create(t){var e,n;const i=null!=t?t:{},r={disabled:null!==(e=i.disabled)&&void 0!==e&&e,disposed:!1,hidden:null!==(n=i.hidden)&&void 0!==n&&n},a=y.createCore(r);return new Jt(a)}bindClassModifiers(t){$(this,"disabled",Qt(t,"disabled")),$(this,"hidden",Qt(t,"hidden"))}bindDisabled(t){$(this,"disabled",(e=>{t.disabled=e}))}bindTabIndex(t){$(this,"disabled",(e=>{t.tabIndex=e?-1:0}))}handleDispose(t){this.value("disposed").emitter.on("change",(e=>{e&&t()}))}}const te=R("tbi");class ee{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(te()),e.viewProps.bindClassModifiers(this.element),$(e.props,"selected",(t=>{t?this.element.classList.add(te(void 0,"sel")):this.element.classList.remove(te(void 0,"sel"))}));const n=t.createElement("button");n.classList.add(te("b")),e.viewProps.bindDisabled(n),this.element.appendChild(n),this.buttonElement=n;const i=t.createElement("div");i.classList.add(te("t")),rt(e.props.value("title"),i),this.buttonElement.appendChild(i),this.titleElement=i}}class ne{constructor(t,e){this.emitter=new p,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new ee(t,{props:e.props,viewProps:e.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class ie{constructor(t,e){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new ne(t,{props:e.itemProps,viewProps:Jt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Ut(t,{blade:ht(),viewProps:Jt.create()}),this.props=e.props,$(this.props,"selected",(t=>{this.itemController.props.set("selected",t),this.contentController.viewProps.set("hidden",!t)}))}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class re{constructor(t,e){this.controller_=t,this.rackApi_=e}get title(){var t;return null!==(t=this.controller_.itemController.props.get("title"))&&void 0!==t?t:""}set title(t){this.controller_.itemController.props.set("title",t)}get selected(){return this.controller_.props.get("selected")}set selected(t){this.controller_.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,e){this.rackApi_.add(t,e)}remove(t){this.rackApi_.remove(t)}addInput(t,e,n){return this.rackApi_.addInput(t,e,n)}addMonitor(t,e,n){return this.rackApi_.addMonitor(t,e,n)}addBlade(t){return this.rackApi_.addBlade(t)}}class ae extends mt{constructor(t,e){super(t,new Ct(t.rackController,e)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.emitter_=new p,this.pageApiMap_=new Map,this.rackApi_.on("change",(t=>{this.emitter_.emit("change",{event:t})})),this.rackApi_.on("update",(t=>{this.emitter_.emit("update",{event:t})})),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach((t=>{this.setUpPageApi_(t)}))}get pages(){return this.controller_.pageSet.items.map((t=>{const e=this.pageApiMap_.get(t);if(!e)throw c.shouldNeverHappen();return e}))}addPage(t){const e=this.controller_.view.element.ownerDocument,n=new ie(e,{itemProps:y.fromObject({selected:!1,title:t.title}),props:y.fromObject({selected:!1})});this.controller_.add(n,t.index);const i=this.pageApiMap_.get(n);if(!i)throw c.shouldNeverHappen();return i}removePage(t){this.controller_.remove(t)}on(t,e){const n=e.bind(this);return this.emitter_.on(t,(t=>{n(t.event)})),this}setUpPageApi_(t){const e=this.rackApi_.apiSet_.find((e=>e.controller_===t.contentController));if(!e)throw c.shouldNeverHappen();const n=new re(t,e);this.pageApiMap_.set(t,n)}onPageAdd_(t){this.setUpPageApi_(t.item)}onPageRemove_(t){if(!this.pageApiMap_.get(t.item))throw c.shouldNeverHappen();this.pageApiMap_.delete(t.item)}}const oe=R("tab");class se{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(oe(),Xt()),e.viewProps.bindClassModifiers(this.element),K(e.empty,it(this.element,oe(void 0,"nop")));const n=t.createElement("div");n.classList.add(oe("i")),this.element.appendChild(n),this.itemsElement=n;const i=e.contentsElement;i.classList.add(oe("c")),this.element.appendChild(i),this.contentsElement=i}}class ue extends Mt{constructor(t,e){const n=new Ut(t,{blade:e.blade,viewProps:e.viewProps}),i=m(!0);super({blade:e.blade,rackController:n,view:new se(t,{contentsElement:n.view.element,empty:i,viewProps:e.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onPageSelectedChange_=this.onPageSelectedChange_.bind(this),this.pageSet_=new wt((()=>null)),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.empty_=i,this.applyPages_()}get pageSet(){return this.pageSet_}add(t,e){this.pageSet_.add(t,null!=e?e:this.pageSet_.items.length)}remove(t){this.pageSet_.remove(this.pageSet_.items[t])}applyPages_(){this.keepSelection_(),this.empty_.rawValue=0===this.pageSet_.items.length}onPageAdd_(t){const e=t.item;j(this.view.itemsElement,e.itemController.view.element,t.index),this.rackController.rack.add(e.contentController,t.index),e.props.value("selected").emitter.on("change",this.onPageSelectedChange_),this.applyPages_()}onPageRemove_(t){const e=t.item;G(e.itemController.view.element),this.rackController.rack.remove(e.contentController),e.props.value("selected").emitter.off("change",this.onPageSelectedChange_),this.applyPages_()}keepSelection_(){if(0===this.pageSet_.items.length)return;const t=this.pageSet_.items.findIndex((t=>t.props.get("selected")));t<0?this.pageSet_.items.forEach(((t,e)=>{t.props.set("selected",0===e)})):this.pageSet_.items.forEach(((e,n)=>{e.props.set("selected",n===t)}))}onPageSelectedChange_(t){if(t.rawValue){const e=this.pageSet_.items.findIndex((e=>e.props.value("selected")===t.sender));this.pageSet_.items.forEach(((t,n)=>{t.props.set("selected",n===e)}))}else this.keepSelection_()}}const le={id:"tab",type:"blade",accept(t){const e=S,n=k(t,{pages:e.required.array(e.required.object({title:e.required.string})),view:e.required.constant("tab")});return n&&0!==n.pages.length?{params:n}:null},controller(t){const e=new ue(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach((n=>{const i=new ie(t.document,{itemProps:y.fromObject({selected:!1,title:n.title}),props:y.fromObject({selected:!1})});e.add(i)})),e},api:t=>t.controller instanceof ue?new ae(t.controller,t.pool):null};function he(t,e){const n=t.accept(e.params);if(!n)return null;const i=S.optional.boolean(e.params.disabled).value,r=S.optional.boolean(e.params.hidden).value;return t.controller({blade:ht(),document:e.document,params:s(Object.assign(Object.assign({},n.params),{disabled:i,hidden:r})),viewProps:Jt.create({disabled:i,hidden:r})})}class ce{constructor(){this.disabled=!1,this.emitter=new p}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class fe{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce(((t,e)=>e.constrain(t)),t)}}function de(t,e){if(t instanceof e)return t;if(t instanceof fe){const n=t.constraints.reduce(((t,n)=>t||(n instanceof e?n:null)),null);if(n)return n}return null}class pe{constructor(t){this.options=t}constrain(t){const e=this.options;return 0===e.length||e.filter((e=>e.value===t)).length>0?t:e[0].value}}class ve{constructor(t){this.maxValue=t.max,this.minValue=t.min}constrain(t){let e=t;return u(this.minValue)||(e=Math.max(e,this.minValue)),u(this.maxValue)||(e=Math.min(e,this.maxValue)),e}}class _e{constructor(t){this.step=t}constrain(t){return(t<0?-Math.round(-t/this.step):Math.round(t/this.step))*this.step}}const me=R("lst");class ye{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.props_=e.props,this.element=t.createElement("div"),this.element.classList.add(me()),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("select");n.classList.add(me("s")),$(this.props_,"options",(e=>{H(n),e.forEach(((e,i)=>{const r=t.createElement("option");r.dataset.index=String(i),r.textContent=e.text,r.value=String(e.value),n.appendChild(r)}))})),e.viewProps.bindDisabled(n),this.element.appendChild(n),this.selectElement=n;const i=t.createElement("div");i.classList.add(me("m")),i.appendChild(Y(t,"dropdown")),this.element.appendChild(i),e.value.emitter.on("change",this.onValueChange_),this.value_=e.value,this.update_()}update_(){this.selectElement.value=String(this.value_.rawValue)}onValueChange_(){this.update_()}}class ge{constructor(t,e){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new ye(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const e=s(t.currentTarget).selectedOptions.item(0);if(!e)return;const n=Number(e.dataset.index);this.value.rawValue=this.props.get("options")[n].value}}const be=R("pop");class xe{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(be()),e.viewProps.bindClassModifiers(this.element),K(e.shows,it(this.element,be(void 0,"v")))}}class we{constructor(t,e){this.shows=m(!1),this.viewProps=e.viewProps,this.view=new xe(t,{shows:this.shows,viewProps:this.viewProps})}}const Ee=R("txt");class Se{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Ee()),e.viewProps.bindClassModifiers(this.element),this.props_=e.props,this.props_.emitter.on("change",this.onChange_);const n=t.createElement("input");n.classList.add(Ee("i")),n.type="text",e.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,e.value.emitter.on("change",this.onChange_),this.value_=e.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class ke{constructor(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=e.parser,this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new Se(t,{props:e.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const e=s(t.currentTarget).value,n=this.parser_(e);u(n)||(this.value.rawValue=n),this.view.refresh()}}function Te(t){return String(t)}function Ae(t){return"false"!==t&&!!t}function Re(t){return Te(t)}class Ie{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const Ce={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};class Pe{constructor(t,e,n){this.left=e,this.operator=t,this.right=n}evaluate(){const t=Ce[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Me={"+":t=>t,"-":t=>-t,"~":t=>~t};class Oe{constructor(t,e){this.operator=t,this.expression=e}evaluate(){const t=Me[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function De(t){return(e,n)=>{for(let i=0;i<t.length;i++){const r=t[i](e,n);if(""!==r)return r}return""}}function Ne(t,e){var n;const i=t.substr(e).match(/^\s+/);return null!==(n=i&&i[0])&&void 0!==n?n:""}function Le(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function Fe(t,e){var n;const i=t.substr(e).match(/^[0-9]+/);return null!==(n=i&&i[0])&&void 0!==n?n:""}function Be(t,e){const n=Fe(t,e);if(""!==n)return n;const i=t.substr(e,1);if("-"!==i&&"+"!==i)return"";const r=Fe(t,e+=1);return""===r?"":i+r}function Ve(t,e){const n=t.substr(e,1);if(e+=1,"e"!==n.toLowerCase())return"";const i=Be(t,e);return""===i?"":n+i}function Ue(t,e){const n=t.substr(e,1);if("0"===n)return n;const i=Le(t,e);return e+=i.length,""===i?"":i+Fe(t,e)}function Xe(t,e){const n=Ue(t,e);if(e+=n.length,""===n)return"";const i=t.substr(e,1);if(e+=i.length,"."!==i)return"";const r=Fe(t,e);return n+i+r+Ve(t,e+=r.length)}function Ye(t,e){const n=t.substr(e,1);if(e+=n.length,"."!==n)return"";const i=Fe(t,e);return e+=i.length,""===i?"":n+i+Ve(t,e)}function je(t,e){const n=Ue(t,e);return e+=n.length,""===n?"":n+Ve(t,e)}const Ge=De([Xe,Ye,je]);function He(t,e){var n;const i=t.substr(e).match(/^[01]+/);return null!==(n=i&&i[0])&&void 0!==n?n:""}function We(t,e){const n=t.substr(e,2);if(e+=n.length,"0b"!==n.toLowerCase())return"";const i=He(t,e);return""===i?"":n+i}function ze(t,e){var n;const i=t.substr(e).match(/^[0-7]+/);return null!==(n=i&&i[0])&&void 0!==n?n:""}function qe(t,e){const n=t.substr(e,2);if(e+=n.length,"0o"!==n.toLowerCase())return"";const i=ze(t,e);return""===i?"":n+i}function Ze(t,e){var n;const i=t.substr(e).match(/^[0-9a-f]+/i);return null!==(n=i&&i[0])&&void 0!==n?n:""}function Ke(t,e){const n=t.substr(e,2);if(e+=n.length,"0x"!==n.toLowerCase())return"";const i=Ze(t,e);return""===i?"":n+i}const $e=De([We,qe,Ke]),Qe=De([$e,Ge]);function Je(t,e){const n=Qe(t,e);return e+=n.length,""===n?null:{evaluable:new Ie(n),cursor:e}}function tn(t,e){const n=t.substr(e,1);if(e+=n.length,"("!==n)return null;const i=sn(t,e);if(!i)return null;e=i.cursor,e+=Ne(t,e).length;const r=t.substr(e,1);return e+=r.length,")"!==r?null:{evaluable:i.evaluable,cursor:e}}function en(t,e){return Je(t,e)||tn(t,e)}function nn(t,e){const n=en(t,e);if(n)return n;const i=t.substr(e,1);if(e+=i.length,"+"!==i&&"-"!==i&&"~"!==i)return null;const r=nn(t,e);return r?{cursor:e=r.cursor,evaluable:new Oe(i,r.evaluable)}:null}function rn(t,e,n){n+=Ne(e,n).length;const i=t.filter((t=>e.startsWith(t,n)))[0];return i?(n+=i.length,{cursor:n+=Ne(e,n).length,operator:i}):null}function an(t,e){return(n,i)=>{const r=t(n,i);if(!r)return null;i=r.cursor;let a=r.evaluable;for(;;){const r=rn(e,n,i);if(!r)break;i=r.cursor;const o=t(n,i);if(!o)return null;i=o.cursor,a=new Pe(r.operator,a,o.evaluable)}return a?{cursor:i,evaluable:a}:null}}const on=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce(((t,e)=>an(t,e)),nn);function sn(t,e){return e+=Ne(t,e).length,on(t,e)}function un(t){const e=sn(t,0);return e?e.cursor+Ne(t,e.cursor).length!==t.length?null:e.evaluable:null}function ln(t){var e;const n=un(t);return null!==(e=null==n?void 0:n.evaluate())&&void 0!==e?e:null}function hn(t){if("number"==typeof t)return t;if("string"==typeof t){const e=ln(t);if(!u(e))return e}return 0}function cn(t){return String(t)}function fn(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}const dn=fn(0);function pn(t){return dn(t)+"%"}function vn(t){return String(t)}function _n(t){return t}function mn(t,e){for(;t.length<e;)t.push(void 0)}function yn(t){const e=[];return mn(e,t),m(e)}function gn(t){const e=t.indexOf(void 0);return s(e<0?t:t.slice(0,e))}function bn(t,e){const n=[...gn(t),e];return n.length>t.length?n.splice(0,n.length-t.length):mn(n,t.length),n}function xn({primary:t,secondary:e,forward:n,backward:i}){let r=!1;function a(t){r||(r=!0,t(),r=!1)}t.emitter.on("change",(()=>{a((()=>{e.rawValue=n(t,e)}))})),e.emitter.on("change",(()=>{a((()=>{t.rawValue=i(t,e)})),a((()=>{e.rawValue=n(t,e)}))})),a((()=>{e.rawValue=n(t,e)}))}function wn(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function En(t){return{altKey:t.altKey,downKey:"ArrowDown"===t.key,shiftKey:t.shiftKey,upKey:"ArrowUp"===t.key}}function Sn(t){return{altKey:t.altKey,downKey:"ArrowLeft"===t.key,shiftKey:t.shiftKey,upKey:"ArrowRight"===t.key}}function kn(t){return"ArrowUp"===t||"ArrowDown"===t}function Tn(t){return kn(t)||"ArrowLeft"===t||"ArrowRight"===t}function An(t,e){const n=e.ownerDocument.defaultView,i=e.getBoundingClientRect();return{x:t.pageX-((n&&n.scrollX||0)+i.left),y:t.pageY-((n&&n.scrollY||0)+i.top)}}class Rn{constructor(t){this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new p,L(this.elem_.ownerDocument)?(t.addEventListener("touchstart",this.onTouchStart_),t.addEventListener("touchmove",this.onTouchMove_),t.addEventListener("touchend",this.onTouchEnd_)):t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const e=this.elem_.getBoundingClientRect();return{bounds:{width:e.width,height:e.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var e;t.preventDefault(),null===(e=t.currentTarget)||void 0===e||e.focus();const n=this.elem_.ownerDocument;n.addEventListener("mousemove",this.onDocumentMouseMove_),n.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(An(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(An(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const e=this.elem_.ownerDocument;e.removeEventListener("mousemove",this.onDocumentMouseMove_),e.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(An(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey})}onTouchMove_(t){const e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey})}onTouchEnd_(t){const e=t.targetTouches.item(0),n=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-n.left,y:e.clientY-n.top}:void 0),sender:this,shiftKey:t.shiftKey})}}function In(t,e,n,i,r){return i+(t-e)/(n-e)*(r-i)}function Cn(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Pn(t,e,n){return Math.min(Math.max(t,e),n)}function Mn(t,e){return(t%e+e)%e}const On=R("txt");class Dn{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(On(),On(void 0,"num")),e.arrayPosition&&this.element.classList.add(On(void 0,e.arrayPosition)),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("input");n.classList.add(On("i")),n.type="text",e.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElement=n,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=e.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(On()),this.inputElement.classList.add(On("i"));const i=t.createElement("div");i.classList.add(On("k")),this.element.appendChild(i),this.knobElement=i;const r=t.createElementNS(O,"svg");r.classList.add(On("g")),this.knobElement.appendChild(r);const a=t.createElementNS(O,"path");a.classList.add(On("gb")),r.appendChild(a),this.guideBodyElem_=a;const o=t.createElementNS(O,"path");o.classList.add(On("gh")),r.appendChild(o),this.guideHeadElem_=o;const s=t.createElement("div");s.classList.add(R("tt")()),this.knobElement.appendChild(s),this.tooltipElem_=s,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.refresh()}onDraggingChange_(t){if(null===t.rawValue)return void this.element.classList.remove(On(void 0,"drg"));this.element.classList.add(On(void 0,"drg"));const e=t.rawValue/this.props_.get("draggingScale"),n=e+(e>0?-1:e<0?1:0),i=Pn(-n,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${n+i},0 L${n},4 L${n+i},8`,`M ${e},-1 L${e},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${e},4`);const r=this.props_.get("formatter");this.tooltipElem_.textContent=r(this.value.rawValue),this.tooltipElem_.style.left=`${e}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class Nn{constructor(t,e){this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=e.baseStep,this.parser_=e.parser,this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.dragging_=m(null),this.view=new Dn(t,{arrayPosition:e.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_);const n=new Rn(this.view.knobElement);n.emitter.on("down",this.onPointerDown_),n.emitter.on("move",this.onPointerMove_),n.emitter.on("up",this.onPointerUp_)}onInputChange_(t){const e=s(t.currentTarget).value,n=this.parser_(e);u(n)||(this.value.rawValue=n),this.view.refresh()}onInputKeyDown_(t){const e=wn(this.baseStep_,En(t));0!==e&&(this.value.rawValue+=e)}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}onPointerMove_(t){if(!t.data.point)return;const e=t.data.point.x-t.data.bounds.width/2;this.value.rawValue=this.originRawValue_+e*this.props.get("draggingScale"),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_}onPointerUp_(){this.dragging_.rawValue=null}}const Ln=R("sld");class Fn{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Ln()),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("div");n.classList.add(Ln("t")),e.viewProps.bindTabIndex(n),this.element.appendChild(n),this.trackElement=n;const i=t.createElement("div");i.classList.add(Ln("k")),this.trackElement.appendChild(i),this.knobElement=i,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.update_()}update_(){const t=Pn(In(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class Bn{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPoint_=this.onPoint_.bind(this),this.baseStep_=e.baseStep,this.value=e.value,this.viewProps=e.viewProps,this.props=e.props,this.view=new Fn(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Rn(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPoint_),this.ptHandler_.emitter.on("move",this.onPoint_),this.ptHandler_.emitter.on("up",this.onPoint_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_)}handlePointerEvent_(t){t.point&&(this.value.rawValue=In(Pn(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")))}onPoint_(t){this.handlePointerEvent_(t.data)}onKeyDown_(t){this.value.rawValue+=wn(this.baseStep_,Sn(t))}}const Vn=R("sldtxt");class Un{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Vn());const n=t.createElement("div");n.classList.add(Vn("s")),this.sliderView_=e.sliderView,n.appendChild(this.sliderView_.element),this.element.appendChild(n);const i=t.createElement("div");i.classList.add(Vn("t")),this.textView_=e.textView,i.appendChild(this.textView_.element),this.element.appendChild(i)}}class Xn{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.sliderC_=new Bn(t,{baseStep:e.baseStep,props:e.sliderProps,value:e.value,viewProps:this.viewProps}),this.textC_=new Nn(t,{baseStep:e.baseStep,parser:e.parser,props:e.textProps,value:e.value,viewProps:e.viewProps}),this.view=new Un(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function Yn(t,e){t.write(e)}function jn(t){const e=S;return Array.isArray(t)?e.required.array(e.required.object({text:e.required.string,value:e.required.raw}))(t).value:"object"==typeof t?e.required.raw(t).value:void 0}function Gn(t){if("inline"===t||"popup"===t)return t}function Hn(t){const e=S;return e.required.object({max:e.optional.number,min:e.optional.number,step:e.optional.number})(t).value}function Wn(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach((n=>{e.push({text:n,value:t[n]})})),e}function zn(t){return u(t)?null:new pe(Wn(s(t)))}function qn(t){const e=t?de(t,pe):null;return e?e.options:null}function Zn(t){const e=t?de(t,_e):null;return e?e.step:null}function Kn(t,e){const n=t&&de(t,_e);return n?Cn(n.step):Math.max(Cn(e),2)}function $n(t){const e=Zn(t);return null!=e?e:1}function Qn(t,e){var n;const i=t&&de(t,_e),r=Math.abs(null!==(n=null==i?void 0:i.step)&&void 0!==n?n:e);return 0===r?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}const Jn=R("ckb");class ti{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Jn()),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("label");n.classList.add(Jn("l")),this.element.appendChild(n);const i=t.createElement("input");i.classList.add(Jn("i")),i.type="checkbox",n.appendChild(i),this.inputElement=i,e.viewProps.bindDisabled(this.inputElement);const r=t.createElement("div");r.classList.add(Jn("w")),n.appendChild(r);const a=Y(t,"check");r.appendChild(a),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class ei{constructor(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new ti(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const e=s(t.currentTarget);this.value.rawValue=e.checked}}function ni(t){const e=[],n=zn(t.options);return n&&e.push(n),new fe(e)}const ii={id:"input-bool",type:"input",accept:(t,e)=>{if("boolean"!=typeof t)return null;const n=k(e,{options:S.optional.custom(jn)});return n?{initialValue:t,params:n}:null},binding:{reader:t=>Ae,constraint:t=>ni(t.params),writer:t=>Yn},controller:t=>{var e;const n=t.document,i=t.value,r=t.constraint;return r&&de(r,pe)?new ge(n,{props:y.fromObject({options:null!==(e=qn(r))&&void 0!==e?e:[]}),value:i,viewProps:t.viewProps}):new ei(n,{value:i,viewProps:t.viewProps})}},ri=R("col");class ai{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(ri()),K(e.expanded,it(this.element,ri(void 0,"expanded")));const n=t.createElement("div");n.classList.add(ri("h")),this.element.appendChild(n);const i=t.createElement("div");i.classList.add(ri("s")),n.appendChild(i),this.swatchElement=i;const r=t.createElement("div");if(r.classList.add(ri("t")),n.appendChild(r),this.textElement=r,"inline"===e.pickerLayout){const e=t.createElement("div");e.classList.add(ri("p")),this.element.appendChild(e),this.pickerElement=e}else this.pickerElement=null}}function oi(t,e,n){const i=Pn(t/255,0,1),r=Pn(e/255,0,1),a=Pn(n/255,0,1),o=Math.max(i,r,a),s=Math.min(i,r,a),u=o-s;let l=0,h=0;const c=(s+o)/2;return 0!==u&&(h=u/(1-Math.abs(o+s-1)),l=i===o?(r-a)/u:r===o?2+(a-i)/u:4+(i-r)/u,l=l/6+(l<0?1:0)),[360*l,100*h,100*c]}function si(t,e,n){const i=(t%360+360)%360,r=Pn(e/100,0,1),a=Pn(n/100,0,1),o=(1-Math.abs(2*a-1))*r,s=o*(1-Math.abs(i/60%2-1)),u=a-o/2;let l,h,c;return[l,h,c]=i>=0&&i<60?[o,s,0]:i>=60&&i<120?[s,o,0]:i>=120&&i<180?[0,o,s]:i>=180&&i<240?[0,s,o]:i>=240&&i<300?[s,0,o]:[o,0,s],[255*(l+u),255*(h+u),255*(c+u)]}function ui(t,e,n){const i=Pn(t/255,0,1),r=Pn(e/255,0,1),a=Pn(n/255,0,1),o=Math.max(i,r,a),s=o-Math.min(i,r,a);let u;return u=0===s?0:o===i?((r-a)/s%6+6)%6*60:o===r?60*((a-i)/s+2):60*((i-r)/s+4),[u,100*(0===o?0:s/o),100*o]}function li(t,e,n){const i=Mn(t,360),r=Pn(e/100,0,1),a=Pn(n/100,0,1),o=a*r,s=o*(1-Math.abs(i/60%2-1)),u=a-o;let l,h,c;return[l,h,c]=i>=0&&i<60?[o,s,0]:i>=60&&i<120?[s,o,0]:i>=120&&i<180?[0,o,s]:i>=180&&i<240?[0,s,o]:i>=240&&i<300?[s,0,o]:[o,0,s],[255*(l+u),255*(h+u),255*(c+u)]}function hi(t,e,n){const i=n+e*(100-Math.abs(2*n-100))/200;return[t,0!==i?e*(100-Math.abs(2*n-100))/i:0,n+e*(100-Math.abs(2*n-100))/200]}function ci(t,e,n){const i=100-Math.abs(n*(200-e)/100-100);return[t,0!==i?e*n/i:0,n*(200-e)/200]}function fi(t){return[t[0],t[1],t[2]]}function di(t,e){return[t[0],t[1],t[2],e]}const pi={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:hi,rgb:si},hsv:{hsl:ci,hsv:(t,e,n)=>[t,e,n],rgb:li},rgb:{hsl:oi,hsv:ui,rgb:(t,e,n)=>[t,e,n]}};function vi(t,e,n){return pi[e][n](...t)}const _i={hsl:t=>{var e;return[Mn(t[0],360),Pn(t[1],0,100),Pn(t[2],0,100),Pn(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},hsv:t=>{var e;return[Mn(t[0],360),Pn(t[1],0,100),Pn(t[2],0,100),Pn(null!==(e=t[3])&&void 0!==e?e:1,0,1)]},rgb:t=>{var e;return[Pn(t[0],0,255),Pn(t[1],0,255),Pn(t[2],0,255),Pn(null!==(e=t[3])&&void 0!==e?e:1,0,1)]}};function mi(t,e){return"object"==typeof t&&!u(t)&&e in t&&"number"==typeof t[e]}class yi{constructor(t,e){this.mode_=e,this.comps_=_i[e](t)}static black(){return new yi([0,0,0],"rgb")}static fromObject(t){const e="a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b];return new yi(e,"rgb")}static toRgbaObject(t){return t.toRgbaObject()}static isRgbColorObject(t){return mi(t,"r")&&mi(t,"g")&&mi(t,"b")}static isRgbaColorObject(t){return this.isRgbColorObject(t)&&mi(t,"a")}static isColorObject(t){return this.isRgbColorObject(t)}static equals(t,e){if(t.mode_!==e.mode_)return!1;const n=t.comps_,i=e.comps_;for(let t=0;t<n.length;t++)if(n[t]!==i[t])return!1;return!0}get mode(){return this.mode_}getComponents(t){return di(vi(fi(this.comps_),this.mode_,t||this.mode_),this.comps_[3])}toRgbaObject(){const t=this.getComponents("rgb");return{r:t[0],g:t[1],b:t[2],a:t[3]}}}const gi=R("colp");class bi{constructor(t,e){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(gi());const n=t.createElement("div");n.classList.add(gi("hsv"));const i=t.createElement("div");i.classList.add(gi("sv")),this.svPaletteView_=e.svPaletteView,i.appendChild(this.svPaletteView_.element),n.appendChild(i);const r=t.createElement("div");r.classList.add(gi("h")),this.hPaletteView_=e.hPaletteView,r.appendChild(this.hPaletteView_.element),n.appendChild(r),this.element.appendChild(n);const a=t.createElement("div");if(a.classList.add(gi("rgb")),this.textView_=e.textView,a.appendChild(this.textView_.element),this.element.appendChild(a),e.alphaViews){this.alphaViews_={palette:e.alphaViews.palette,text:e.alphaViews.text};const n=t.createElement("div");n.classList.add(gi("a"));const i=t.createElement("div");i.classList.add(gi("ap")),i.appendChild(this.alphaViews_.palette.element),n.appendChild(i);const r=t.createElement("div");r.classList.add(gi("at")),r.appendChild(this.alphaViews_.text.element),n.appendChild(r),this.element.appendChild(n)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map((t=>t.inputElement))];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function xi(t){const e=S;return k(t,{alpha:e.optional.boolean,expanded:e.optional.boolean,picker:e.optional.custom(Gn)})}function wi(t){return t?.1:1}function Ei(t,e){const n=t.match(/^(.+)%$/);return n?Math.min(.01*parseFloat(n[1])*e,e):Math.min(parseFloat(t),e)}const Si={deg:t=>t,grad:t=>360*t/400,rad:t=>360*t/(2*Math.PI),turn:t=>360*t};function ki(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),i=e[2];return Si[i](n)}const Ti={"func.rgb":t=>{const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Ei(e[1],255),Ei(e[2],255),Ei(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new yi(n,"rgb")},"func.rgba":t=>{const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Ei(e[1],255),Ei(e[2],255),Ei(e[3],255),Ei(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new yi(n,"rgb")},"func.hsl":t=>{const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[ki(e[1]),Ei(e[2],100),Ei(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:new yi(n,"hsl")},"func.hsla":t=>{const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[ki(e[1]),Ei(e[2],100),Ei(e[3],100),Ei(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:new yi(n,"hsl")},"hex.rgb":t=>{const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new yi([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)],"rgb");const n=t.match(/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new yi([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)],"rgb"):null},"hex.rgba":t=>{const e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return new yi([parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),In(parseInt(e[4]+e[4],16),0,255,0,1)],"rgb");const n=t.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?new yi([parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),In(parseInt(n[4],16),0,255,0,1)],"rgb"):null}};function Ai(t){return Object.keys(Ti).reduce(((e,n)=>e||((0,Ti[n])(t)?n:null)),null)}const Ri=t=>{const e=Ai(t);return e?Ti[e](t):null};function Ii(t){return"func.hsla"===t||"func.rgba"===t||"hex.rgba"===t}function Ci(t){if("string"==typeof t){const e=Ri(t);if(e)return e}return yi.black()}function Pi(t){const e=Pn(Math.floor(t),0,255).toString(16);return 1===e.length?`0${e}`:e}function Mi(t){return`#${fi(t.getComponents("rgb")).map(Pi).join("")}`}function Oi(t){const e=t.getComponents("rgb");return`#${[e[0],e[1],e[2],255*e[3]].map(Pi).join("")}`}function Di(t){const e=fn(0);return`rgb(${fi(t.getComponents("rgb")).map((t=>e(t))).join(", ")})`}function Ni(t){const e=fn(2),n=fn(0);return`rgba(${t.getComponents("rgb").map(((t,i)=>(3===i?e:n)(t))).join(", ")})`}function Li(t){const e=[fn(0),pn,pn];return`hsl(${fi(t.getComponents("hsl")).map(((t,n)=>e[n](t))).join(", ")})`}function Fi(t){const e=[fn(0),pn,pn,fn(2)];return`hsla(${t.getComponents("hsl").map(((t,n)=>e[n](t))).join(", ")})`}const Bi={"func.hsl":Li,"func.hsla":Fi,"func.rgb":Di,"func.rgba":Ni,"hex.rgb":Mi,"hex.rgba":Oi};function Vi(t){return Bi[t]}const Ui=R("apl");class Xi{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Ui()),e.viewProps.bindTabIndex(this.element);const n=t.createElement("div");n.classList.add(Ui("b")),this.element.appendChild(n);const i=t.createElement("div");i.classList.add(Ui("c")),n.appendChild(i),this.colorElem_=i;const r=t.createElement("div");r.classList.add(Ui("m")),this.element.appendChild(r),this.markerElem_=r;const a=t.createElement("div");a.classList.add(Ui("p")),this.markerElem_.appendChild(a),this.previewElem_=a,this.update_()}update_(){const t=this.value.rawValue,e=t.getComponents("rgb"),n=new yi([e[0],e[1],e[2],0],"rgb"),i=new yi([e[0],e[1],e[2],255],"rgb"),r=["to right",Ni(n),Ni(i)];this.colorElem_.style.background=`linear-gradient(${r.join(",")})`,this.previewElem_.style.backgroundColor=Ni(t);const a=In(e[3],0,1,0,100);this.markerElem_.style.left=`${a}%`}onValueChange_(){this.update_()}}class Yi{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new Xi(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Rn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}handlePointerEvent_(t){if(!t.point)return;const e=t.point.x/t.bounds.width,n=this.value.rawValue,[i,r,a]=n.getComponents("hsv");this.value.rawValue=new yi([i,r,a,e],"hsv")}onPointerDown_(t){this.handlePointerEvent_(t.data)}onPointerMove_(t){this.handlePointerEvent_(t.data)}onPointerUp_(t){this.handlePointerEvent_(t.data)}onKeyDown_(t){const e=wn(wi(!0),Sn(t)),n=this.value.rawValue,[i,r,a,o]=n.getComponents("hsv");this.value.rawValue=new yi([i,r,a,o+e],"hsv")}}const ji=R("coltxt");function Gi(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return e.appendChild(n.reduce(((e,n)=>{const i=t.createElement("option");return i.textContent=n.text,i.value=n.value,e.appendChild(i),e}),t.createDocumentFragment())),e}class Hi{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(ji());const n=t.createElement("div");n.classList.add(ji("m")),this.modeElem_=Gi(t),this.modeElem_.classList.add(ji("ms")),n.appendChild(this.modeSelectElement);const i=t.createElement("div");i.classList.add(ji("mm")),i.appendChild(Y(t,"dropdown")),n.appendChild(i),this.element.appendChild(n);const r=t.createElement("div");r.classList.add(ji("w")),this.element.appendChild(r),this.textsElem_=r,this.textViews_=e.textViews,this.applyTextViews_(),K(e.colorMode,(t=>{this.modeElem_.value=t}))}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(t){this.textViews_=t,this.applyTextViews_()}applyTextViews_(){H(this.textsElem_);const t=this.element.ownerDocument;this.textViews_.forEach((e=>{const n=t.createElement("div");n.classList.add(ji("c")),n.appendChild(e.element),this.textsElem_.appendChild(n)}))}}const Wi=fn(0),zi={rgb:()=>new ve({min:0,max:255}),hsl:t=>new ve(0===t?{min:0,max:360}:{min:0,max:100}),hsv:t=>new ve(0===t?{min:0,max:360}:{min:0,max:100})};function qi(t,e,n){return new Nn(t,{arrayPosition:0===n?"fst":2===n?"lst":"mid",baseStep:wi(!1),parser:e.parser,props:y.fromObject({draggingScale:1,formatter:Wi}),value:m(0,{constraint:zi[e.colorMode](n)}),viewProps:e.viewProps})}class Zi{constructor(t,e){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.parser_=e.parser,this.value=e.value,this.viewProps=e.viewProps,this.colorMode=m(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new Hi(t,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const e={colorMode:this.colorMode.rawValue,parser:this.parser_,viewProps:this.viewProps},n=[qi(t,e,0),qi(t,e,1),qi(t,e,2)];return n.forEach(((t,e)=>{xn({primary:this.value,secondary:t.value,forward:t=>t.rawValue.getComponents(this.colorMode.rawValue)[e],backward:(t,n)=>{const i=this.colorMode.rawValue,r=t.rawValue.getComponents(i);return r[e]=n.rawValue,new yi(di(fi(r),r[3]),i)}})})),n}onModeSelectChange_(t){const e=t.currentTarget;this.colorMode.rawValue=e.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Ki=R("hpl");class $i{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Ki()),e.viewProps.bindTabIndex(this.element);const n=t.createElement("div");n.classList.add(Ki("c")),this.element.appendChild(n);const i=t.createElement("div");i.classList.add(Ki("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const t=this.value.rawValue,[e]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=Di(new yi([e,100,100],"hsv"));const n=In(e,0,360,0,100);this.markerElem_.style.left=`${n}%`}onValueChange_(){this.update_()}}class Qi{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new $i(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Rn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}handlePointerEvent_(t){if(!t.point)return;const e=In(t.point.x,0,t.bounds.width,0,360),n=this.value.rawValue,[,i,r,a]=n.getComponents("hsv");this.value.rawValue=new yi([e,i,r,a],"hsv")}onPointerDown_(t){this.handlePointerEvent_(t.data)}onPointerMove_(t){this.handlePointerEvent_(t.data)}onPointerUp_(t){this.handlePointerEvent_(t.data)}onKeyDown_(t){const e=wn(wi(!1),Sn(t)),n=this.value.rawValue,[i,r,a,o]=n.getComponents("hsv");this.value.rawValue=new yi([i+e,r,a,o],"hsv")}}const Ji=R("svp"),tr=64;class er{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Ji()),e.viewProps.bindTabIndex(this.element);const n=t.createElement("canvas");n.height=tr,n.width=tr,n.classList.add(Ji("c")),this.element.appendChild(n),this.canvasElement=n;const i=t.createElement("div");i.classList.add(Ji("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const t=U(this.canvasElement);if(!t)return;const e=this.value.rawValue.getComponents("hsv"),n=this.canvasElement.width,i=this.canvasElement.height,r=t.getImageData(0,0,n,i),a=r.data;for(let t=0;t<i;t++)for(let r=0;r<n;r++){const o=In(r,0,n,0,100),s=In(t,0,i,100,0),u=li(e[0],o,s),l=4*(t*n+r);a[l]=u[0],a[l+1]=u[1],a[l+2]=u[2],a[l+3]=255}t.putImageData(r,0,0);const o=In(e[1],0,100,0,100);this.markerElem_.style.left=`${o}%`;const s=In(e[2],0,100,100,0);this.markerElem_.style.top=`${s}%`}onValueChange_(){this.update_()}}class nr{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new er(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Rn(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_)}handlePointerEvent_(t){if(!t.point)return;const e=In(t.point.x,0,t.bounds.width,0,100),n=In(t.point.y,0,t.bounds.height,100,0),[i,,,r]=this.value.rawValue.getComponents("hsv");this.value.rawValue=new yi([i,e,n,r],"hsv")}onPointerDown_(t){this.handlePointerEvent_(t.data)}onPointerMove_(t){this.handlePointerEvent_(t.data)}onPointerUp_(t){this.handlePointerEvent_(t.data)}onKeyDown_(t){Tn(t.key)&&t.preventDefault();const[e,n,i,r]=this.value.rawValue.getComponents("hsv"),a=wi(!1);this.value.rawValue=new yi([e,n+wn(a,Sn(t)),i+wn(a,En(t)),r],"hsv")}}class ir{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.hPaletteC_=new Qi(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new nr(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=e.supportsAlpha?{palette:new Yi(t,{value:this.value,viewProps:this.viewProps}),text:new Nn(t,{parser:ln,baseStep:.1,props:y.fromObject({draggingScale:.01,formatter:fn(2)}),value:m(0,{constraint:new ve({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&xn({primary:this.value,secondary:this.alphaIcs_.text.value,forward:t=>t.rawValue.getComponents()[3],backward:(t,e)=>{const n=t.rawValue.getComponents();return n[3]=e.rawValue,new yi(n,t.rawValue.mode)}}),this.textC_=new Zi(t,{parser:ln,value:this.value,viewProps:this.viewProps}),this.view=new bi(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:e.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view})}get textController(){return this.textC_}}const rr=R("colsw");class ar{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.element=t.createElement("div"),this.element.classList.add(rr()),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("div");n.classList.add(rr("sw")),this.element.appendChild(n),this.swatchElem_=n;const i=t.createElement("button");i.classList.add(rr("b")),e.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=Oi(t)}onValueChange_(){this.update_()}}class or{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new ar(t,{value:this.value,viewProps:this.viewProps})}}class sr{constructor(t,e){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=ct(e.expanded),this.swatchC_=new or(t,{value:this.value,viewProps:this.viewProps});const n=this.swatchC_.view.buttonElement;n.addEventListener("blur",this.onButtonBlur_),n.addEventListener("click",this.onButtonClick_),this.textC_=new ke(t,{parser:e.parser,props:y.fromObject({formatter:e.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new ai(t,{expanded:this.foldable_.value("expanded"),pickerLayout:e.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_="popup"===e.pickerLayout?new we(t,{viewProps:this.viewProps}):null;const i=new ir(t,{supportsAlpha:e.supportsAlpha,value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach((t=>{t.addEventListener("blur",this.onPopupChildBlur_),t.addEventListener("keydown",this.onPopupChildKeydown_)})),this.pickerC_=i,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(i.view.element),xn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:t=>t.rawValue,backward:(t,e)=>e.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),_t(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const e=this.view.element,n=s(t.relatedTarget);n&&e.contains(n)||(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const e=this.popC_.view.element,n=z(t);n&&e.contains(n)||n&&n===this.swatchC_.view.buttonElement&&!L(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?"Escape"===t.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===t.key&&this.swatchC_.view.buttonElement.focus()}}function ur(t){return yi.isColorObject(t)?yi.fromObject(t):yi.black()}function lr(t){return fi(t.getComponents("rgb")).reduce(((t,e)=>t<<8|255&Math.floor(e)),0)}function hr(t){return t.getComponents("rgb").reduce(((t,e,n)=>t<<8|255&Math.floor(3===n?255*e:e)),0)>>>0}function cr(t){return new yi([t>>16&255,t>>8&255,255&t],"rgb")}function fr(t){return new yi([t>>24&255,t>>16&255,t>>8&255,In(255&t,0,255,0,1)],"rgb")}function dr(t){return"number"!=typeof t?yi.black():cr(t)}function pr(t){return"number"!=typeof t?yi.black():fr(t)}function vr(t){const e=Vi(t);return(t,n)=>{Yn(t,e(n))}}function _r(t){const e=t?hr:lr;return(t,n)=>{Yn(t,e(n))}}function mr(t,e){const n=e.toRgbaObject();t.writeProperty("r",n.r),t.writeProperty("g",n.g),t.writeProperty("b",n.b),t.writeProperty("a",n.a)}function yr(t,e){const n=e.toRgbaObject();t.writeProperty("r",n.r),t.writeProperty("g",n.g),t.writeProperty("b",n.b)}function gr(t){return t?mr:yr}function br(t){return"alpha"in t&&!0===t.alpha}const xr={id:"input-color-number",type:"input",accept:(t,e)=>{if("number"!=typeof t)return null;if(!("view"in e))return null;if("color"!==e.view)return null;const n=xi(e);return n?{initialValue:t,params:n}:null},binding:{reader:t=>br(t.params)?pr:dr,equals:yi.equals,writer:t=>_r(br(t.params))},controller:t=>{const e=br(t.params),n="expanded"in t.params?t.params.expanded:void 0,i="picker"in t.params?t.params.picker:void 0,r=e?Oi:Mi;return new sr(t.document,{expanded:null!=n&&n,formatter:r,parser:Ri,pickerLayout:null!=i?i:"popup",supportsAlpha:e,value:t.value,viewProps:t.viewProps})}};function wr(t){return yi.isRgbaColorObject(t)}const Er={id:"input-color-object",type:"input",accept:(t,e)=>{if(!yi.isColorObject(t))return null;const n=xi(e);return n?{initialValue:t,params:n}:null},binding:{reader:t=>ur,equals:yi.equals,writer:t=>gr(wr(t.initialValue))},controller:t=>{const e=yi.isRgbaColorObject(t.initialValue),n="expanded"in t.params?t.params.expanded:void 0,i="picker"in t.params?t.params.picker:void 0,r=e?Oi:Mi;return new sr(t.document,{expanded:null!=n&&n,formatter:r,parser:Ri,pickerLayout:null!=i?i:"popup",supportsAlpha:e,value:t.value,viewProps:t.viewProps})}},Sr={id:"input-color-string",type:"input",accept:(t,e)=>{if("string"!=typeof t)return null;if("view"in e&&"text"===e.view)return null;if(!Ai(t))return null;const n=xi(e);return n?{initialValue:t,params:n}:null},binding:{reader:t=>Ci,equals:yi.equals,writer:t=>{const e=Ai(t.initialValue);if(!e)throw c.shouldNeverHappen();return vr(e)}},controller:t=>{const e=Ai(t.initialValue);if(!e)throw c.shouldNeverHappen();const n=Vi(e),i="expanded"in t.params?t.params.expanded:void 0,r="picker"in t.params?t.params.picker:void 0;return new sr(t.document,{expanded:null!=i&&i,formatter:n,parser:Ri,pickerLayout:null!=r?r:"popup",supportsAlpha:Ii(e),value:t.value,viewProps:t.viewProps})}};class kr{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const e=this.asm_.toComponents(t).map(((t,e)=>{var n,i;return null!==(i=null===(n=this.components[e])||void 0===n?void 0:n.constrain(t))&&void 0!==i?i:t}));return this.asm_.fromComponents(e)}}const Tr=R("pndtxt");class Ar{constructor(t,e){this.textViews=e.textViews,this.element=t.createElement("div"),this.element.classList.add(Tr()),this.textViews.forEach((e=>{const n=t.createElement("div");n.classList.add(Tr("a")),n.appendChild(e.element),this.element.appendChild(n)}))}}function Rr(t,e,n){return new Nn(t,{arrayPosition:0===n?"fst":n===e.axes.length-1?"lst":"mid",baseStep:e.axes[n].baseStep,parser:e.parser,props:e.axes[n].textProps,value:m(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}class Ir{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.acs_=e.axes.map(((n,i)=>Rr(t,e,i))),this.acs_.forEach(((t,n)=>{xn({primary:this.value,secondary:t.value,forward:t=>e.assembly.toComponents(t.rawValue)[n],backward:(t,i)=>{const r=e.assembly.toComponents(t.rawValue);return r[n]=i.rawValue,e.assembly.fromComponents(r)}})})),this.view=new Ar(t,{textViews:this.acs_.map((t=>t.view))})}}function Cr(t){return"step"in t&&!u(t.step)?new _e(t.step):null}function Pr(t){return"max"in t&&!u(t.max)||"min"in t&&!u(t.min)?new ve({max:t.max,min:t.min}):null}function Mr(t){const e=[],n=Cr(t);n&&e.push(n);const i=Pr(t);i&&e.push(i);const r=zn(t.options);return r&&e.push(r),new fe(e)}function Or(t){const e=t?de(t,ve):null;return e?[e.minValue,e.maxValue]:[void 0,void 0]}function Dr(t){const[e,n]=Or(t);return[null!=e?e:0,null!=n?n:100]}const Nr={id:"input-number",type:"input",accept:(t,e)=>{if("number"!=typeof t)return null;const n=S,i=k(e,{format:n.optional.function,max:n.optional.number,min:n.optional.number,options:n.optional.custom(jn),step:n.optional.number});return i?{initialValue:t,params:i}:null},binding:{reader:t=>hn,constraint:t=>Mr(t.params),writer:t=>Yn},controller:t=>{var e,n;const i=t.value,r=t.constraint;if(r&&de(r,pe))return new ge(t.document,{props:y.fromObject({options:null!==(e=qn(r))&&void 0!==e?e:[]}),value:i,viewProps:t.viewProps});const a=null!==(n="format"in t.params?t.params.format:void 0)&&void 0!==n?n:fn(Kn(r,i.rawValue));if(r&&de(r,ve)){const[e,n]=Dr(r);return new Xn(t.document,{baseStep:$n(r),parser:ln,sliderProps:y.fromObject({maxValue:n,minValue:e}),textProps:y.fromObject({draggingScale:Qn(r,i.rawValue),formatter:a}),value:i,viewProps:t.viewProps})}return new Nn(t.document,{baseStep:$n(r),parser:ln,props:y.fromObject({draggingScale:Qn(r,i.rawValue),formatter:a}),value:i,viewProps:t.viewProps})}};class Lr{constructor(t=0,e=0){this.x=t,this.y=e}getComponents(){return[this.x,this.y]}static isObject(t){if(u(t))return!1;const e=t.x,n=t.y;return"number"==typeof e&&"number"==typeof n}static equals(t,e){return t.x===e.x&&t.y===e.y}toObject(){return{x:this.x,y:this.y}}}const Fr={toComponents:t=>t.getComponents(),fromComponents:t=>new Lr(...t)},Br=R("p2d");class Vr{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Br()),e.viewProps.bindClassModifiers(this.element),K(e.expanded,it(this.element,Br(void 0,"expanded")));const n=t.createElement("div");n.classList.add(Br("h")),this.element.appendChild(n);const i=t.createElement("button");i.classList.add(Br("b")),i.appendChild(Y(t,"p2dpad")),e.viewProps.bindDisabled(i),n.appendChild(i),this.buttonElement=i;const r=t.createElement("div");if(r.classList.add(Br("t")),n.appendChild(r),this.textElement=r,"inline"===e.pickerLayout){const e=t.createElement("div");e.classList.add(Br("p")),this.element.appendChild(e),this.pickerElement=e}else this.pickerElement=null}}const Ur=R("p2dp");class Xr{constructor(t,e){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=e.invertsY,this.maxValue_=e.maxValue,this.element=t.createElement("div"),this.element.classList.add(Ur()),"popup"===e.layout&&this.element.classList.add(Ur(void 0,"p"));const n=t.createElement("div");n.classList.add(Ur("p")),e.viewProps.bindTabIndex(n),this.element.appendChild(n),this.padElement=n;const i=t.createElementNS(O,"svg");i.classList.add(Ur("g")),this.padElement.appendChild(i),this.svgElem_=i;const r=t.createElementNS(O,"line");r.classList.add(Ur("ax")),r.setAttributeNS(null,"x1","0"),r.setAttributeNS(null,"y1","50%"),r.setAttributeNS(null,"x2","100%"),r.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(r);const a=t.createElementNS(O,"line");a.classList.add(Ur("ax")),a.setAttributeNS(null,"x1","50%"),a.setAttributeNS(null,"y1","0"),a.setAttributeNS(null,"x2","50%"),a.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(a);const o=t.createElementNS(O,"line");o.classList.add(Ur("l")),o.setAttributeNS(null,"x1","50%"),o.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(o),this.lineElem_=o;const s=t.createElement("div");s.classList.add(Ur("m")),this.padElement.appendChild(s),this.markerElem_=s,e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,e]=this.value.rawValue.getComponents(),n=this.maxValue_,i=In(t,-n,+n,0,100),r=In(e,-n,+n,0,100),a=this.invertsY_?100-r:r;this.lineElem_.setAttributeNS(null,"x2",`${i}%`),this.lineElem_.setAttributeNS(null,"y2",`${a}%`),this.markerElem_.style.left=`${i}%`,this.markerElem_.style.top=`${a}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}class Yr{constructor(t,e){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.baseSteps_=e.baseSteps,this.maxValue_=e.maxValue,this.invertsY_=e.invertsY,this.view=new Xr(t,{invertsY:this.invertsY_,layout:e.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new Rn(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_)}handlePointerEvent_(t){if(!t.point)return;const e=this.maxValue_,n=In(t.point.x,0,t.bounds.width,-e,+e),i=In(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-e,+e);this.value.rawValue=new Lr(n,i)}onPointerDown_(t){this.handlePointerEvent_(t.data)}onPointerMove_(t){this.handlePointerEvent_(t.data)}onPointerUp_(t){this.handlePointerEvent_(t.data)}onPadKeyDown_(t){Tn(t.key)&&t.preventDefault(),this.value.rawValue=new Lr(this.value.rawValue.x+wn(this.baseSteps_[0],Sn(t)),this.value.rawValue.y+wn(this.baseSteps_[1],En(t))*(this.invertsY_?1:-1))}}class jr{constructor(t,e){var n,i;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=ct(e.expanded),this.popC_="popup"===e.pickerLayout?new we(t,{viewProps:this.viewProps}):null;const r=new Yr(t,{baseSteps:[e.axes[0].baseStep,e.axes[1].baseStep],invertsY:e.invertsY,layout:e.pickerLayout,maxValue:e.maxValue,value:this.value,viewProps:this.viewProps});r.view.allFocusableElements.forEach((t=>{t.addEventListener("blur",this.onPopupChildBlur_),t.addEventListener("keydown",this.onPopupChildKeydown_)})),this.pickerC_=r,this.textC_=new Ir(t,{assembly:Fr,axes:e.axes,parser:e.parser,value:this.value,viewProps:this.viewProps}),this.view=new Vr(t,{expanded:this.foldable_.value("expanded"),pickerLayout:e.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),null===(n=this.view.buttonElement)||void 0===n||n.addEventListener("blur",this.onPadButtonBlur_),null===(i=this.view.buttonElement)||void 0===i||i.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),xn({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:t=>t.rawValue,backward:(t,e)=>e.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),_t(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(t){if(!this.popC_)return;const e=this.view.element,n=s(t.relatedTarget);n&&e.contains(n)||(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const e=this.popC_.view.element,n=z(t);n&&e.contains(n)||n&&n===this.view.buttonElement&&!L(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?"Escape"===t.key&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&"Escape"===t.key&&this.view.buttonElement.focus()}}function Gr(t){return Lr.isObject(t)?new Lr(t.x,t.y):new Lr}function Hr(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function Wr(t){if(!t)return;const e=[];return u(t.step)||e.push(new _e(t.step)),u(t.max)&&u(t.min)||e.push(new ve({max:t.max,min:t.min})),new fe(e)}function zr(t){return new kr({assembly:Fr,components:[Wr("x"in t?t.x:void 0),Wr("y"in t?t.y:void 0)]})}function qr(t,e){const n=t&&de(t,ve);if(n)return Math.max(Math.abs(n.minValue||0),Math.abs(n.maxValue||0));const i=$n(t);return Math.max(10*Math.abs(i),10*Math.abs(e))}function Zr(t,e){const n=e instanceof kr?e.components[0]:void 0,i=e instanceof kr?e.components[1]:void 0,r=qr(n,t.x),a=qr(i,t.y);return Math.max(r,a)}function Kr(t,e){return{baseStep:$n(e),constraint:e,textProps:y.fromObject({draggingScale:Qn(e,t),formatter:fn(Kn(e,t))})}}function $r(t){if(!("y"in t))return!1;const e=t.y;return!!e&&"inverted"in e&&!!e.inverted}const Qr={id:"input-point2d",type:"input",accept:(t,e)=>{if(!Lr.isObject(t))return null;const n=S,i=k(e,{expanded:n.optional.boolean,picker:n.optional.custom(Gn),x:n.optional.custom(Hn),y:n.optional.object({inverted:n.optional.boolean,max:n.optional.number,min:n.optional.number,step:n.optional.number})});return i?{initialValue:t,params:i}:null},binding:{reader:t=>Gr,constraint:t=>zr(t.params),equals:Lr.equals,writer:t=>Hr},controller:t=>{const e=t.document,n=t.value,i=t.constraint;if(!(i instanceof kr))throw c.shouldNeverHappen();const r="expanded"in t.params?t.params.expanded:void 0,a="picker"in t.params?t.params.picker:void 0;return new jr(e,{axes:[Kr(n.rawValue.x,i.components[0]),Kr(n.rawValue.y,i.components[1])],expanded:null!=r&&r,invertsY:$r(t.params),maxValue:Zr(n.rawValue,i),parser:ln,pickerLayout:null!=a?a:"popup",value:n,viewProps:t.viewProps})}};class Jr{constructor(t=0,e=0,n=0){this.x=t,this.y=e,this.z=n}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(u(t))return!1;const e=t.x,n=t.y,i=t.z;return"number"==typeof e&&"number"==typeof n&&"number"==typeof i}static equals(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const ta={toComponents:t=>t.getComponents(),fromComponents:t=>new Jr(...t)};function ea(t){return Jr.isObject(t)?new Jr(t.x,t.y,t.z):new Jr}function na(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function ia(t){if(!t)return;const e=[];return u(t.step)||e.push(new _e(t.step)),u(t.max)&&u(t.min)||e.push(new ve({max:t.max,min:t.min})),new fe(e)}function ra(t){return new kr({assembly:ta,components:[ia("x"in t?t.x:void 0),ia("y"in t?t.y:void 0),ia("z"in t?t.z:void 0)]})}function aa(t,e){return{baseStep:$n(e),constraint:e,textProps:y.fromObject({draggingScale:Qn(e,t),formatter:fn(Kn(e,t))})}}const oa={id:"input-point3d",type:"input",accept:(t,e)=>{if(!Jr.isObject(t))return null;const n=S,i=k(e,{x:n.optional.custom(Hn),y:n.optional.custom(Hn),z:n.optional.custom(Hn)});return i?{initialValue:t,params:i}:null},binding:{reader:t=>ea,constraint:t=>ra(t.params),equals:Jr.equals,writer:t=>na},controller:t=>{const e=t.value,n=t.constraint;if(!(n instanceof kr))throw c.shouldNeverHappen();return new Ir(t.document,{assembly:ta,axes:[aa(e.rawValue.x,n.components[0]),aa(e.rawValue.y,n.components[1]),aa(e.rawValue.z,n.components[2])],parser:ln,value:e,viewProps:t.viewProps})}};class sa{constructor(t=0,e=0,n=0,i=0){this.x=t,this.y=e,this.z=n,this.w=i}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(u(t))return!1;const e=t.x,n=t.y,i=t.z,r=t.w;return"number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"number"==typeof r}static equals(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const ua={toComponents:t=>t.getComponents(),fromComponents:t=>new sa(...t)};function la(t){return sa.isObject(t)?new sa(t.x,t.y,t.z,t.w):new sa}function ha(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function ca(t){if(!t)return;const e=[];return u(t.step)||e.push(new _e(t.step)),u(t.max)&&u(t.min)||e.push(new ve({max:t.max,min:t.min})),new fe(e)}function fa(t){return new kr({assembly:ua,components:[ca("x"in t?t.x:void 0),ca("y"in t?t.y:void 0),ca("z"in t?t.z:void 0),ca("w"in t?t.w:void 0)]})}function da(t,e){return{baseStep:$n(e),constraint:e,textProps:y.fromObject({draggingScale:Qn(e,t),formatter:fn(Kn(e,t))})}}const pa={id:"input-point4d",type:"input",accept:(t,e)=>{if(!sa.isObject(t))return null;const n=S,i=k(e,{x:n.optional.custom(Hn),y:n.optional.custom(Hn),z:n.optional.custom(Hn),w:n.optional.custom(Hn)});return i?{initialValue:t,params:i}:null},binding:{reader:t=>la,constraint:t=>fa(t.params),equals:sa.equals,writer:t=>ha},controller:t=>{const e=t.value,n=t.constraint;if(!(n instanceof kr))throw c.shouldNeverHappen();return new Ir(t.document,{assembly:ua,axes:e.rawValue.getComponents().map(((t,e)=>da(t,n.components[e]))),parser:ln,value:e,viewProps:t.viewProps})}};function va(t){const e=[],n=zn(t.options);return n&&e.push(n),new fe(e)}const _a={id:"input-string",type:"input",accept:(t,e)=>{if("string"!=typeof t)return null;const n=k(e,{options:S.optional.custom(jn)});return n?{initialValue:t,params:n}:null},binding:{reader:t=>vn,constraint:t=>va(t.params),writer:t=>Yn},controller:t=>{var e;const n=t.document,i=t.value,r=t.constraint;return r&&de(r,pe)?new ge(n,{props:y.fromObject({options:null!==(e=qn(r))&&void 0!==e?e:[]}),value:i,viewProps:t.viewProps}):new ke(n,{parser:t=>t,props:y.fromObject({formatter:_n}),value:i,viewProps:t.viewProps})}},ma={monitor:{defaultInterval:200,defaultLineCount:3}},ya=R("mll");class ga{constructor(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(ya()),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("textarea");n.classList.add(ya("i")),n.style.height=`calc(var(--bld-us) * ${e.lineCount})`,n.readOnly=!0,e.viewProps.bindDisabled(n),this.element.appendChild(n),this.textareaElem_=n,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}update_(){const t=this.textareaElem_,e=t.scrollTop===t.scrollHeight-t.clientHeight,n=[];this.value.rawValue.forEach((t=>{void 0!==t&&n.push(this.formatter_(t))})),t.textContent=n.join("\n"),e&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class ba{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new ga(t,{formatter:e.formatter,lineCount:e.lineCount,value:this.value,viewProps:this.viewProps})}}const xa=R("sgl");class wa{constructor(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(xa()),e.viewProps.bindClassModifiers(this.element);const n=t.createElement("input");n.classList.add(xa("i")),n.readOnly=!0,n.type="text",e.viewProps.bindDisabled(n),this.element.appendChild(n),this.inputElem_=n,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}update_(){const t=this.value.rawValue,e=t[t.length-1];this.inputElem_.value=void 0!==e?this.formatter_(e):""}onValueUpdate_(){this.update_()}}class Ea{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new wa(t,{formatter:e.formatter,value:this.value,viewProps:this.viewProps})}}const Sa={id:"monitor-bool",type:"monitor",accept:(t,e)=>{if("boolean"!=typeof t)return null;const n=k(e,{lineCount:S.optional.number});return n?{initialValue:t,params:n}:null},binding:{reader:t=>Ae},controller:t=>{var e;return 1===t.value.rawValue.length?new Ea(t.document,{formatter:Re,value:t.value,viewProps:t.viewProps}):new ba(t.document,{formatter:Re,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:ma.monitor.defaultLineCount,value:t.value,viewProps:t.viewProps})}};class ka{constructor(){this.emitter=new p,this.index_=-1}get index(){return this.index_}set index(t){this.index_!==t&&(this.index_=t,this.emitter.emit("change",{index:t,sender:this}))}}const Ta=R("grl");class Aa{constructor(t,e){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Ta()),e.viewProps.bindClassModifiers(this.element),this.formatter_=e.formatter,this.minValue_=e.minValue,this.maxValue_=e.maxValue,this.cursor_=e.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const n=t.createElementNS(O,"svg");n.classList.add(Ta("g")),n.style.height=`calc(var(--bld-us) * ${e.lineCount})`,this.element.appendChild(n),this.svgElem_=n;const i=t.createElementNS(O,"polyline");this.svgElem_.appendChild(i),this.lineElem_=i;const r=t.createElement("div");r.classList.add(Ta("t"),R("tt")()),this.element.appendChild(r),this.tooltipElem_=r,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),e=this.value.rawValue.length-1,n=this.minValue_,i=this.maxValue_,r=[];this.value.rawValue.forEach(((a,o)=>{if(void 0===a)return;const s=In(o,0,e,0,t.width),u=In(a,n,i,t.height,0);r.push([s,u].join(","))})),this.lineElem_.setAttributeNS(null,"points",r.join(" "));const a=this.tooltipElem_,o=this.value.rawValue[this.cursor_.index];if(void 0===o)return void a.classList.remove(Ta("t","a"));const s=In(this.cursor_.index,0,e,0,t.width),u=In(o,n,i,t.height,0);a.style.left=`${s}px`,a.style.top=`${u}px`,a.textContent=`${this.formatter_(o)}`,a.classList.contains(Ta("t","a"))||(a.classList.add(Ta("t","a"),Ta("t","in")),D(a),a.classList.remove(Ta("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Ra{constructor(t,e){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.cursor_=new ka,this.view=new Aa(t,{cursor:this.cursor_,formatter:e.formatter,lineCount:e.lineCount,maxValue:e.maxValue,minValue:e.minValue,value:this.value,viewProps:this.viewProps}),L(t)){const t=new Rn(this.view.element);t.emitter.on("down",this.onGraphPointerDown_),t.emitter.on("move",this.onGraphPointerMove_),t.emitter.on("up",this.onGraphPointerUp_)}else this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_)}onGraphMouseLeave_(){this.cursor_.index=-1}onGraphMouseMove_(t){const e=this.view.element.getBoundingClientRect();this.cursor_.index=Math.floor(In(t.offsetX,0,e.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){t.data.point?this.cursor_.index=Math.floor(In(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length)):this.cursor_.index=-1}onGraphPointerUp_(){this.cursor_.index=-1}}function Ia(){return fn(2)}function Ca(t){var e;return 1===t.value.rawValue.length?new Ea(t.document,{formatter:Ia(),value:t.value,viewProps:t.viewProps}):new ba(t.document,{formatter:Ia(),lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:ma.monitor.defaultLineCount,value:t.value,viewProps:t.viewProps})}function Pa(t){var e,n,i;return new Ra(t.document,{formatter:Ia(),lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:ma.monitor.defaultLineCount,maxValue:null!==(n="max"in t.params?t.params.max:null)&&void 0!==n?n:100,minValue:null!==(i="min"in t.params?t.params.min:null)&&void 0!==i?i:0,value:t.value,viewProps:t.viewProps})}function Ma(t){return"view"in t&&"graph"===t.view}const Oa={id:"monitor-number",type:"monitor",accept:(t,e)=>{if("number"!=typeof t)return null;const n=S,i=k(e,{lineCount:n.optional.number,max:n.optional.number,min:n.optional.number,view:n.optional.string});return i?{initialValue:t,params:i}:null},binding:{defaultBufferSize:t=>Ma(t)?64:1,reader:t=>hn},controller:t=>Ma(t.params)?Pa(t):Ca(t)},Da={id:"monitor-string",type:"monitor",accept:(t,e)=>{if("string"!=typeof t)return null;const n=S,i=k(e,{lineCount:n.optional.number,multiline:n.optional.boolean});return i?{initialValue:t,params:i}:null},binding:{reader:t=>vn},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||"multiline"in t.params&&t.params.multiline?new ba(t.document,{formatter:_n,lineCount:null!==(e=t.params.lineCount)&&void 0!==e?e:ma.monitor.defaultLineCount,value:n,viewProps:t.viewProps}):new Ea(t.document,{formatter:_n,value:n,viewProps:t.viewProps})}};class Na{constructor(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new p,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}read(){const t=this.target.read();void 0!==t&&(this.value.rawValue=this.reader(t))}write_(t){this.writer(this.target,t)}onValueChange_(t){this.write_(t.rawValue),this.emitter.emit("change",{rawValue:t.rawValue,sender:this})}}function La(t,e){const n=t.accept(e.target.read(),e.params);if(u(n))return null;const i=S,r={target:e.target,initialValue:n.initialValue,params:n.params},a=t.binding.reader(r),o=t.binding.constraint?t.binding.constraint(r):void 0,s=m(a(n.initialValue),{constraint:o,equals:t.binding.equals}),l=new Na({reader:a,target:e.target,value:s,writer:t.binding.writer(r)}),h=i.optional.boolean(e.params.disabled).value,c=i.optional.boolean(e.params.hidden).value,f=t.controller({constraint:o,document:e.document,initialValue:n.initialValue,params:n.params,value:l.value,viewProps:Jt.create({disabled:h,hidden:c})}),d=i.optional.string(e.params.label).value;return new St(e.document,{binding:l,blade:ht(),props:y.fromObject({label:d||e.target.key}),valueController:f})}class Fa{constructor(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new p,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const t=this.target.read();if(void 0===t)return;const e=this.value.rawValue,n=this.reader_(t);this.value.rawValue=bn(e,n),this.emitter.emit("update",{rawValue:n,sender:this})}onTick_(t){this.read()}}class Ba{constructor(t,e){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new p,this.interval_=e,this.setTimer_()}get disabled(){return this.disabled_}set disabled(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(null===this.timerId_)return;const t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}function Va(t,e){return 0===e?new ce:new Ba(t,null!=e?e:ma.monitor.defaultInterval)}function Ua(t,e){var n,i,r;const a=S,o=t.accept(e.target.read(),e.params);if(u(o))return null;const s={target:e.target,initialValue:o.initialValue,params:o.params},l=t.binding.reader(s),h=null!==(i=null!==(n=a.optional.number(e.params.bufferSize).value)&&void 0!==n?n:t.binding.defaultBufferSize&&t.binding.defaultBufferSize(o.params))&&void 0!==i?i:1,c=a.optional.number(e.params.interval).value,f=new Fa({reader:l,target:e.target,ticker:Va(e.document,c),value:yn(h)}),d=a.optional.boolean(e.params.disabled).value,p=a.optional.boolean(e.params.hidden).value,v=t.controller({document:e.document,params:o.params,value:f.value,viewProps:Jt.create({disabled:d,hidden:p})}),_=null!==(r=a.optional.string(e.params.label).value)&&void 0!==r?r:e.target.key;return new Tt(e.document,{binding:f,blade:ht(),props:y.fromObject({label:_}),valueController:v})}class Xa{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(t){"blade"===t.type?this.pluginsMap_.blades.unshift(t):"input"===t.type?this.pluginsMap_.inputs.unshift(t):"monitor"===t.type&&this.pluginsMap_.monitors.unshift(t)}createInput(t,e,n){if(u(e.read()))throw new c({context:{key:e.key},type:"nomatchingcontroller"});const i=this.pluginsMap_.inputs.reduce(((i,r)=>i||La(r,{document:t,target:e,params:n})),null);if(i)return i;throw new c({context:{key:e.key},type:"nomatchingcontroller"})}createMonitor(t,e,n){const i=this.pluginsMap_.monitors.reduce(((i,r)=>i||Ua(r,{document:t,params:n,target:e})),null);if(i)return i;throw new c({context:{key:e.key},type:"nomatchingcontroller"})}createBlade(t,e){const n=this.pluginsMap_.blades.reduce(((n,i)=>n||he(i,{document:t,params:e})),null);if(!n)throw new c({type:"nomatchingview",context:{params:e}});return n}createBladeApi(t){if(t instanceof St)return new Et(t);if(t instanceof Tt)return new kt(t);if(t instanceof Ut)return new Ct(t,this);const e=this.pluginsMap_.blades.reduce(((e,n)=>e||n.api({controller:t,pool:this})),null);if(!e)throw c.shouldNeverHappen();return e}}function Ya(){const t=new Xa;return[Qr,oa,pa,_a,Nr,Sr,Er,xr,ii,Sa,Da,Oa,ut,Gt,Kt,le].forEach((e=>{t.register(e)})),t}class ja extends n{constructor(t){super(t),this.emitter_=new p,this.controller_.valueController.value.emitter.on("change",(t=>{this.emitter_.emit("change",{event:new r(this,t.rawValue)})}))}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get options(){return this.controller_.valueController.props.get("options")}set options(t){this.controller_.valueController.props.set("options",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const n=e.bind(this);return this.emitter_.on(t,(t=>{n(t.event)})),this}}class Ga extends n{constructor(t){super(t),this.emitter_=new p,this.controller_.valueController.value.emitter.on("change",(t=>{this.emitter_.emit("change",{event:new r(this,t.rawValue)})}))}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(t){this.controller_.valueController.sliderController.props.set("minValue",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const n=e.bind(this);return this.emitter_.on(t,(t=>{n(t.event)})),this}}class Ha extends n{constructor(t){super(t),this.emitter_=new p,this.controller_.valueController.value.emitter.on("change",(t=>{this.emitter_.emit("change",{event:new r(this,t.rawValue)})}))}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(t){this.controller_.valueController.props.set("formatter",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const n=e.bind(this);return this.emitter_.on(t,(t=>{n(t.event)})),this}}const Wa={id:"list",type:"blade",accept(t){const e=S,n=k(t,{options:e.required.custom(jn),value:e.required.raw,view:e.required.constant("list"),label:e.optional.string});return n?{params:n}:null},controller(t){const e=new ge(t.document,{props:y.fromObject({options:Wn(t.params.options)}),value:m(t.params.value),viewProps:t.viewProps});return new Ht(t.document,{blade:t.blade,props:y.fromObject({label:t.params.label}),valueController:e})},api:t=>t.controller instanceof Ht&&t.controller.valueController instanceof ge?new ja(t.controller):null};function za(t){return t.reduce(((t,e)=>Object.assign(t,{[e.presetKey]:e.read()})),{})}function qa(t,e){t.forEach((t=>{const n=e[t.presetKey];void 0!==n&&t.write(n)}))}class Za extends Pt{constructor(t,e){super(t,e)}get element(){return this.controller_.view.element}importPreset(t){qa(this.controller_.rackController.rack.find(St).map((t=>t.binding.target)),t),this.refresh()}exportPreset(){return za(this.controller_.rackController.rack.find(St).map((t=>t.binding.target)))}refresh(){this.controller_.rackController.rack.find(St).forEach((t=>{t.binding.read()})),this.controller_.rackController.rack.find(Tt).forEach((t=>{t.binding.read()}))}}class Ka extends jt{constructor(t,e){super(t,{expanded:e.expanded,blade:e.blade,props:e.props,root:!0,viewProps:e.viewProps})}}const $a={id:"slider",type:"blade",accept(t){const e=S,n=k(t,{max:e.required.number,min:e.required.number,view:e.required.constant("slider"),format:e.optional.function,label:e.optional.string,value:e.optional.number});return n?{params:n}:null},controller(t){var e,n;const i=null!==(e=t.params.value)&&void 0!==e?e:0,r=new Xn(t.document,{baseStep:1,parser:ln,sliderProps:y.fromObject({maxValue:t.params.max,minValue:t.params.min}),textProps:y.fromObject({draggingScale:Qn(void 0,i),formatter:null!==(n=t.params.format)&&void 0!==n?n:cn}),value:m(i),viewProps:t.viewProps});return new Ht(t.document,{blade:t.blade,props:y.fromObject({label:t.params.label}),valueController:r})},api:t=>t.controller instanceof Ht&&t.controller.valueController instanceof Xn?new Ga(t.controller):null},Qa={id:"text",type:"blade",accept(t){const e=S,n=k(t,{parse:e.required.function,value:e.required.raw,view:e.required.constant("text"),format:e.optional.function,label:e.optional.string});return n?{params:n}:null},controller(t){var e;const n=new ke(t.document,{parser:t.params.parse,props:y.fromObject({formatter:null!==(e=t.params.format)&&void 0!==e?e:t=>String(t)}),value:m(t.params.value),viewProps:t.viewProps});return new Ht(t.document,{blade:t.blade,props:y.fromObject({label:t.params.label}),valueController:n})},api:t=>t.controller instanceof Ht&&t.controller.valueController instanceof ke?new Ha(t.controller):null};function Ja(t){const e=t.createElement("div");return e.classList.add(R("dfw")()),t.body&&t.body.appendChild(e),e}function to(t,e,n){if(t.querySelector(`style[data-tp-style=${e}]`))return;const i=t.createElement("style");i.dataset.tpStyle=e,i.textContent=n,t.head.appendChild(i)}class eo extends Za{constructor(t){var e;const n=t||{},i=null!==(e=n.document)&&void 0!==e?e:B(),r=Ya();super(new Ka(i,{expanded:n.expanded,blade:ht(),props:y.fromObject({title:n.title}),viewProps:Jt.create()}),r),this.pool_=r,this.containerElem_=n.container||Ja(i),this.containerElem_.appendChild(this.element),this.doc_=i,this.usesDefaultWrapper_=!n.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw c.alreadyDisposed();return this.doc_}dispose(){const t=this.containerElem_;if(!t)throw c.alreadyDisposed();if(this.usesDefaultWrapper_){const e=t.parentElement;e&&e.removeChild(t)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(t){("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach((t=>{this.pool_.register(t),this.embedPluginStyle_(t)}))}embedPluginStyle_(t){t.css&&to(this.document,`plugin-${t.id}`,t.css)}setUpDefaultPlugins_(){to(this.document,"default",".tp-lstv_s,.tp-btnv_b,.tp-p2dv_b,.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-fldv_b,.tp-rotv_b,.tp-ckbv_i,.tp-coltxtv_ms,.tp-tbiv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-lstv_s,.tp-btnv_b,.tp-p2dv_b{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-lstv_s:hover,.tp-btnv_b:hover,.tp-p2dv_b:hover{background-color:var(--btn-bg-h)}.tp-lstv_s:focus,.tp-btnv_b:focus,.tp-p2dv_b:focus{background-color:var(--btn-bg-f)}.tp-lstv_s:active,.tp-btnv_b:active,.tp-p2dv_b:active{background-color:var(--btn-bg-a)}.tp-lstv_s:disabled,.tp-btnv_b:disabled,.tp-p2dv_b:disabled{opacity:0.5}.tp-colswv_sw,.tp-p2dpv_p,.tp-txtv_i{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-colswv_sw:hover,.tp-p2dpv_p:hover,.tp-txtv_i:hover{background-color:var(--in-bg-h)}.tp-colswv_sw:focus,.tp-p2dpv_p:focus,.tp-txtv_i:focus{background-color:var(--in-bg-f)}.tp-colswv_sw:active,.tp-p2dpv_p:active,.tp-txtv_i:active{background-color:var(--in-bg-a)}.tp-colswv_sw:disabled,.tp-p2dpv_p:disabled,.tp-txtv_i:disabled{opacity:0.5}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);width:100%}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, #2f3137);--bs-sh: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--btn-bg: var(--tp-button-background-color, #adafb8);--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, #2f3137);--cnt-bg: var(--tp-container-background-color, rgba(187,188,196,0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187,188,196,0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187,188,196,0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187,188,196,0.15));--cnt-fg: var(--tp-container-foreground-color, #bbbcc4);--in-bg: var(--tp-input-background-color, rgba(0,0,0,0.2));--in-bg-a: var(--tp-input-background-color-active, rgba(0,0,0,0.35));--in-bg-f: var(--tp-input-background-color-focus, rgba(0,0,0,0.3));--in-bg-h: var(--tp-input-background-color-hover, rgba(0,0,0,0.25));--in-fg: var(--tp-input-foreground-color, #bbbcc4);--lbl-fg: var(--tp-label-foreground-color, rgba(187,188,196,0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0,0,0,0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187,188,196,0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(0,0,0,0.2))}.tp-fldv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-rotv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-v-p))}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-rotv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-fldv_c>.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c,.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_c>.tp-tabv>.tp-tabv_i,.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_i{border-top-left-radius:var(--elm-br)}.tp-fldv_c .tp-tabv>.tp-tabv_c,.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-fldv_b,.tp-rotv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:calc(var(--cnt-h-p) + 8px);padding-right:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_b:hover,.tp-rotv_b:hover{background-color:var(--cnt-bg-h)}.tp-fldv_b:focus,.tp-rotv_b:focus{background-color:var(--cnt-bg-f)}.tp-fldv_b:active,.tp-rotv_b:active{background-color:var(--cnt-bg-a)}.tp-fldv_b:disabled,.tp-rotv_b:disabled{opacity:0.5}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:'';display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px) / 2 - 2px);margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-coltxtv_m,.tp-lstv{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-coltxtv_mm,.tp-lstv_m{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-coltxtv_mm svg,.tp-lstv_m svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-coltxtv_mm svg path,.tp-lstv_m svg path{fill:currentColor}.tp-coltxtv_w,.tp-pndtxtv{display:flex}.tp-coltxtv_c,.tp-pndtxtv_a{width:100%}.tp-coltxtv_c+.tp-coltxtv_c,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-pndtxtv_a{margin-left:2px}.tp-btnv_b{width:100%}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:0.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a:before{background-color:var(--grv-fg);content:'';height:2px;left:calc(-1 * var(--cnt-h-p));position:absolute;right:calc(-1 * var(--cnt-h-p));top:0}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us) * 4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br)}.tp-colswv.tp-v-disabled{opacity:0.5}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:'';display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_c{border-left:var(--cnt-bg) solid 4px}.tp-fldv_b:hover+.tp-fldv_c{border-left-color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_c{border-left-color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_c{border-left-color:var(--cnt-bg-a)}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left 0.05s, top 0.05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:0.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:0.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv.tp-v-disabled .tp-lstv_s{opacity:0.5}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:0.5}.tp-mllv_i{display:block;height:calc(var(--bld-us) * 3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:0.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-h-p));right:calc(-1 * var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:0.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:0.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sldv.tp-v-disabled{opacity:0.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:'';display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv.tp-v-disabled{opacity:0.5}.tp-tabv_i{align-items:flex-end;display:flex;overflow:hidden}.tp-tabv.tp-tabv-nop .tp-tabv_i{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_i::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:0;position:absolute;right:0}.tp-tabv_c{border-left:var(--cnt-bg) solid 4px;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p)}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv::before{background-color:var(--cnt-bg);bottom:0;content:'';height:2px;left:-2px;position:absolute;width:2px}.tp-tbiv_b{background-color:var(--cnt-bg);display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);width:100%}.tp-tbiv_b:hover{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active{background-color:var(--cnt-bg-a)}.tp-tbiv_b:disabled{opacity:0.5}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:0.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:0.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:'';height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:0.1;position:absolute;top:0;transition:border-radius 0.1s, height 0.1s, transform 0.1s, width 0.1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) transparent transparent transparent;border-style:solid;border-width:2px;box-sizing:border-box;content:'';font-size:0.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(2px * 2 + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c,.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_i{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}"),this.pool_.getAll().forEach((t=>{this.embedPluginStyle_(t)})),this.registerPlugin({plugins:[$a,Wa,le,Qa]})}}const no=new e("3.0.0");t.BladeApi=n,t.ButtonApi=d,t.FolderApi=Pt,t.InputBindingApi=Et,t.ListApi=ja,t.MonitorBindingApi=kt,t.Pane=eo,t.SeparatorApi=Wt,t.SliderApi=Ga,t.TabApi=ae,t.TabPageApi=re,t.TextApi=Ha,t.TpChangeEvent=r,t.VERSION=no,Object.defineProperty(t,"__esModule",{value:!0})}(e)},2511:function(t,e,n){var i;t=n.nmd(t),function(r){e&&e.nodeType,t&&t.nodeType;var a="object"==typeof n.g&&n.g;a.global!==a&&a.window!==a&&a.self;var o,s=2147483647,u=36,l=/^xn--/,h=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function v(t){throw RangeError(f[t])}function _(t,e){for(var n=t.length,i=[];n--;)i[n]=e(t[n]);return i}function m(t,e){var n=t.split("@"),i="";return n.length>1&&(i=n[0]+"@",t=n[1]),i+_((t=t.replace(c,".")).split("."),e).join(".")}function y(t){for(var e,n,i=[],r=0,a=t.length;r<a;)(e=t.charCodeAt(r++))>=55296&&e<=56319&&r<a?56320==(64512&(n=t.charCodeAt(r++)))?i.push(((1023&e)<<10)+(1023&n)+65536):(i.push(e),r--):i.push(e);return i}function g(t){return _(t,(function(t){var e="";return t>65535&&(e+=p((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=p(t)})).join("")}function b(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function x(t,e,n){var i=0;for(t=n?d(t/700):t>>1,t+=d(t/e);t>455;i+=u)t=d(t/35);return d(i+36*t/(t+38))}function w(t){var e,n,i,r,a,o,l,h,c,f,p,_=[],m=t.length,y=0,b=128,w=72;for((n=t.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)t.charCodeAt(i)>=128&&v("not-basic"),_.push(t.charCodeAt(i));for(r=n>0?n+1:0;r<m;){for(a=y,o=1,l=u;r>=m&&v("invalid-input"),((h=(p=t.charCodeAt(r++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||h>d((s-y)/o))&&v("overflow"),y+=h*o,!(h<(c=l<=w?1:l>=w+26?26:l-w));l+=u)o>d(s/(f=u-c))&&v("overflow"),o*=f;w=x(y-a,e=_.length+1,0==a),d(y/e)>s-b&&v("overflow"),b+=d(y/e),y%=e,_.splice(y++,0,b)}return g(_)}function E(t){var e,n,i,r,a,o,l,h,c,f,_,m,g,w,E,S=[];for(m=(t=y(t)).length,e=128,n=0,a=72,o=0;o<m;++o)(_=t[o])<128&&S.push(p(_));for(i=r=S.length,r&&S.push("-");i<m;){for(l=s,o=0;o<m;++o)(_=t[o])>=e&&_<l&&(l=_);for(l-e>d((s-n)/(g=i+1))&&v("overflow"),n+=(l-e)*g,e=l,o=0;o<m;++o)if((_=t[o])<e&&++n>s&&v("overflow"),_==e){for(h=n,c=u;!(h<(f=c<=a?1:c>=a+26?26:c-a));c+=u)E=h-f,w=u-f,S.push(p(b(f+E%w,0))),h=d(E/w);S.push(p(b(h,0))),a=x(n,g,i==r),n=0,++i}++n,++e}return S.join("")}o={version:"1.3.2",ucs2:{decode:y,encode:g},decode:w,encode:E,toASCII:function(t){return m(t,(function(t){return h.test(t)?"xn--"+E(t):t}))},toUnicode:function(t){return m(t,(function(t){return l.test(t)?w(t.slice(4).toLowerCase()):t}))}},void 0===(i=function(){return o}.call(e,n,e,t))||(t.exports=i)}()},8575:function(t,e,n){"use strict";var i=n(2511),r=n(2502);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.Qc=g,e.DB=function(t,e){return g(t,!1,!0).resolve(e)},e.WU=function(t){r.isString(t)&&(t=g(t));return t instanceof a?t.format():a.prototype.format.call(t)};var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),c=["%","/","?",";","#"].concat(h),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},_={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(7673);function g(t,e,n){if(t&&r.isObject(t)&&t instanceof a)return t;var i=new a;return i.parse(t,e,n),i}a.prototype.parse=function(t,e,n){if(!r.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var a=t.indexOf("?"),s=-1!==a&&a<t.indexOf("#")?"?":"#",l=t.split(s);l[0]=l[0].replace(/\\/g,"/");var g=t=l.join(s);if(g=g.trim(),!n&&1===t.split("#").length){var b=u.exec(g);if(b)return this.path=g,this.href=g,this.pathname=b[1],b[2]?(this.search=b[2],this.query=e?y.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=o.exec(g);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,g=g.substr(x.length)}if(n||x||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===g.substr(0,2);!E||x&&_[x]||(g=g.substr(2),this.slashes=!0)}if(!_[x]&&(E||x&&!m[x])){for(var S,k,T=-1,A=0;A<f.length;A++){-1!==(R=g.indexOf(f[A]))&&(-1===T||R<T)&&(T=R)}-1!==(k=-1===T?g.lastIndexOf("@"):g.lastIndexOf("@",T))&&(S=g.slice(0,k),g=g.slice(k+1),this.auth=decodeURIComponent(S)),T=-1;for(A=0;A<c.length;A++){var R;-1!==(R=g.indexOf(c[A]))&&(-1===T||R<T)&&(T=R)}-1===T&&(T=g.length),this.host=g.slice(0,T),g=g.slice(T),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var C=this.hostname.split(/\./),P=(A=0,C.length);A<P;A++){var M=C[A];if(M&&!M.match(d)){for(var O="",D=0,N=M.length;D<N;D++)M.charCodeAt(D)>127?O+="x":O+=M[D];if(!O.match(d)){var L=C.slice(0,A),F=C.slice(A+1),B=M.match(p);B&&(L.push(B[1]),F.unshift(B[2])),F.length&&(g="/"+F.join(".")+g),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var V=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+V,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==g[0]&&(g="/"+g))}if(!v[w])for(A=0,P=h.length;A<P;A++){var X=h[A];if(-1!==g.indexOf(X)){var Y=encodeURIComponent(X);Y===X&&(Y=escape(X)),g=g.split(X).join(Y)}}var j=g.indexOf("#");-1!==j&&(this.hash=g.substr(j),g=g.slice(0,j));var G=g.indexOf("?");if(-1!==G?(this.search=g.substr(G),this.query=g.substr(G+1),e&&(this.query=y.parse(this.query)),g=g.slice(0,G)):e&&(this.search="",this.query={}),g&&(this.pathname=g),m[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){V=this.pathname||"";var H=this.search||"";this.path=V+H}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",i=this.hash||"",a=!1,o="";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||m[e])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),e+a+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+i},a.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(r.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var n=new a,i=Object.keys(this),o=0;o<i.length;o++){var s=i[o];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),l=0;l<u.length;l++){var h=u[l];"protocol"!==h&&(n[h]=t[h])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!m[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];n[d]=t[d]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||_[t.protocol])n.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var g=n.pathname&&"/"===n.pathname.charAt(0),b=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=b||g||n.host&&t.pathname,w=x,E=n.pathname&&n.pathname.split("/")||[],S=(p=t.pathname&&t.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),x=x&&(""===p[0]||""===E[0])),b)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,E=p;else if(p.length)E||(E=[]),E.pop(),E=E.concat(p),n.search=t.search,n.query=t.query;else if(!r.isNullOrUndefined(t.search)){if(S)n.hostname=n.host=E.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=t.search,n.query=t.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var k=E.slice(-1)[0],T=(n.host||t.host||E.length>1)&&("."===k||".."===k)||""===k,A=0,R=E.length;R>=0;R--)"."===(k=E[R])?E.splice(R,1):".."===k?(E.splice(R,1),A++):A&&(E.splice(R,1),A--);if(!x&&!w)for(;A--;A)E.unshift("..");!x||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),T&&"/"!==E.join("/").substr(-1)&&E.push("");var I,C=""===E[0]||E[0]&&"/"===E[0].charAt(0);S&&(n.hostname=n.host=C?"":E.length?E.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(x=x||n.host&&E.length)&&!C&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},2502:function(t){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},2473:function(t){"use strict";var e=function(){};t.exports=e},5933:function(t,e,n){var i;!function(){function r(t,e,n){return t.call.apply(t.bind,arguments)}function a(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function o(t,e,n){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?r:a).apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var l=!!window.FontFace;function h(t,e,n,i){if(e=t.c.createElement(e),n)for(var r in n)n.hasOwnProperty(r)&&("style"==r?e.style.cssText=n[r]:e.setAttribute(r,n[r]));return i&&e.appendChild(t.c.createTextNode(i)),e}function c(t,e,n){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(n,t.lastChild)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e,n){e=e||[],n=n||[];for(var i=t.className.split(/\s+/),r=0;r<e.length;r+=1){for(var a=!1,o=0;o<i.length;o+=1)if(e[r]===i[o]){a=!0;break}a||i.push(e[r])}for(e=[],r=0;r<i.length;r+=1){for(a=!1,o=0;o<n.length;o+=1)if(i[r]===n[o]){a=!0;break}a||e.push(i[r])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var n=t.className.split(/\s+/),i=0,r=n.length;i<r;i++)if(n[i]==e)return!0;return!1}function v(t,e,n){function i(){s&&r&&a&&(s(o),s=null)}e=h(t,"link",{rel:"stylesheet",href:e,media:"all"});var r=!1,a=!0,o=null,s=n||null;l?(e.onload=function(){r=!0,i()},e.onerror=function(){r=!0,o=Error("Stylesheet failed to load"),i()}):setTimeout((function(){r=!0,i()}),0),c(t,"head",e)}function _(t,e,n,i){var r=t.c.getElementsByTagName("head")[0];if(r){var a=h(t,"script",{src:e}),o=!1;return a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,n&&n(null),a.onload=a.onreadystatechange=null,"HEAD"==a.parentNode.tagName&&r.removeChild(a))},r.appendChild(a),setTimeout((function(){o||(o=!0,n&&n(Error("Script load timeout")))}),i||5e3),a}return null}function m(){this.a=0,this.c=null}function y(t){return t.a++,function(){t.a--,b(t)}}function g(t,e){t.c=e,b(t)}function b(t){0==t.a&&t.c&&(t.c(),t.c=null)}function x(t){this.a=t||"-"}function w(t,e){this.c=t,this.f=4,this.a="n";var n=(e||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function E(t){var e=[];t=t.split(/,\s*/);for(var n=0;n<t.length;n++){var i=t[n].replace(/['"]/g,"");-1!=i.indexOf(" ")||/^\d/.test(i)?e.push("'"+i+"'"):e.push(i)}return e.join(",")}function S(t){return t.a+t.f}function k(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function T(t){var e=4,n="n",i=null;return t&&((i=t.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=t.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?e=7:/[1-9]00/.test(i[1])&&(e=parseInt(i[1].substr(0,1),10)))),n+e}function A(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new x("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function R(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),n=[],i=[t.a.c("wf","loading")];e||n.push(t.a.c("wf","inactive")),d(t.f,n,i)}I(t,"inactive")}function I(t,e,n){t.j&&t.h[e]&&(n?t.h[e](n.c,S(n)):t.h[e]())}function C(){this.c={}}function P(t,e){this.c=t,this.f=e,this.a=h(this.c,"span",{"aria-hidden":"true"},this.f)}function M(t){c(t.c,"body",t.a)}function O(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+E(t.c)+";font-style:"+k(t)+";font-weight:"+t.f+"00;"}function D(t,e,n,i,r,a){this.g=t,this.j=e,this.a=i,this.c=n,this.f=r||3e3,this.h=a||void 0}function N(t,e,n,i,r,a,o){this.v=t,this.B=e,this.c=n,this.a=i,this.s=o||"BESbswy",this.f={},this.w=r||3e3,this.u=a||null,this.m=this.j=this.h=this.g=null,this.g=new P(this.c,this.s),this.h=new P(this.c,this.s),this.j=new P(this.c,this.s),this.m=new P(this.c,this.s),t=O(t=new w(this.a.c+",serif",S(this.a))),this.g.a.style.cssText=t,t=O(t=new w(this.a.c+",sans-serif",S(this.a))),this.h.a.style.cssText=t,t=O(t=new w("serif",S(this.a))),this.j.a.style.cssText=t,t=O(t=new w("sans-serif",S(this.a))),this.m.a.style.cssText=t,M(this.g),M(this.h),M(this.j),M(this.m)}x.prototype.c=function(t){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},D.prototype.start=function(){var t=this.c.o.document,e=this,n=s(),i=new Promise((function(i,r){!function a(){s()-n>=e.f?r():t.fonts.load(function(t){return k(t)+" "+t.f+"00 300px "+E(t.c)}(e.a),e.h).then((function(t){1<=t.length?i():setTimeout(a,25)}),(function(){r()}))}()})),r=null,a=new Promise((function(t,n){r=setTimeout(n,e.f)}));Promise.race([a,i]).then((function(){r&&(clearTimeout(r),r=null),e.g(e.a)}),(function(){e.j(e.a)}))};var L={D:"serif",C:"sans-serif"},F=null;function B(){if(null===F){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);F=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return F}function V(t,e,n){for(var i in L)if(L.hasOwnProperty(i)&&e===t.f[L[i]]&&n===t.f[L[i]])return!0;return!1}function U(t){var e,n=t.g.a.offsetWidth,i=t.h.a.offsetWidth;(e=n===t.f.serif&&i===t.f["sans-serif"])||(e=B()&&V(t,n,i)),e?s()-t.A>=t.w?B()&&V(t,n,i)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?X(t,t.v):X(t,t.B):function(t){setTimeout(o((function(){U(this)}),t),50)}(t):X(t,t.v)}function X(t,e){setTimeout(o((function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),e(this.a)}),t),0)}function Y(t,e,n){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=n}N.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),U(this)};var j=null;function G(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&d(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),I(t,"active")):R(t.a))}function H(t){this.j=t,this.a=new C,this.h=0,this.f=this.g=!0}function W(t,e,n,i,r){var a=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=r||null,s=i||{};if(0===n.length&&a)R(e.a);else{e.f+=n.length,a&&(e.j=a);var u,l=[];for(u=0;u<n.length;u++){var h=n[u],c=s[h.c],f=e.a,p=h;if(f.g&&d(f.f,[f.a.c("wf",p.c,S(p).toString(),"loading")]),I(f,"fontloading",p),f=null,null===j)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var v=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);j=p?42<parseInt(p[1],10):!v}else j=!1;f=j?new D(o(e.g,e),o(e.h,e),e.c,h,e.s,c):new N(o(e.g,e),o(e.h,e),e.c,h,e.s,t,c),l.push(f)}for(u=0;u<l.length;u++)l[u].start()}}),0)}function z(t,e){this.c=t,this.a=e}function q(t,e){this.c=t,this.a=e}function Z(t,e){this.c=t||K,this.a=[],this.f=[],this.g=e||""}Y.prototype.g=function(t){var e=this.a;e.g&&d(e.f,[e.a.c("wf",t.c,S(t).toString(),"active")],[e.a.c("wf",t.c,S(t).toString(),"loading"),e.a.c("wf",t.c,S(t).toString(),"inactive")]),I(e,"fontactive",t),this.m=!0,G(this)},Y.prototype.h=function(t){var e=this.a;if(e.g){var n=p(e.f,e.a.c("wf",t.c,S(t).toString(),"active")),i=[],r=[e.a.c("wf",t.c,S(t).toString(),"loading")];n||i.push(e.a.c("wf",t.c,S(t).toString(),"inactive")),d(e.f,i,r)}I(e,"fontinactive",t),G(this)},H.prototype.load=function(t){this.c=new u(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,n){var i=[],r=n.timeout;!function(t){t.g&&d(t.f,[t.a.c("wf","loading")]),I(t,"loading")}(e);i=function(t,e,n){var i,r=[];for(i in e)if(e.hasOwnProperty(i)){var a=t.c[i];a&&r.push(a(e[i],n))}return r}(t.a,n,t.c);var a=new Y(t.c,e,r);for(t.h=i.length,e=0,n=i.length;e<n;e++)i[e].load((function(e,n,i){W(t,a,e,n,i)}))}(this,new A(this.c,t),t)},z.prototype.load=function(t){function e(){if(a["__mti_fntLst"+i]){var n,r=a["__mti_fntLst"+i](),o=[];if(r)for(var s=0;s<r.length;s++){var u=r[s].fontfamily;null!=r[s].fontStyle&&null!=r[s].fontWeight?(n=r[s].fontStyle+r[s].fontWeight,o.push(new w(u,n))):o.push(new w(u))}t(o)}else setTimeout((function(){e()}),50)}var n=this,i=n.a.projectId,r=n.a.version;if(i){var a=n.c.o;_(this.c,(n.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(r?"?v="+r:""),(function(r){r?t([]):(a["__MonotypeConfiguration__"+i]=function(){return n.a},e())})).id="__MonotypeAPIScript__"+i}else t([])},q.prototype.load=function(t){var e,n,i=this.a.urls||[],r=this.a.families||[],a=this.a.testStrings||{},o=new m;for(e=0,n=i.length;e<n;e++)v(this.c,i[e],y(o));var s=[];for(e=0,n=r.length;e<n;e++)if((i=r[e].split(":"))[1])for(var u=i[1].split(","),l=0;l<u.length;l+=1)s.push(new w(i[0],u[l]));else s.push(new w(i[0]));g(o,(function(){t(s,a)}))};var K="https://fonts.googleapis.com/css";function $(t){this.f=t,this.a=[],this.c={}}var Q={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},J={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function nt(t,e){this.c=t,this.a=e}var it={Arimo:!0,Cousine:!0,Tinos:!0};function rt(t,e){this.c=t,this.a=e}function at(t,e){this.c=t,this.f=e,this.a=[]}nt.prototype.load=function(t){var e=new m,n=this.c,i=new Z(this.a.api,this.a.text),r=this.a.families;!function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i].split(":");3==r.length&&t.f.push(r.pop());var a="";2==r.length&&""!=r[1]&&(a=":"),t.a.push(r.join(a))}}(i,r);var a=new $(r);!function(t){for(var e=t.f.length,n=0;n<e;n++){var i=t.f[n].split(":"),r=i[0].replace(/\+/g," "),a=["n4"];if(2<=i.length){var o;if(o=[],s=i[1])for(var s,u=(s=s.split(",")).length,l=0;l<u;l++){var h;if((h=s[l]).match(/^[\w-]+$/))if(null==(c=et.exec(h.toLowerCase())))h="";else{if(h=null==(h=c[2])||""==h?"n":tt[h],null==(c=c[1])||""==c)c="4";else var c=J[c]||(isNaN(c)?"4":c.substr(0,1));h=[h,c].join("")}else h="";h&&o.push(h)}0<o.length&&(a=o),3==i.length&&(o=[],0<(i=(i=i[2])?i.split(","):o).length&&(i=Q[i[0]])&&(t.c[r]=i))}for(t.c[r]||(i=Q[r])&&(t.c[r]=i),i=0;i<a.length;i+=1)t.a.push(new w(r,a[i]))}}(a),v(n,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,n=[],i=0;i<e;i++)n.push(t.a[i].replace(/ /g,"+"));return e=t.c+"?family="+n.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(i),y(e)),g(e,(function(){t(a.a,a.c,it)}))},rt.prototype.load=function(t){var e=this.a.id,n=this.c.o;e?_(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){e=n.Typekit.config.fn;for(var i=[],r=0;r<e.length;r+=2)for(var a=e[r],o=e[r+1],s=0;s<o.length;s++)i.push(new w(a,o[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(i)}}),2e3):t([])},at.prototype.load=function(t){var e=this.f.id,n=this.c.o,i=this;e?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[e]=function(e,n){for(var r=0,a=n.fonts.length;r<a;++r){var o=n.fonts[r];i.a.push(new w(o.name,T("font-weight:"+o.weight+";font-style:"+o.style)))}t(i.a)},_(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var ot=new H(window);ot.a.c.custom=function(t,e){return new q(e,t)},ot.a.c.fontdeck=function(t,e){return new at(e,t)},ot.a.c.monotype=function(t,e){return new z(e,t)},ot.a.c.typekit=function(t,e){return new rt(e,t)},ot.a.c.google=function(t,e){return new nt(e,t)};var st={load:o(ot.load,ot)};void 0===(i=function(){return st}.call(e,n,e,t))||(t.exports=i)}()}}]);